"use strict";(self.webpackChunkUI=self.webpackChunkUI||[]).push([[179],{203:()=>{function $e(n){return"function"==typeof n}function Ec(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Sh=Ec(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,o)=>`${o+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ra(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ii{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:i}=this;if($e(i))try{i()}catch(r){e=r instanceof Sh?r.errors:[r]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const r of o)try{eE(r)}catch(s){e=e??[],s instanceof Sh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eE(e);else{if(e instanceof ii){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ra(t,e)}remove(e){const{_finalizers:t}=this;t&&Ra(t,e),e instanceof ii&&e._removeParent(this)}}ii.EMPTY=(()=>{const n=new ii;return n.closed=!0,n})();const XS=ii.EMPTY;function JS(n){return n instanceof ii||n&&"closed"in n&&$e(n.remove)&&$e(n.add)&&$e(n.unsubscribe)}function eE(n){$e(n)?n():n.unsubscribe()}const gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Eh={setTimeout(n,e,...t){const{delegate:i}=Eh;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Eh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function tE(n){Eh.setTimeout(()=>{const{onUnhandledError:e}=gs;if(!e)throw n;e(n)})}function Fg(){}const Ek=Pg("C",void 0,void 0);function Pg(n,e,t){return{kind:n,value:e,error:t}}let vs=null;function xh(n){if(gs.useDeprecatedSynchronousErrorHandling){const e=!vs;if(e&&(vs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=vs;if(vs=null,t)throw i}}else n()}class Ng extends ii{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,JS(e)&&e.add(this)):this.destination=Ik}static create(e,t,i){return new xc(e,t,i)}next(e){this.isStopped?kg(function Dk(n){return Pg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?kg(function xk(n){return Pg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kg(Ek,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Tk=Function.prototype.bind;function Lg(n,e){return Tk.call(n,e)}class Mk{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Dh(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Dh(i)}else Dh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Dh(t)}}}class xc extends Ng{constructor(e,t,i){let o;if(super(),$e(e)||!e)o={next:e??void 0,error:t??void 0,complete:i??void 0};else{let r;this&&gs.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Lg(e.next,r),error:e.error&&Lg(e.error,r),complete:e.complete&&Lg(e.complete,r)}):o=e}this.destination=new Mk(o)}}function Dh(n){gs.useDeprecatedSynchronousErrorHandling?function Rk(n){gs.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=n)}(n):tE(n)}function kg(n,e){const{onStoppedNotification:t}=gs;t&&Eh.setTimeout(()=>t(n,e))}const Ik={closed:!0,next:Fg,error:function Ak(n){throw n},complete:Fg},Gg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mr(n){return n}function iE(n){return 0===n.length?Mr:1===n.length?n[0]:function(t){return n.reduce((i,o)=>o(i),t)}}let lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,o){const r=function Pk(n){return n&&n instanceof Ng||function Fk(n){return n&&$e(n.next)&&$e(n.error)&&$e(n.complete)}(n)&&JS(n)}(t)?t:new xc(t,i,o);return xh(()=>{const{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=nE(i))((o,r)=>{const s=new xc({next:a=>{try{t(a)}catch(l){r(l),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Gg](){return this}pipe(...t){return iE(t)(this)}toPromise(t){return new(t=nE(t))((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return n.create=e=>new n(e),n})();function nE(n){var e;return null!==(e=n??gs.Promise)&&void 0!==e?e:Promise}const Nk=Ec(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ni=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new oE(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Nk}next(t){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:o,observers:r}=this;return i||o?XS:(this.currentObservers=null,r.push(t),new ii(()=>{this.currentObservers=null,Ra(r,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:o,isStopped:r}=this;i?t.error(o):r&&t.complete()}asObservable(){const t=new lt;return t.source=this,t}}return n.create=(e,t)=>new oE(e,t),n})();class oE extends ni{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:XS}}class vn extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function rE(n){return $e(n?.lift)}function xt(n){return e=>{if(rE(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(n,e,t,i,o){return new Lk(n,e,t,i,o)}class Lk extends Ng{constructor(e,t,i,o,r,s){super(e),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(n,e){return xt((t,i)=>{let o=0;t.subscribe(vt(i,r=>{i.next(n.call(e,r,o++))}))})}function Ar(n){return this instanceof Ar?(this.v=n,this):new Ar(n)}function cE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function jg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(s){return new Promise(function(a,l){!function o(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}(a,l,(s=n[r](s)).done,s.value)})}}}const dE=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function uE(n){return $e(n?.then)}function hE(n){return $e(n[Gg])}function pE(n){return Symbol.asyncIterator&&$e(n?.[Symbol.asyncIterator])}function fE(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mE=function t1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gE(n){return $e(n?.[mE])}function vE(n){return function lE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=t.apply(n,e||[]),r=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(h){i[h]&&(o[h]=function(p){return new Promise(function(g,m){r.push([h,p,g,m])>1||a(h,p)})})}function a(h,p){try{!function l(h){h.value instanceof Ar?Promise.resolve(h.value.v).then(c,d):u(r[0][2],h)}(i[h](p))}catch(g){u(r[0][3],g)}}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,p){h(p),r.shift(),r.length&&a(r[0][0],r[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:o}=yield Ar(t.read());if(o)return yield Ar(void 0);yield yield Ar(i)}}finally{t.releaseLock()}})}function CE(n){return $e(n?.getReader)}function zi(n){if(n instanceof lt)return n;if(null!=n){if(hE(n))return function n1(n){return new lt(e=>{const t=n[Gg]();if($e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(dE(n))return function o1(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(uE(n))return function r1(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,tE)})}(n);if(pE(n))return bE(n);if(gE(n))return function s1(n){return new lt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(CE(n))return function a1(n){return bE(vE(n))}(n)}throw fE(n)}function bE(n){return new lt(e=>{(function l1(n,e){var t,i,o,r;return function sE(n,e,t,i){return new(t||(t=Promise))(function(r,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?r(d.value):function o(r){return r instanceof t?r:new t(function(s){s(r)})}(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=cE(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Jo(n,e,t,i=0,o=!1){const r=e.schedule(function(){t(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!o)return r}function Qt(n,e,t=1/0){return $e(e)?Qt((i,o)=>Ce((r,s)=>e(i,r,o,s))(zi(n(i,o))),t):("number"==typeof e&&(t=e),xt((i,o)=>function c1(n,e,t,i,o,r,s,a){const l=[];let c=0,d=0,u=!1;const h=()=>{u&&!l.length&&!c&&e.complete()},p=m=>c<i?g(m):l.push(m),g=m=>{r&&e.next(m),c++;let C=!1;zi(t(m,d++)).subscribe(vt(e,_=>{o?.(_),r?p(_):e.next(_)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const _=l.shift();s?Jo(e,s,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(vt(e,p,()=>{u=!0,h()})),()=>{a?.()}}(i,o,n,t)))}function Ta(n=1/0){return Qt(Mr,n)}const fo=new lt(n=>n.complete());function Ug(n){return n[n.length-1]}function _E(n){return $e(Ug(n))?n.pop():void 0}function Dc(n){return function u1(n){return n&&$e(n.schedule)}(Ug(n))?n.pop():void 0}function yE(n,e=0){return xt((t,i)=>{t.subscribe(vt(i,o=>Jo(i,n,()=>i.next(o),e),()=>Jo(i,n,()=>i.complete(),e),o=>Jo(i,n,()=>i.error(o),e)))})}function wE(n,e=0){return xt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function SE(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{Jo(t,e,()=>{const i=n[Symbol.asyncIterator]();Jo(t,e,()=>{i.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function It(n,e){return e?function C1(n,e){if(null!=n){if(hE(n))return function p1(n,e){return zi(n).pipe(wE(e),yE(e))}(n,e);if(dE(n))return function m1(n,e){return new lt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(uE(n))return function f1(n,e){return zi(n).pipe(wE(e),yE(e))}(n,e);if(pE(n))return SE(n,e);if(gE(n))return function g1(n,e){return new lt(t=>{let i;return Jo(t,e,()=>{i=n[mE](),Jo(t,e,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){return void t.error(s)}r?t.complete():t.next(o)},0,!0)}),()=>$e(i?.return)&&i.return()})}(n,e);if(CE(n))return function v1(n,e){return SE(vE(n),e)}(n,e)}throw fE(n)}(n,e):zi(n)}function Q(...n){return It(n,Dc(n))}function Wg(n={}){const{connector:e=(()=>new ni),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:o=!0}=n;return r=>{let s,a,l,c=0,d=!1,u=!1;const h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),s=l=void 0,d=u=!1},g=()=>{const m=s;p(),m?.unsubscribe()};return xt((m,C)=>{c++,!u&&!d&&h();const _=l=l??e();C.add(()=>{c--,0===c&&!u&&!d&&(a=zg(g,o))}),_.subscribe(C),!s&&c>0&&(s=new xc({next:b=>_.next(b),error:b=>{u=!0,h(),a=zg(p,t,b),_.error(b)},complete:()=>{d=!0,h(),a=zg(p,i),_.complete()}}),zi(m).subscribe(s))})(r)}}function zg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new xc({next:()=>{i.unsubscribe(),n()}});return zi(e(...t)).subscribe(i)}function Hn(n,e){return xt((t,i)=>{let o=null,r=0,s=!1;const a=()=>s&&!o&&i.complete();t.subscribe(vt(i,l=>{o?.unsubscribe();let c=0;const d=r++;zi(n(l,d)).subscribe(o=vt(i,u=>i.next(e?e(l,u,d,c++):u),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function _1(n,e){return n===e}function Ue(n){for(let e in n)if(n[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function $g(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ot(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ot).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Kg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const y1=Ue({__forward_ref__:Ue});function qe(n){return n.__forward_ref__=qe,n.toString=function(){return Ot(this())},n}function se(n){return qg(n)?n():n}function qg(n){return"function"==typeof n&&n.hasOwnProperty(y1)&&n.__forward_ref__===qe}function Yg(n){return n&&!!n.\u0275providers}const xE="https://g.co/ng/security#xss";class S extends Error{constructor(e,t){super(function Rh(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function Th(n,e){throw new S(-201,!1)}function Cn(n,e){null==n&&function je(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mh(n){return DE(n,Ah)||DE(n,TE)}function DE(n,e){return n.hasOwnProperty(e)?n[e]:null}function RE(n){return n&&(n.hasOwnProperty(Qg)||n.hasOwnProperty(M1))?n[Qg]:null}const Ah=Ue({\u0275prov:Ue}),Qg=Ue({\u0275inj:Ue}),TE=Ue({ngInjectableDef:Ue}),M1=Ue({ngInjectorDef:Ue});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let Zg;function Di(n){const e=Zg;return Zg=n,e}function AE(n,e,t){const i=Mh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&J.Optional?null:void 0!==e?e:void Th(Ot(n))}const Xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rc={},Xg="__NG_DI_FLAG__",Ih="ngTempTokenPath",I1=/\n/gm,IE="__source";let Ma;function Or(n){const e=Ma;return Ma=n,e}function P1(n,e=J.Default){if(void 0===Ma)throw new S(-203,!1);return null===Ma?AE(n,void 0,e):Ma.get(n,e&J.Optional?null:void 0,e)}function L(n,e=J.Default){return(function ME(){return Zg}()||P1)(se(n),e)}function k(n,e=J.Default){return L(n,Oh(e))}function Oh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jg(n){const e=[];for(let t=0;t<n.length;t++){const i=se(n[t]);if(Array.isArray(i)){if(0===i.length)throw new S(900,!1);let o,r=J.Default;for(let s=0;s<i.length;s++){const a=i[s],l=N1(a);"number"==typeof l?-1===l?o=a.token:r|=l:o=a}e.push(L(o,r))}else e.push(L(i))}return e}function Tc(n,e){return n[Xg]=e,n.prototype[Xg]=e,n}function N1(n){return n[Xg]}function er(n){return{toString:n}.toString()}var mo=(()=>((mo=mo||{})[mo.OnPush=0]="OnPush",mo[mo.Default=1]="Default",mo))(),Ri=(()=>{return(n=Ri||(Ri={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ri;var n})();const tr={},Pe=[],Fh=Ue({\u0275cmp:Ue}),ev=Ue({\u0275dir:Ue}),tv=Ue({\u0275pipe:Ue}),FE=Ue({\u0275mod:Ue}),ir=Ue({\u0275fac:Ue}),Mc=Ue({__NG_ELEMENT_ID__:Ue}),PE=Ue({__NG_ENV_ID__:Ue});function NE(n,e,t){let i=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const r=e.length;if(o+r===i||n.charCodeAt(o+r)<=32)return o}t=o+1}}function iv(n,e,t){let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const r=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,r)}else{const r=o,s=t[++i];kE(r)?n.setProperty(e,r,s):n.setAttribute(e,r,s),i++}}return i}function LE(n){return 3===n||4===n||6===n}function kE(n){return 64===n.charCodeAt(0)}function Ac(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?t=o:0===t||GE(n,t,o,null,-1===t||2===t?e[++i]:null)}}return n}function GE(n,e,t,i,o){let r=0,s=n.length;if(-1===e)s=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==o&&(n[r+1]=o));if(i===n[r+1])return void(n[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==s&&(n.splice(s,0,e),r=s+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==o&&n.splice(r++,0,o)}const VE="ng-template";function G1(n,e,t){let i=0,o=!0;for(;i<n.length;){let r=n[i++];if("string"==typeof r&&o){const s=n[i++];if(t&&"class"===r&&-1!==NE(s.toLowerCase(),e,0))return!0}else{if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}"number"==typeof r&&(o=!1)}}return!1}function HE(n){return 4===n.type&&n.value!==VE}function V1(n,e,t){return e===(4!==n.type||t?n.value:VE)}function H1(n,e,t){let i=4;const o=n.attrs||[],r=function U1(n){for(let e=0;e<n.length;e++)if(LE(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!V1(n,l,t)||""===l&&1===e.length){if(Bn(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!G1(n.attrs,c,t)){if(Bn(i))return!1;s=!0}continue}const u=B1(8&i?"class":l,o,HE(n),t);if(-1===u){if(Bn(i))return!1;s=!0;continue}if(""!==c){let h;h=u>r?"":o[u+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==NE(p,c,0)||2&i&&c!==h){if(Bn(i))return!1;s=!0}}}}else{if(!s&&!Bn(i)&&!Bn(l))return!1;if(s&&Bn(l))continue;s=!1,i=l|1&i}}return Bn(i)||s}function Bn(n){return 0==(1&n)}function B1(n,e,t,i){if(null===e)return-1;let o=0;if(i||!t){let r=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)r=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=r?1:2}return-1}return function W1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function BE(n,e,t=!1){for(let i=0;i<e.length;i++)if(H1(n,e[i],t))return!0;return!1}function jE(n,e){return n?":not("+e.trim()+")":e}function $1(n){let e=n[0],t=1,i=2,o="",r=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?o+="."+s:4&i&&(o+=" "+s);else""!==o&&!Bn(s)&&(e+=jE(r,o),o=""),i=s,r=r||!Bn(i);t++}return""!==o&&(e+=jE(r,o)),e}function oi(n){return er(()=>{const e=WE(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===mo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Ri.Emulated,styles:n.styles||Pe,_:null,schemas:n.schemas||null,tView:null,id:""};zE(t);const i=n.dependencies;return t.directiveDefs=Ph(i,!1),t.pipeDefs=Ph(i,!0),t.id=function eG(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const o of t)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Q1(n){return ke(n)||ri(n)}function Z1(n){return null!==n}function Le(n){return er(()=>({type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function UE(n,e){if(null==n)return tr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let o=n[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),t[o]=i,e&&(e[o]=r)}return t}function U(n){return er(()=>{const e=WE(n);return zE(e),e})}function ke(n){return n[Fh]||null}function ri(n){return n[ev]||null}function Mi(n){return n[tv]||null}function Ki(n,e){const t=n[FE]||null;if(!t&&!0===e)throw new Error(`Type ${Ot(n)} does not have '\u0275mod' property.`);return t}function WE(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:UE(n.inputs,e),outputs:UE(n.outputs)}}function zE(n){n.features?.forEach(e=>e(n))}function Ph(n,e){if(!n)return null;const t=e?Mi:Q1;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Z1)}const Ft=0,B=1,ue=2,ct=3,jn=4,Cs=5,si=6,Ia=7,mt=8,Oa=9,bs=10,ce=11,Ic=12,$E=13,Fa=14,Dt=15,Oc=16,Pa=17,go=18,Fc=19,KE=20,Fr=21,nr=22,Nh=23,Lh=24,Se=25,nv=1,qE=2,vo=7,kh=8,Na=9,Zt=11;function qi(n){return Array.isArray(n)&&"object"==typeof n[nv]}function Ai(n){return Array.isArray(n)&&!0===n[nv]}function ov(n){return 0!=(4&n.flags)}function _s(n){return n.componentOffset>-1}function Gh(n){return 1==(1&n.flags)}function Un(n){return!!n.template}function rv(n){return 0!=(512&n[ue])}function ys(n,e){return n.hasOwnProperty(ir)?n[ir]:null}let rG=Xe.WeakRef??class oG{constructor(e){this.ref=e}deref(){return this.ref}},aG=0,Co=null,Vh=!1;function Ut(n){const e=Co;return Co=n,e}class JE{constructor(){this.id=aG++,this.ref=function sG(n){return new rG(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const i=t.producerNode.deref();if(void 0!==i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Vh;Vh=!0;try{for(const[t,i]of this.consumers){const o=i.consumerNode.deref();void 0!==o&&o.trackingVersion===i.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),o?.producers.delete(this.id))}}finally{Vh=e}}producerAccessed(){if(Vh)throw new Error("");if(null===Co)return;let e=Co.producers.get(this.id);void 0===e?(e={consumerNode:Co.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Co.trackingVersion},Co.producers.set(this.id,e),this.consumers.set(Co.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Co.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Co?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let ex=null;const ix=()=>{};class uG extends JE{constructor(e,t,i){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=ix,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Ut(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ix,this.watch(this.registerOnCleanup)}finally{Ut(e)}}cleanup(){this.cleanupFn()}}class hG{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ii(){return nx}function nx(n){return n.type.prototype.ngOnChanges&&(n.setInput=fG),pG}function pG(){const n=rx(this),e=n?.current;if(e){const t=n.previous;if(t===tr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function fG(n,e,t,i){const o=this.declaredInputs[t],r=rx(n)||function mG(n,e){return n[ox]=e}(n,{previous:tr,current:null}),s=r.current||(r.current={}),a=r.previous,l=a[o];s[o]=new hG(l&&l.currentValue,e,a===tr),n[i]=e}Ii.ngInherit=!0;const ox="__ngSimpleChanges__";function rx(n){return n[ox]||null}const bo=function(n,e,t){};function tt(n){for(;Array.isArray(n);)n=n[Ft];return n}function jh(n,e){return tt(e[n])}function Oi(n,e){return tt(e[n.index])}function lx(n,e){return n.data[e]}function Fi(n,e){const t=e[n];return qi(t)?t:t[Ft]}function Uh(n){return 128==(128&n[ue])}function Pr(n,e){return null==e?null:n[e]}function cx(n){n[Pa]=0}function yG(n){1024&n[ue]||(n[ue]|=1024,ux(n,1))}function dx(n){1024&n[ue]&&(n[ue]&=-1025,ux(n,-1))}function ux(n,e){let t=n[ct];if(null===t)return;t[Cs]+=e;let i=t;for(t=t[ct];null!==t&&(1===e&&1===i[Cs]||-1===e&&0===i[Cs]);)t[Cs]+=e,i=t,t=t[ct]}const oe={lFrame:wx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fx(){return oe.bindingsEnabled}function I(){return oe.lFrame.lView}function Te(){return oe.lFrame.tView}function Ga(n){return oe.lFrame.contextLView=n,n[mt]}function Va(n){return oe.lFrame.contextLView=null,n}function Xt(){let n=mx();for(;null!==n&&64===n.type;)n=n.parent;return n}function mx(){return oe.lFrame.currentTNode}function _o(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function uv(){return oe.lFrame.isParent}function Ha(){return oe.lFrame.bindingIndex++}function FG(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,pv(e)}function pv(n){oe.lFrame.currentDirectiveIndex=n}function bx(){return oe.lFrame.currentQueryIndex}function mv(n){oe.lFrame.currentQueryIndex=n}function NG(n){const e=n[B];return 2===e.type?e.declTNode:1===e.type?n[si]:null}function _x(n,e,t){if(t&J.SkipSelf){let o=e,r=n;for(;!(o=o.parent,null!==o||t&J.Host||(o=NG(r),null===o||(r=r[Fa],10&o.type))););if(null===o)return!1;e=o,n=r}const i=oe.lFrame=yx();return i.currentTNode=e,i.lView=n,!0}function gv(n){const e=yx(),t=n[B];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function yx(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?wx(n):e}function wx(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Sx(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ex=Sx;function vv(){const n=Sx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gi(){return oe.lFrame.selectedIndex}function ws(n){oe.lFrame.selectedIndex=n}function dt(){const n=oe.lFrame;return lx(n.tView,n.selectedIndex)}let Tx=!0;function Wh(){return Tx}function Nr(n){Tx=n}function zh(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=r;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function $h(n,e,t){Mx(n,e,3,t)}function Kh(n,e,t,i){(3&n[ue])===t&&Mx(n,e,t,i)}function Cv(n,e){let t=n[ue];(3&t)===e&&(t&=4095,t+=1,n[ue]=t)}function Mx(n,e,t,i){const r=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Pa]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Pa]+=65536),(a<r||-1==r)&&(BG(n,t,e,l),n[Pa]=(4294901760&n[Pa])+l+2),l++}function Ax(n,e){bo(4,n,e);const t=Ut(null);try{e.call(n)}finally{Ut(t),bo(5,n,e)}}function BG(n,e,t,i){const o=t[i]<0,r=t[i+1],a=n[o?-t[i]:t[i]];o?n[ue]>>12<n[Pa]>>16&&(3&n[ue])===e&&(n[ue]+=4096,Ax(a,r)):Ax(a,r)}const Ba=-1;class Lc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Ix(n){return n!==Ba}function qh(n){return 32767&n}function Yh(n,e){let t=function zG(n){return n>>16}(n),i=e;for(;t>0;)i=i[Fa],t--;return i}let _v=!0;function Qh(n){const e=_v;return _v=n,e}const Ox=255,Fx=5;let $G=0;const yo={};function Zh(n,e){const t=Px(n,e);if(-1!==t)return t;const i=e[B];i.firstCreatePass&&(n.injectorIndex=e.length,yv(i.data,n),yv(e,null),yv(i.blueprint,null));const o=wv(n,e),r=n.injectorIndex;if(Ix(o)){const s=qh(o),a=Yh(o,e),l=a[B].data;for(let c=0;c<8;c++)e[r+c]=a[s+c]|l[s+c]}return e[r+8]=o,r}function yv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Px(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function wv(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,o=e;for(;null!==o;){if(i=Bx(o),null===i)return Ba;if(t++,o=o[Fa],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ba}function Sv(n,e,t){!function KG(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Mc)&&(i=t[Mc]),null==i&&(i=t[Mc]=$G++);const o=i&Ox;e.data[n+(o>>Fx)]|=1<<o}(n,e,t)}function Nx(n,e,t){if(t&J.Optional||void 0!==n)return n;Th()}function Lx(n,e,t,i){if(t&J.Optional&&void 0===i&&(i=null),!(t&(J.Self|J.Host))){const o=n[Oa],r=Di(void 0);try{return o?o.get(e,i,t&J.Optional):AE(e,i,t&J.Optional)}finally{Di(r)}}return Nx(i,0,t)}function kx(n,e,t,i=J.Default,o){if(null!==n){if(2048&e[ue]&&!(i&J.Self)){const s=function XG(n,e,t,i,o){let r=n,s=e;for(;null!==r&&null!==s&&2048&s[ue]&&!(512&s[ue]);){const a=Gx(r,s,t,i|J.Self,yo);if(a!==yo)return a;let l=r.parent;if(!l){const c=s[KE];if(c){const d=c.get(t,yo,i);if(d!==yo)return d}l=Bx(s),s=s[Fa]}r=l}return o}(n,e,t,i,yo);if(s!==yo)return s}const r=Gx(n,e,t,i,yo);if(r!==yo)return r}return Lx(e,t,i,o)}function Gx(n,e,t,i,o){const r=function QG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Mc)?n[Mc]:void 0;return"number"==typeof e?e>=0?e&Ox:ZG:e}(t);if("function"==typeof r){if(!_x(e,n,i))return i&J.Host?Nx(o,0,i):Lx(e,t,i,o);try{const s=r(i);if(null!=s||i&J.Optional)return s;Th()}finally{Ex()}}else if("number"==typeof r){let s=null,a=Px(n,e),l=Ba,c=i&J.Host?e[Dt][si]:null;for((-1===a||i&J.SkipSelf)&&(l=-1===a?wv(n,e):e[a+8],l!==Ba&&Hx(i,!1)?(s=e[B],a=qh(l),e=Yh(l,e)):a=-1);-1!==a;){const d=e[B];if(Vx(r,a,d.data)){const u=YG(a,e,t,s,i,c);if(u!==yo)return u}l=e[a+8],l!==Ba&&Hx(i,e[B].data[a+8]===c)&&Vx(r,a,e)?(s=d,a=qh(l),e=Yh(l,e)):a=-1}}return o}function YG(n,e,t,i,o,r){const s=e[B],a=s.data[n+8],d=Xh(a,s,t,null==i?_s(a)&&_v:i!=s&&0!=(3&a.type),o&J.Host&&r===a);return null!==d?Ss(e,s,d,a):yo}function Xh(n,e,t,i,o){const r=n.providerIndexes,s=e.data,a=1048575&r,l=n.directiveStart,d=r>>20,h=o?a+d:n.directiveEnd;for(let p=i?a:a+d;p<h;p++){const g=s[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(o){const p=s[l];if(p&&Un(p)&&p.type===t)return l}return null}function Ss(n,e,t,i){let o=n[t];const r=e.data;if(function jG(n){return n instanceof Lc}(o)){const s=o;s.resolving&&function w1(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new S(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(r[t]));const a=Qh(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Di(s.injectImpl):null;_x(n,i,J.Default);try{o=n[t]=s.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function HG(n,e,t){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=e.type.prototype;if(i){const s=nx(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),r&&((t.preOrderHooks??=[]).push(n,r),(t.preOrderCheckHooks??=[]).push(n,r))}(t,r[t],e)}finally{null!==l&&Di(l),Qh(a),s.resolving=!1,Ex()}}return o}function Vx(n,e,t){return!!(t[e+(n>>Fx)]&1<<n)}function Hx(n,e){return!(n&J.Self||n&J.Host&&e)}class ja{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return kx(this._tNode,this._lView,e,Oh(i),t)}}function ZG(){return new ja(Xt(),I())}function Rt(n){return er(()=>{const e=n.prototype.constructor,t=e[ir]||Ev(e),i=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;){const r=o[ir]||Ev(o);if(r&&r!==t)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function Ev(n){return qg(n)?()=>{const e=Ev(se(n));return e&&e()}:ys(n)}function Bx(n){const e=n[B],t=e.type;return 2===t?e.declTNode:1===t?n[si]:null}const Wa="__parameters__";function $a(n,e,t){return er(()=>{const i=function xv(n){return function(...t){if(n){const i=n(...t);for(const o in i)this[o]=i[o]}}}(e);function o(...r){if(this instanceof o)return i.apply(this,r),this;const s=new o(...r);return a.annotation=s,a;function a(l,c,d){const u=l.hasOwnProperty(Wa)?l[Wa]:Object.defineProperty(l,Wa,{value:[]})[Wa];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}function Vc(n,e){n.forEach(t=>Array.isArray(t)?Vc(t,e):e(t))}function Ux(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ep(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Yi(n,e,t){let i=Ka(n,e);return i>=0?n[1|i]=t:(i=~i,function nV(n,e,t,i){let o=n.length;if(o==e)n.push(t,i);else if(1===o)n.push(i,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Dv(n,e){const t=Ka(n,e);if(t>=0)return n[1|t]}function Ka(n,e){return function Wx(n,e,t){let i=0,o=n.length>>t;for(;o!==i;){const r=i+(o-i>>1),s=n[r<<t];if(e===s)return r<<t;s>e?o=r:i=r+1}return~(o<<t)}(n,e,1)}const Es=Tc($a("Optional"),8),Bc=Tc($a("SkipSelf"),4);function rp(n){return 128==(128&n.flags)}var Pi=(()=>((Pi=Pi||{})[Pi.Important=1]="Important",Pi[Pi.DashCase=2]="DashCase",Pi))();const Ov=new Map;let RV=0;const Pv="__ngContext__";function ai(n,e){qi(e)?(n[Pv]=e[Fc],function MV(n){Ov.set(n[Fc],n)}(e)):n[Pv]=e}let Nv;function Lv(n,e){return Nv(n,e)}function Wc(n){const e=n[ct];return Ai(e)?e[ct]:e}function kv(n){return d0(n[Ic])}function Gv(n){return d0(n[jn])}function d0(n){for(;null!==n&&!Ai(n);)n=n[jn];return n}function Qa(n,e,t,i,o){if(null!=i){let r,s=!1;Ai(i)?r=i:qi(i)&&(s=!0,i=i[Ft]);const a=tt(i);0===n&&null!==t?null==o?m0(e,t,a):xs(e,t,a,o||null,!0):1===n&&null!==t?xs(e,t,a,o||null,!0):2===n?function up(n,e,t){const i=cp(n,e);i&&function qV(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=r&&function ZV(n,e,t,i,o){const r=t[vo];r!==tt(t)&&Qa(e,n,i,r,o);for(let a=Zt;a<t.length;a++){const l=t[a];$c(l[B],l,n,e,i,r)}}(e,n,r,t,o)}}function lp(n,e,t){return n.createElement(e,t)}function h0(n,e){const t=n[Na],i=t.indexOf(e);dx(e),t.splice(i,1)}function Hv(n,e){if(n.length<=Zt)return;const t=Zt+e,i=n[t];if(i){const o=i[Oc];null!==o&&o!==n&&h0(o,i),e>0&&(n[t-1][jn]=i[jn]);const r=ep(n,Zt+e);!function HV(n,e){$c(n,e,e[ce],2,null,null),e[Ft]=null,e[si]=null}(i[B],i);const s=r[go];null!==s&&s.detachView(r[B]),i[ct]=null,i[jn]=null,i[ue]&=-129}return i}function p0(n,e){if(!(256&e[ue])){const t=e[ce];e[Nh]?.destroy(),e[Lh]?.destroy(),t.destroyNode&&$c(n,e,t,3,null,null),function UV(n){let e=n[Ic];if(!e)return Bv(n[B],n);for(;e;){let t=null;if(qi(e))t=e[Ic];else{const i=e[Zt];i&&(t=i)}if(!t){for(;e&&!e[jn]&&e!==n;)qi(e)&&Bv(e[B],e),e=e[ct];null===e&&(e=n),qi(e)&&Bv(e[B],e),t=e&&e[jn]}e=t}}(e)}}function Bv(n,e){if(!(256&e[ue])){e[ue]&=-129,e[ue]|=256,function KV(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const o=e[t[i]];if(!(o instanceof Lc)){const r=t[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){const a=o[r[s]],l=r[s+1];bo(4,a,l);try{l.call(a)}finally{bo(5,a,l)}}else{bo(4,o,r);try{r.call(o)}finally{bo(5,o,r)}}}}}(n,e),function $V(n,e){const t=n.cleanup,i=e[Ia];if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const s=t[r+3];s>=0?i[s]():i[-s].unsubscribe(),r+=2}else t[r].call(i[t[r+1]]);null!==i&&(e[Ia]=null);const o=e[Fr];if(null!==o){e[Fr]=null;for(let r=0;r<o.length;r++)(0,o[r])()}}(n,e),1===e[B].type&&e[ce].destroy();const t=e[Oc];if(null!==t&&Ai(e[ct])){t!==e[ct]&&h0(t,e);const i=e[go];null!==i&&i.detachView(n)}!function AV(n){Ov.delete(n[Fc])}(e)}}function jv(n,e,t){return function f0(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Ft];{const{componentOffset:o}=i;if(o>-1){const{encapsulation:r}=n.data[i.directiveStart+o];if(r===Ri.None||r===Ri.Emulated)return null}return Oi(i,t)}}(n,e.parent,t)}function xs(n,e,t,i,o){n.insertBefore(e,t,i,o)}function m0(n,e,t){n.appendChild(e,t)}function g0(n,e,t,i,o){null!==i?xs(n,e,t,i,o):m0(n,e,t)}function cp(n,e){return n.parentNode(e)}let Uv,Kv,b0=function C0(n,e,t){return 40&n.type?Oi(n,t):null};function dp(n,e,t,i){const o=jv(n,i,e),r=e[ce],a=function v0(n,e,t){return b0(n,e,t)}(i.parent||e[si],i,e);if(null!=o)if(Array.isArray(t))for(let l=0;l<t.length;l++)g0(r,o,t[l],a,!1);else g0(r,o,t,a,!1);void 0!==Uv&&Uv(r,i,e,t,o)}function zc(n,e){if(null!==e){const t=e.type;if(3&t)return Oi(e,n);if(4&t)return Wv(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return zc(n,i);{const o=n[e.index];return Ai(o)?Wv(-1,o):tt(o)}}if(32&t)return Lv(e,n)()||tt(n[e.index]);{const i=y0(n,e);return null!==i?Array.isArray(i)?i[0]:zc(Wc(n[Dt]),i):zc(n,e.next)}}return null}function y0(n,e){return null!==e?n[Dt][si].projection[e.projection]:null}function Wv(n,e){const t=Zt+n+1;if(t<e.length){const i=e[t],o=i[B].firstChild;if(null!==o)return zc(i,o)}return e[vo]}function zv(n,e,t,i,o,r,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&ai(tt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)zv(n,e,t.child,i,o,r,!1),Qa(e,n,o,a,r);else if(32&l){const c=Lv(t,i);let d;for(;d=c();)Qa(e,n,o,d,r);Qa(e,n,o,a,r)}else 16&l?S0(n,e,i,t,o,r):Qa(e,n,o,a,r);t=s?t.projectionNext:t.next}}function $c(n,e,t,i,o,r){zv(t,i,n.firstChild,e,o,r,!1)}function S0(n,e,t,i,o,r){const s=t[Dt],l=s[si].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Qa(e,n,o,l[c],r);else{let c=l;const d=s[ct];rp(i)&&(c.flags|=128),zv(n,e,c,d,o,r,!0)}}function E0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function x0(n,e,t){const{mergedAttrs:i,classes:o,styles:r}=t;null!==i&&iv(n,e,i),null!==o&&E0(n,e,o),null!==r&&function JV(n,e,t){n.setAttribute(e,"style",t)}(n,e,r)}class Ds{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xE})`}}function Qi(n){return n instanceof Ds?n.changingThisBreaksApplicationSecurity:n}const CH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ge=(()=>((Ge=Ge||{})[Ge.NONE=0]="NONE",Ge[Ge.HTML=1]="HTML",Ge[Ge.STYLE=2]="STYLE",Ge[Ge.SCRIPT=3]="SCRIPT",Ge[Ge.URL=4]="URL",Ge[Ge.RESOURCE_URL=5]="RESOURCE_URL",Ge))();function Xv(n){const e=function Yc(){const n=I();return n&&n[bs].sanitizer}();return e?e.sanitize(Ge.URL,n)||"":function wo(n,e){const t=function cH(n){return n instanceof Ds&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${xE})`)}return t===e}(n,"URL")?Qi(n):function fp(n){return(n=String(n)).match(CH)?n:"unsafe:"+n}(le(n))}class O{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qc=new O("ENVIRONMENT_INITIALIZER"),G0=new O("INJECTOR",-1),V0=new O("INJECTOR_DEF_TYPES");class H0{get(e,t=Rc){if(t===Rc){const i=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw i.name="NullInjectorError",i}return t}}function AH(...n){return{\u0275providers:B0(0,n),\u0275fromNgModule:!0}}function B0(n,...e){const t=[],i=new Set;let o;return Vc(e,r=>{const s=r;eC(s,t,[],i)&&(o||=[],o.push(s))}),void 0!==o&&j0(o,t),t}function j0(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];tC(o,r=>{e.push(r)})}}function eC(n,e,t,i){if(!(n=se(n)))return!1;let o=null,r=RE(n);const s=!r&&ke(n);if(r||s){if(s&&!s.standalone)return!1;o=n}else{const l=n.ngModule;if(r=RE(l),!r)return!1;o=l}const a=i.has(o);if(s){if(a)return!1;if(i.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)eC(c,e,t,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let c;i.add(o);try{Vc(r.imports,d=>{eC(d,e,t,i)&&(c||=[],c.push(d))})}finally{}void 0!==c&&j0(c,e)}if(!a){const c=ys(o)||(()=>new o);e.push({provide:o,useFactory:c,deps:Pe},{provide:V0,useValue:o,multi:!0},{provide:Qc,useValue:()=>L(o),multi:!0})}const l=r.providers;null==l||a||tC(l,d=>{e.push(d)})}}return o!==n&&void 0!==n.providers}function tC(n,e){for(let t of n)Yg(t)&&(t=t.\u0275providers),Array.isArray(t)?tC(t,e):e(t)}const IH=Ue({provide:String,useValue:Ue});function iC(n){return null!==n&&"object"==typeof n&&IH in n}function Rs(n){return"function"==typeof n}const nC=new O("Set Injector scope."),gp={},FH={};let oC;function vp(){return void 0===oC&&(oC=new H0),oC}class So{}class rC extends So{get destroyed(){return this._destroyed}constructor(e,t,i,o){super(),this.parent=t,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,aC(e,s=>this.processProvider(s)),this.records.set(G0,Xa(void 0,this)),o.has("environment")&&this.records.set(So,Xa(void 0,this));const r=this.records.get(nC);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(V0.multi,Pe,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Or(this),i=Di(void 0);try{return e()}finally{Or(t),Di(i)}}get(e,t=Rc,i=J.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PE))return e[PE](this);i=Oh(i);const o=Or(this),r=Di(void 0);try{if(!(i&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function GH(n){return"function"==typeof n||"object"==typeof n&&n instanceof O}(e)&&Mh(e);a=l&&this.injectableDefInScope(l)?Xa(sC(e),gp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&J.Self?vp():this.parent).get(e,t=i&J.Optional&&t===Rc?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ih]=s[Ih]||[]).unshift(Ot(e)),o)throw s;return function L1(n,e,t,i){const o=n[Ih];throw e[IE]&&o.unshift(e[IE]),n.message=function k1(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=Ot(e);if(Array.isArray(e))o=e.map(Ot).join(" -> ");else if("object"==typeof e){let r=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];r.push(s+":"+("string"==typeof a?JSON.stringify(a):Ot(a)))}o=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${o}]: ${n.replace(I1,"\n  ")}`}("\n"+n.message,o,t,i),n.ngTokenPath=o,n[Ih]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Di(r),Or(o)}}resolveInjectorInitializers(){const e=Or(this),t=Di(void 0);try{const i=this.get(Qc.multi,Pe,J.Self);for(const o of i)o()}finally{Or(e),Di(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Ot(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let t=Rs(e=se(e))?e:se(e&&e.provide);const i=function NH(n){return iC(n)?Xa(void 0,n.useValue):Xa(z0(n),gp)}(e);if(Rs(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=Xa(void 0,gp,!0),o.factory=()=>Jg(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===gp&&(t.value=FH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function kH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function sC(n){const e=Mh(n),t=null!==e?e.factory:ys(n);if(null!==t)return t;if(n instanceof O)throw new S(204,!1);if(n instanceof Function)return function PH(n){const e=n.length;if(e>0)throw function Hc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new S(204,!1);const t=function T1(n){return n&&(n[Ah]||n[TE])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new S(204,!1)}function z0(n,e,t){let i;if(Rs(n)){const o=se(n);return ys(o)||sC(o)}if(iC(n))i=()=>se(n.useValue);else if(function W0(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Jg(n.deps||[]));else if(function U0(n){return!(!n||!n.useExisting)}(n))i=()=>L(se(n.useExisting));else{const o=se(n&&(n.useClass||n.provide));if(!function LH(n){return!!n.deps}(n))return ys(o)||sC(o);i=()=>new o(...Jg(n.deps))}return i}function Xa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function aC(n,e){for(const t of n)Array.isArray(t)?aC(t,e):t&&Yg(t)?aC(t.\u0275providers,e):e(t)}const Cp=new O("AppId",{providedIn:"root",factory:()=>VH}),VH="ng",$0=new O("Platform Initializer"),Lr=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bp=new O("AnimationModuleType"),lC=new O("CSP nonce",{providedIn:"root",factory:()=>function Kc(){if(void 0!==Kv)return Kv;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let q0=(n,e)=>null;function Y0(n,e){return q0(n,e)}class qH{}class X0{}class QH{resolveComponentFactory(e){throw function YH(n){const e=Error(`No component factory found for ${Ot(n)}.`);return e.ngComponent=n,e}(e)}}let ed=(()=>{class n{}return n.NULL=new QH,n})();function ZH(){return Ja(Xt(),I())}function Ja(n,e){return new Ct(Oi(n,e))}let Ct=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=ZH,n})();function XH(n){return n instanceof Ct?n.nativeElement:n}class td{}let ar=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function JH(){const n=I(),t=Fi(Xt().index,n);return(qi(t)?t:n)[ce]}(),n})(),eB=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class Ts{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tB=new Ts("16.0.5"),bC={};function id(n){for(;n;){n[ue]|=64;const e=Wc(n);if(rv(n)&&!e)return n;n=e}return null}function _C(n){return n.ngOriginalError}class lr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&_C(e);for(;t&&_C(t);)t=_C(t);return t||null}}const iD=new O("",{providedIn:"root",factory:()=>!1});function cr(n){return n instanceof Function?n():n}class aD extends JE{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){id(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,i){const o=Ut(this);this.trackingVersion++;try{e(t,i)}finally{Ut(o)}}destroy(){this.trackingVersion++}}let xp=null;function lD(){return xp??=new aD,xp}function cD(n,e){return n[e]??lD()}function dD(n,e){const t=lD();t.hasReadASignal&&(n[e]=xp,t.lView=n,xp=new aD)}const de={};function ge(n){uD(Te(),I(),gi()+n,!1)}function uD(n,e,t,i){if(!i)if(3==(3&e[ue])){const r=n.preOrderCheckHooks;null!==r&&$h(e,r,t)}else{const r=n.preOrderHooks;null!==r&&Kh(e,r,0,t)}ws(t)}function mD(n,e=null,t=null,i){const o=gD(n,e,t,i);return o.resolveInjectorInitializers(),o}function gD(n,e=null,t=null,i,o=new Set){const r=[t||Pe,AH(n)];return i=i||("object"==typeof n?void 0:Ot(n)),new rC(r,e||vp(),i||null,o)}let Wn=(()=>{class n{static create(t,i){if(Array.isArray(t))return mD({name:""},i,t,"");{const o=t.name??"";return mD({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Rc,n.NULL=new H0,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>L(G0)}),n.__NG_ELEMENT_ID__=-1,n})();function E(n,e=J.Default){const t=I();return null===t?L(n,e):kx(Xt(),t,se(n),e)}function Dp(n,e,t,i,o,r,s,a,l,c,d){const u=e.blueprint.slice();return u[Ft]=o,u[ue]=140|i,(null!==c||n&&2048&n[ue])&&(u[ue]|=2048),cx(u),u[ct]=u[Fa]=n,u[mt]=t,u[bs]=s||n&&n[bs],u[ce]=a||n&&n[ce],u[Oa]=l||n&&n[Oa]||null,u[si]=r,u[Fc]=function TV(){return RV++}(),u[nr]=d,u[KE]=c,u[Dt]=2==e.type?n[Dt]:u,u}function tl(n,e,t,i,o){let r=n.data[e];if(null===r)r=function yC(n,e,t,i,o){const r=mx(),s=uv(),l=n.data[e]=function wB(n,e,t,i,o,r){let s=e?e.injectorIndex:-1,a=0;return function ka(){return null!==oe.skipHydrationRootTNode}()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,t,e,i,o);return null===n.firstChild&&(n.firstChild=l),null!==r&&(s?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l,l.prev=r)),l}(n,e,t,i,o),function OG(){return oe.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=t,r.value=i,r.attrs=o;const s=function Nc(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===s?-1:s.injectorIndex}return _o(r,!0),r}function nd(n,e,t,i){if(0===t)return-1;const o=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return o}function CD(n,e,t,i,o){const r=cD(e,Nh),s=gi(),a=2&i;try{if(ws(-1),a&&e.length>Se&&uD(n,e,Se,!1),bo(a?2:0,o),a)r.runInContext(t,i,o);else{const c=Ut(null);try{t(i,o)}finally{Ut(c)}}}finally{a&&null===e[Nh]&&dD(e,Nh),ws(s),bo(a?3:1,o)}}function wC(n,e,t){if(ov(e)){const i=Ut(null);try{const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Ut(i)}}}function SC(n,e,t){fx()&&(function MB(n,e,t,i){const o=t.directiveStart,r=t.directiveEnd;_s(t)&&function LB(n,e,t){const i=Oi(e,n),s=Rp(n,Dp(n,bD(t),null,t.onPush?64:16,i,e,null,n[bs].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Zh(t,e),ai(i,e);const s=t.initialInputs;for(let a=o;a<r;a++){const l=n.data[a],c=Ss(e,n,a,t);ai(c,e),null!==s&&kB(0,a-o,c,l,0,s),Un(l)&&(Fi(t.index,e)[mt]=Ss(e,n,a,t))}}(n,e,t,Oi(t,e)),64==(64&t.flags)&&ED(n,e,t))}function EC(n,e,t=Oi){const i=e.localNames;if(null!==i){let o=e.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function bD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=xC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xC(n,e,t,i,o,r,s,a,l,c,d){const u=Se+i,h=u+o,p=function gB(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:de);return t}(u,h),g="function"==typeof c?c():c;return p[B]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:d}}let _D=n=>null;function yD(n,e,t,i){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const r=n[o];null===i?wD(t,e,o,r):i.hasOwnProperty(o)&&wD(t,e,i[o],r)}return t}function wD(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function DC(n,e,t,i){if(fx()){const o=null===i?null:{"":-1},r=function IB(n,e){const t=n.directiveRegistry;let i=null,o=null;if(t)for(let r=0;r<t.length;r++){const s=t[r];if(BE(e,s.selectors,!1))if(i||(i=[]),Un(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),i.unshift(...a,s),RC(n,e,a.length)}else i.unshift(s),RC(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,i,o),i.push(s)}return null===i?null:[i,o]}(n,t);let s,a;null===r?s=a=null:[s,a]=r,null!==s&&SD(n,e,t,s,o,a),o&&function OB(n,e,t){if(e){const i=n.localNames=[];for(let o=0;o<e.length;o+=2){const r=t[e[o+1]];if(null==r)throw new S(-301,!1);i.push(e[o],r)}}}(t,i,o)}t.mergedAttrs=Ac(t.mergedAttrs,t.attrs)}function SD(n,e,t,i,o,r){for(let c=0;c<i.length;c++)Sv(Zh(t,e),n,i[c].type);!function PB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=nd(n,e,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];t.mergedAttrs=Ac(t.mergedAttrs,d.hostAttrs),NB(n,t,e,l,d),FB(l,d,o),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function SB(n,e,t){const o=e.directiveEnd,r=n.data,s=e.attrs,a=[];let l=null,c=null;for(let d=e.directiveStart;d<o;d++){const u=r[d],h=t?t.get(u):null,g=h?h.outputs:null;l=yD(u.inputs,d,l,h?h.inputs:null),c=yD(u.outputs,d,c,g);const m=null===l||null===s||HE(e)?null:GB(l,d,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,r)}function ED(n,e,t){const i=t.directiveStart,o=t.directiveEnd,r=t.index,s=function PG(){return oe.lFrame.currentDirectiveIndex}();try{ws(r);for(let a=i;a<o;a++){const l=n.data[a],c=e[a];pv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AB(l,c)}}finally{ws(-1),pv(s)}}function AB(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function RC(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function FB(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Un(e)&&(t[""]=n)}}function NB(n,e,t,i,o){n.data[i]=o;const r=o.factory||(o.factory=ys(o.type)),s=new Lc(r,Un(o),E);n.blueprint[i]=s,t[i]=s,function RB(n,e,t,i,o){const r=o.hostBindings;if(r){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function TB(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,r)}}(n,e,i,nd(n,t,o.hostVars,de),o)}function Eo(n,e,t,i,o,r){const s=Oi(n,e);!function TC(n,e,t,i,o,r,s){if(null==r)n.removeAttribute(e,o,t);else{const a=null==s?le(r):s(r,i||"",o);n.setAttribute(e,o,a,t)}}(e[ce],s,r,n.value,t,i,o)}function kB(n,e,t,i,o,r){const s=r[e];if(null!==s)for(let a=0;a<s.length;)xD(i,t,s[a++],s[a++],s[a++])}function xD(n,e,t,i,o){const r=Ut(null);try{null!==n.setInput?n.setInput(e,o,t,i):e[i]=o}finally{Ut(r)}}function GB(n,e,t){let i=null,o=0;for(;o<t.length;){const r=t[o];if(0!==r)if(5!==r){if("number"==typeof r)break;if(n.hasOwnProperty(r)){null===i&&(i=[]);const s=n[r];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(r,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function DD(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function RD(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i+1];if(-1!==r){const s=n.data[r];mv(t[i]),s.contentQueries(2,e[r],r)}}}function Rp(n,e){return n[Ic]?n[$E][jn]=e:n[Ic]=e,n[$E]=e,e}function MC(n,e,t){mv(0);const i=Ut(null);try{e(n,t)}finally{Ut(i)}}function TD(n){return n[Ia]||(n[Ia]=[])}function MD(n){return n.cleanup||(n.cleanup=[])}function ID(n,e){const t=n[Oa],i=t?t.get(lr,null):null;i&&i.handleError(e)}function AC(n,e,t,i,o){for(let r=0;r<t.length;){const s=t[r++],a=t[r++];xD(n.data[s],e[s],i,a,o)}}function VB(n,e){const t=Fi(e,n),i=t[B];!function HB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const o=t[Ft];null!==o&&null===t[nr]&&(t[nr]=Y0(o,t[Oa])),IC(i,t,t[mt])}function IC(n,e,t){gv(e);try{const i=n.viewQuery;null!==i&&MC(1,i,t);const o=n.template;null!==o&&CD(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&RD(n,e),n.staticViewQueries&&MC(2,n.viewQuery,t);const r=n.components;null!==r&&function BB(n,e){for(let t=0;t<e.length;t++)VB(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ue]&=-5,vv()}}let OD=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,o){const r=typeof Zone>"u"?null:Zone.current,s=new uG(t,c=>{this.all.has(c)&&this.queue.set(c,r)},o);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n}),n})();function Tp(n,e,t){let i=t?n.styles:null,o=t?n.classes:null,r=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?r=a:1==r?o=Kg(o,a):2==r&&(i=Kg(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=o:n.classesWithoutHost=o}function od(n,e,t,i,o=!1){for(;null!==t;){const r=e[t.index];if(null!==r&&i.push(tt(r)),Ai(r)){for(let a=Zt;a<r.length;a++){const l=r[a],c=l[B].firstChild;null!==c&&od(l[B],l,c,i)}r[vo]!==r[Ft]&&i.push(r[vo])}const s=t.type;if(8&s)od(n,e,t.child,i);else if(32&s){const a=Lv(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=y0(e,t);if(Array.isArray(a))i.push(...a);else{const l=Wc(e[Dt]);od(l[B],l,a,i,!0)}}t=o?t.projectionNext:t.next}return i}function Mp(n,e,t,i=!0){const o=e[bs].rendererFactory;o.begin&&o.begin();try{Ap(n,e,n.template,t)}catch(s){throw i&&ID(e,s),s}finally{o.end&&o.end(),e[bs].effectManager?.flush()}}function Ap(n,e,t,i){const o=e[ue];if(256!=(256&o)){e[bs].effectManager?.flush(),gv(e);try{cx(e),function vx(n){return oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&CD(n,e,t,2,i);const s=3==(3&o);if(s){const c=n.preOrderCheckHooks;null!==c&&$h(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Kh(e,c,0,null),Cv(e,0)}if(function KB(n){for(let e=kv(n);null!==e;e=Gv(e)){if(!e[qE])continue;const t=e[Na];for(let i=0;i<t.length;i++){yG(t[i])}}}(e),function $B(n){for(let e=kv(n);null!==e;e=Gv(e))for(let t=Zt;t<e.length;t++){const i=e[t],o=i[B];Uh(i)&&Ap(o,i,o.template,i[mt])}}(e),null!==n.contentQueries&&RD(n,e),s){const c=n.contentCheckHooks;null!==c&&$h(e,c)}else{const c=n.contentHooks;null!==c&&Kh(e,c,1),Cv(e,1)}!function mB(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=cD(e,Lh);try{for(let o=0;o<t.length;o++){const r=t[o];if(r<0)ws(~r);else{const s=r,a=t[++o],l=t[++o];FG(a,s),i.runInContext(l,2,e[s])}}}finally{null===e[Lh]&&dD(e,Lh),ws(-1)}}(n,e);const a=n.components;null!==a&&function YB(n,e){for(let t=0;t<e.length;t++)qB(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&MC(2,l,i),s){const c=n.viewCheckHooks;null!==c&&$h(e,c)}else{const c=n.viewHooks;null!==c&&Kh(e,c,2),Cv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ue]&=-73,dx(e)}finally{vv()}}}function qB(n,e){const t=Fi(e,n);if(Uh(t)){const i=t[B];80&t[ue]?Ap(i,t,i.template,t[mt]):t[Cs]>0&&OC(t)}}function OC(n){for(let i=kv(n);null!==i;i=Gv(i))for(let o=Zt;o<i.length;o++){const r=i[o];if(Uh(r))if(1024&r[ue]){const s=r[B];Ap(s,r,s.template,r[mt])}else r[Cs]>0&&OC(r)}const t=n[B].components;if(null!==t)for(let i=0;i<t.length;i++){const o=Fi(t[i],n);Uh(o)&&o[Cs]>0&&OC(o)}}class rd{get rootNodes(){const e=this._lView,t=e[B];return od(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return 256==(256&this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ct];if(Ai(e)){const t=e[kh],i=t?t.indexOf(this):-1;i>-1&&(Hv(e,i),ep(t,i))}this._attachedToViewContainer=!1}p0(this._lView[B],this._lView)}onDestroy(e){!function hx(n,e){if(256==(256&n[ue]))throw new S(911,!1);null===n[Fr]&&(n[Fr]=[]),n[Fr].push(e)}(this._lView,e)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[ue]&=-129}reattach(){this._lView[ue]|=128}detectChanges(){Mp(this._lView[B],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jV(n,e){$c(n,e,e[ce],2,null,null)}(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class QB extends rd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Mp(e[B],e,e[mt],!1)}checkNoChanges(){}get context(){return null}}class FD extends ed{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ke(e);return new sd(t,this.ngModule)}}function PD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class XB{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Oh(i);const o=this.injector.get(e,bC,i);return o!==bC||t===bC?o:this.parentInjector.get(e,t,i)}}class sd extends X0{get inputs(){return PD(this.componentDef.inputs)}get outputs(){return PD(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function K1(n){return n.map($1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,o){let r=(o=o||this.ngModule)instanceof So?o:o?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const s=r?new XB(e,r):e,a=s.get(td,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:s.get(eB,null),effectManager:s.get(OD,null)},u=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?function vB(n,e,t,i){const r=i.get(iD,!1)||t===Ri.ShadowDom,s=n.selectRootElement(e,r);return function CB(n){_D(n)}(s),s}(u,i,this.componentDef.encapsulation,s):lp(u,h,function ZB(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.onPush?576:528,m=xC(0,null,null,1,0,null,null,null,null,null,null),C=Dp(null,m,null,g,null,null,d,u,s,null,null);let _,b;gv(C);try{const y=this.componentDef;let R,M=null;y.findHostDirectiveDefs?(R=[],M=new Map,y.findHostDirectiveDefs(y,R,M),R.push(y)):R=[y];const V=function e2(n,e){const t=n[B],i=Se;return n[i]=e,tl(t,i,2,"#host",null)}(C,p),$=function t2(n,e,t,i,o,r,s){const a=o[B];!function n2(n,e,t,i){for(const o of n)e.mergedAttrs=Ac(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(Tp(e,e.mergedAttrs,!0),null!==t&&x0(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=Y0(e,o[Oa]));const c=r.rendererFactory.createRenderer(e,t),d=Dp(o,bD(t),null,t.onPush?64:16,o[n.index],n,r,c,null,null,l);return a.firstCreatePass&&RC(a,n,i.length-1),Rp(o,d),o[n.index]=d}(V,p,y,R,C,d,u);b=lx(m,Se),p&&function r2(n,e,t,i){if(i)iv(n,t,["ng-version",tB.full]);else{const{attrs:o,classes:r}=function q1(n){const e=[],t=[];let i=1,o=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===o?""!==r&&e.push(r,n[++i]):8===o&&t.push(r);else{if(!Bn(o))break;o=r}i++}return{attrs:e,classes:t}}(e.selectors[0]);o&&iv(n,t,o),r&&r.length>0&&E0(n,t,r.join(" "))}}(u,y,p,i),void 0!==t&&function s2(n,e,t){const i=n.projection=[];for(let o=0;o<e.length;o++){const r=t[o];i.push(null!=r?Array.from(r):null)}}(b,this.ngContentSelectors,t),_=function o2(n,e,t,i,o,r){const s=Xt(),a=o[B],l=Oi(s,o);SD(a,o,s,t,null,i);for(let d=0;d<t.length;d++)ai(Ss(o,a,s.directiveStart+d,s),o);ED(a,o,s),l&&ai(l,o);const c=Ss(o,a,s.directiveStart+s.componentOffset,s);if(n[mt]=o[mt]=c,null!==r)for(const d of r)d(c,e);return wC(a,s,n),c}($,y,R,M,C,[a2]),IC(m,C,null)}finally{vv()}return new JB(this.componentType,_,Ja(b,C),C,b)}}class JB extends qH{constructor(e,t,i,o,r){super(),this.location=i,this._rootLView=o,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new QB(o),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const r=this._rootLView;AC(r[B],r,o,e,t),this.previousInputValues.set(e,t),id(Fi(this._tNode.index,r))}}get injector(){return new ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function a2(){const n=Xt();zh(I()[B],n)}function Ae(n){let e=function ND(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let o;if(Un(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);o=e.\u0275dir}if(o){if(t){i.push(o);const s=n;s.inputs=FC(n.inputs),s.declaredInputs=FC(n.declaredInputs),s.outputs=FC(n.outputs);const a=o.hostBindings;a&&u2(n,a);const l=o.viewQuery,c=o.contentQueries;if(l&&c2(n,l),c&&d2(n,c),$g(n.inputs,o.inputs),$g(n.declaredInputs,o.declaredInputs),$g(n.outputs,o.outputs),Un(o)&&o.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const r=o.features;if(r)for(let s=0;s<r.length;s++){const a=r[s];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}!function l2(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const o=n[i];o.hostVars=e+=o.hostVars,o.hostAttrs=Ac(o.hostAttrs,t=Ac(t,o.hostAttrs))}}(i)}function FC(n){return n===tr?{}:n===Pe?[]:n}function c2(n,e){const t=n.viewQuery;n.viewQuery=t?(i,o)=>{e(i,o),t(i,o)}:e}function d2(n,e){const t=n.contentQueries;n.contentQueries=t?(i,o,r)=>{e(i,o,r),t(i,o,r)}:e}function u2(n,e){const t=n.hostBindings;n.hostBindings=t?(i,o)=>{e(i,o),t(i,o)}:e}function Ip(n){return!!PC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function PC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function li(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function vi(n,e,t,i){const o=I();return li(o,Ha(),e)&&(Te(),Eo(dt(),o,n,e,t,i)),vi}function Ye(n,e,t,i,o,r,s,a){const l=I(),c=Te(),d=n+Se,u=c.firstCreatePass?function L2(n,e,t,i,o,r,s,a,l){const c=e.consts,d=tl(e,n,4,s||null,Pr(c,a));DC(e,t,d,Pr(c,l)),zh(e,d);const u=d.tView=xC(2,d,i,o,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}(d,c,l,e,t,i,o,r,s):c.data[d];_o(u,!1);const h=ZD(c,l,u,n);Wh()&&dp(c,l,h,u),ai(h,l),Rp(l,l[d]=DD(h,l,h,u)),Gh(u)&&SC(c,l,u),null!=s&&EC(l,u,a)}let ZD=function XD(n,e,t,i){return Nr(!0),e[ce].createComment("")};function yn(n){return function La(n,e){return n[e]}(function IG(){return oe.lFrame.contextLView}(),Se+n)}function Ee(n,e,t){const i=I();return li(i,Ha(),e)&&function Zi(n,e,t,i,o,r,s,a){const l=Oi(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[i])?(AC(n,t,d,i,o),_s(e)&&function xB(n,e){const t=Fi(e,n);16&t[ue]||(t[ue]|=64)}(t,e.index)):3&e.type&&(i=function EB(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),o=null!=s?s(o,e.value||"",i):o,r.setProperty(l,i,o))}(Te(),dt(),i,n,e,i[ce],t,!1),Ee}function HC(n,e,t,i,o){const s=o?"class":"style";AC(n,t,e.inputs[s],s,i)}function z(n,e,t,i){const o=I(),r=Te(),s=Se+n,a=o[ce],l=r.firstCreatePass?function H2(n,e,t,i,o,r){const s=e.consts,l=tl(e,n,2,i,Pr(s,o));return DC(e,t,l,Pr(s,r)),null!==l.attrs&&Tp(l,l.attrs,!1),null!==l.mergedAttrs&&Tp(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,r,o,e,t,i):r.data[s],c=JD(r,o,l,a,e,n);o[s]=c;const d=Gh(l);return _o(l,!0),x0(a,c,l),32!=(32&l.flags)&&Wh()&&dp(r,o,c,l),0===function SG(){return oe.lFrame.elementDepthCount}()&&ai(c,o),function EG(){oe.lFrame.elementDepthCount++}(),d&&(SC(r,o,l),wC(r,l,o)),null!==i&&EC(o,l),z}function K(){let n=Xt();uv()?function hv(){oe.lFrame.isParent=!1}():(n=n.parent,_o(n,!1));const e=n;(function DG(n){return oe.skipHydrationRootTNode===n})(e)&&function AG(){oe.skipHydrationRootTNode=null}(),function xG(){oe.lFrame.elementDepthCount--}();const t=Te();return t.firstCreatePass&&(zh(t,n),ov(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function UG(n){return 0!=(8&n.flags)}(e)&&HC(t,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function WG(n){return 0!=(16&n.flags)}(e)&&HC(t,e,I(),e.stylesWithoutHost,!1),K}function Xi(n,e,t,i){return z(n,e,t,i),K(),Xi}let JD=(n,e,t,i,o,r)=>(Nr(!0),lp(i,o,function Rx(){return oe.lFrame.currentNamespace}()));function Lp(){return I()}function ud(n){return!!n&&"function"==typeof n.then}function iR(n){return!!n&&"function"==typeof n.subscribe}function Ke(n,e,t,i){const o=I(),r=Te(),s=Xt();return function oR(n,e,t,i,o,r,s){const a=Gh(i),c=n.firstCreatePass&&MD(n),d=e[mt],u=TD(e);let h=!0;if(3&i.type||s){const m=Oi(i,e),C=s?s(m):m,_=u.length,b=s?R=>s(tt(R[i.index])):i.index;let y=null;if(!s&&a&&(y=function $2(n,e,t,i){const o=n.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const s=o[r];if(s===t&&o[r+1]===i){const a=e[Ia],l=o[r+2];return a.length>l?a[l]:null}"string"==typeof s&&(r+=2)}return null}(n,e,o,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=r,y.__ngLastListenerFn__=r,h=!1;else{r=sR(i,e,d,r,!1);const R=t.listen(C,o,r);u.push(r,R),c&&c.push(o,b,_,_+1)}}else r=sR(i,e,d,r,!1);const p=i.outputs;let g;if(h&&null!==p&&(g=p[o])){const m=g.length;if(m)for(let C=0;C<m;C+=2){const M=e[g[C]][g[C+1]].subscribe(r),V=u.length;u.push(r,M),c&&c.push(o,i.index,V,-(V+1))}}}(r,o,o[ce],s,n,e,i),Ke}function rR(n,e,t,i){try{return bo(6,e,t),!1!==t(i)}catch(o){return ID(n,o),!1}finally{bo(7,e,t)}}function sR(n,e,t,i,o){return function r(s){if(s===Function)return i;id(n.componentOffset>-1?Fi(n.index,e):e);let l=rR(e,t,i,s),c=r.__ngNextListenerFn__;for(;c;)l=rR(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function Wt(n=1){return function LG(n){return(oe.lFrame.contextLView=function kG(n,e){for(;n>0;)e=e[Fa],n--;return e}(n,oe.lFrame.contextLView))[mt]}(n)}function kp(n,e){return n<<17|e<<2}function kr(n){return n>>17&32767}function WC(n){return 2|n}function As(n){return(131068&n)>>2}function zC(n,e){return-131069&n|e<<2}function $C(n){return 1|n}function gR(n,e,t,i,o){const r=n[t+1],s=null===e;let a=i?kr(r):As(r),l=!1;for(;0!==a&&(!1===l||s);){const d=n[a+1];J2(n[a],e)&&(l=!0,n[a+1]=i?$C(d):WC(d)),a=i?kr(d):As(d)}l&&(n[t+1]=i?WC(r):$C(r))}function J2(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ka(n,e)>=0}function zn(n,e){return function $n(n,e,t,i){const o=I(),r=Te(),s=function rr(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);r.firstUpdatePass&&function xR(n,e,t,i){const o=n.data;if(null===o[t+1]){const r=o[gi()],s=function ER(n,e){return e>=n.expandoStartIndex}(n,t);(function MR(n,e){return 0!=(n.flags&(e?8:16))})(r,i)&&null===e&&!s&&(e=!1),e=function lj(n,e,t,i){const o=function fv(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let r=i?e.residualClasses:e.residualStyles;if(null===o)0===(i?e.classBindings:e.styleBindings)&&(t=hd(t=KC(null,n,e,t,i),e.attrs,i),r=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=KC(o,n,e,t,i),null===r){let l=function cj(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==As(i))return n[kr(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=KC(null,n,e,l[1],i),l=hd(l,e.attrs,i),function dj(n,e,t,i){n[kr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else r=function uj(n,e,t){let i;const o=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<o;r++)i=hd(i,n[r].hostAttrs,t);return hd(i,e.attrs,t)}(n,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),t}(o,r,e,i),function Z2(n,e,t,i,o,r){let s=r?e.classBindings:e.styleBindings,a=kr(s),l=As(s);n[i]=t;let d,c=!1;if(Array.isArray(t)?(d=t[1],(null===d||Ka(t,d)>0)&&(c=!0)):d=t,o)if(0!==l){const h=kr(n[a+1]);n[i+1]=kp(h,a),0!==h&&(n[h+1]=zC(n[h+1],i)),n[a+1]=function Y2(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=kp(a,0),0!==a&&(n[a+1]=zC(n[a+1],i)),a=i;else n[i+1]=kp(l,0),0===a?a=i:n[l+1]=zC(n[l+1],i),l=i;c&&(n[i+1]=WC(n[i+1])),gR(n,d,i,!0),gR(n,d,i,!1),function X2(n,e,t,i,o){const r=o?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof e&&Ka(r,e)>=0&&(t[i+1]=$C(t[i+1]))}(e,d,n,i,r),s=kp(a,l),r?e.classBindings=s:e.styleBindings=s}(o,r,e,t,s,i)}}(r,n,s,i),e!==de&&li(o,s,e)&&function RR(n,e,t,i,o,r,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],d=function Q2(n){return 1==(1&n)}(c)?TR(l,e,t,o,As(c),s):void 0;Gp(d)||(Gp(r)||function q2(n){return 2==(2&n)}(c)&&(r=TR(l,null,t,o,a,s)),function XV(n,e,t,i,o){if(e)o?n.addClass(t,i):n.removeClass(t,i);else{let r=-1===i.indexOf("-")?void 0:Pi.DashCase;null==o?n.removeStyle(t,i,r):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=Pi.Important),n.setStyle(t,i,o,r))}}(i,s,jh(gi(),t),o,r))}(r,r.data[gi()],o,o[ce],n,o[s+1]=function mj(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ot(Qi(n)))),n}(e,t),i,s)}(n,e,null,!0),zn}function KC(n,e,t,i,o){let r=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(r=e[a],i=hd(i,r.hostAttrs,o),r!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function hd(n,e,t){const i=t?1:2;let o=-1;if(null!==e)for(let r=0;r<e.length;r++){const s=e[r];"number"==typeof s?o=s:o===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yi(n,s,!!t||e[++r]))}return void 0===n?null:n}function TR(n,e,t,i,o,r){const s=null===e;let a;for(;o>0;){const l=n[o],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let h=t[o+1];h===de&&(h=u?Pe:void 0);let p=u?Dv(h,i):d===i?h:void 0;if(c&&!Gp(p)&&(p=Dv(l,i)),Gp(p)&&(a=p,s))return a;const g=n[o+1];o=s?kr(g):As(g)}if(null!==e){let l=r?e.residualClasses:e.residualStyles;null!=l&&(a=Dv(l,i))}return a}function Gp(n){return void 0!==n}function We(n,e=""){const t=I(),i=Te(),o=n+Se,r=i.firstCreatePass?tl(i,o,1,e,null):i.data[o],s=AR(i,t,r,e,n);t[o]=s,Wh()&&dp(i,t,s,r),_o(r,!1)}let AR=(n,e,t,i,o)=>(Nr(!0),function ap(n,e){return n.createText(e)}(e[ce],i));function pd(n){return Is("",n,""),pd}function Is(n,e,t){const i=I(),o=function nl(n,e,t,i){return li(n,Ha(),t)?e+le(t)+i:de}(i,n,e,t);return o!==de&&function dr(n,e,t){const i=jh(e,n);!function u0(n,e,t){n.setValue(e,t)}(n[ce],i,t)}(i,gi(),o),Is}const fl="en-US";let XR=fl;function QC(n,e,t,i,o){if(n=se(n),Array.isArray(n))for(let r=0;r<n.length;r++)QC(n[r],e,t,i,o);else{const r=Te(),s=I();let a=Rs(n)?n:se(n.provide),l=z0(n);const c=Xt(),d=1048575&c.providerIndexes,u=c.directiveStart,h=c.providerIndexes>>20;if(Rs(n)||!n.multi){const p=new Lc(l,o,E),g=XC(a,e,o?d:d+h,u);-1===g?(Sv(Zh(c,s),r,a),ZC(r,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),t.push(p),s.push(p)):(t[g]=p,s[g]=p)}else{const p=XC(a,e,d+h,u),g=XC(a,e,d,d+h),C=g>=0&&t[g];if(o&&!C||!o&&!(p>=0&&t[p])){Sv(Zh(c,s),r,a);const _=function NU(n,e,t,i,o){const r=new Lc(n,t,E);return r.multi=[],r.index=e,r.componentProviders=0,ST(r,o,i&&!t),r}(o?PU:FU,t.length,o,i,l);!o&&C&&(t[g].providerFactory=_),ZC(r,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),t.push(_),s.push(_)}else ZC(r,n,p>-1?p:g,ST(t[o?g:p],l,!o&&i));!o&&i&&C&&t[g].componentProviders++}}}function ZC(n,e,t,i){const o=Rs(e),r=function OH(n){return!!n.useClass}(e);if(o||r){const l=(r?se(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function ST(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function XC(n,e,t,i){for(let o=t;o<i;o++)if(e[o]===n)return o;return-1}function FU(n,e,t,i){return JC(this.multi,[])}function PU(n,e,t,i){const o=this.multi;let r;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ss(t,t[B],this.providerFactory.index,i);r=a.slice(0,s),JC(o,r);for(let l=s;l<a.length;l++)r.push(a[l])}else r=[],JC(o,r);return r}function JC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qe(n,e=[]){return t=>{t.providersResolver=(i,o)=>function OU(n,e,t){const i=Te();if(i.firstCreatePass){const o=Un(n);QC(t,i.data,i.blueprint,o,!0),QC(e,i.data,i.blueprint,o,!1)}}(i,o?o(n):n,e)}}class ml{}class ET{}class eb extends ml{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FD(this);const o=Ki(e);this._bootstrapComponents=cr(o.bootstrap),this._r3Injector=gD(e,t,[{provide:ml,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...i],Ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class tb extends ET{constructor(e){super(),this.moduleType=e}create(e){return new eb(this.moduleType,e,[])}}class xT extends ml{constructor(e){super(),this.componentFactoryResolver=new FD(this),this.instance=null;const t=new rC([...e.providers,{provide:ml,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],e.parent||vp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ib(n,e,t=null){return new xT({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let GU=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=B0(0,t.type),o=i.length>0?ib([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(L(So))}),n})();function DT(n){n.getStandaloneInjector=e=>e.get(GU).getOrCreateStandaloneInjector(n)}function ob(n,e,t,i){return function FT(n,e,t,i,o,r){const s=e+t;return li(n,s,o)?function xo(n,e,t){return n[e]=t}(n,s+1,r?i.call(r,o):i(o)):function bd(n,e){const t=n[e];return t===de?void 0:t}(n,s+1)}(I(),function mi(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i)}function rb(n){return e=>{setTimeout(n,void 0,e)}}const A=class cW extends ni{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let o=e,r=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;o=l.next?.bind(l),r=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(r=rb(r),o&&(o=rb(o)),s&&(s=rb(s)));const a=super.subscribe({next:o,error:r,complete:s});return e instanceof ii&&e.add(a),a}};function dW(){return this._results[Symbol.iterator]()}class yd{get changes(){return this._changes||(this._changes=new A)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=yd.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=dW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const o=function bn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function tV(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],r=e[i];if(t&&(o=t(o),r=t(r)),r!==o)return!1}return!0}(i._results,o,t))&&(i._results=o,i.length=o.length,i.last=o[this.length-1],i.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ur=(()=>{class n{}return n.__NG_ELEMENT_ID__=pW,n})();const uW=ur,hW=class extends uW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,i){const o=this._declarationTContainer.tView,r=Dp(this._declarationLView,o,e,16,null,o.declTNode,null,null,null,t||null,i||null);r[Oc]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[go];return null!==a&&(r[go]=a.createEmbeddedView(o)),IC(o,r,e),new rd(r)}};function pW(){return Up(Xt(),I())}function Up(n,e){return 4&n.type?new hW(e,n,Ja(n,e)):null}let wn=(()=>{class n{}return n.__NG_ELEMENT_ID__=_W,n})();function _W(){return UT(Xt(),I())}const yW=wn,BT=class extends yW{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new ja(this._hostTNode,this._hostLView)}get parentInjector(){const e=wv(this._hostTNode,this._hostLView);if(Ix(e)){const t=Yh(e,this._hostLView),i=qh(e);return new ja(t[B].data[i+8],t)}return new ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=jT(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,i){let o,r;"number"==typeof i?o=i:null!=i&&(o=i.index,r=i.injector);const a=e.createEmbeddedViewImpl(t||{},r,null);return this.insertImpl(a,o,false),a}createComponent(e,t,i,o,r){const s=e&&!function Gc(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const m=t||{};a=m.index,i=m.injector,o=m.projectableNodes,r=m.environmentInjector||m.ngModuleRef}const l=s?e:new sd(ke(e)),c=i||this.parentInjector;if(!r&&null==l.ngModule){const C=(s?c:this.parentInjector).get(So,null);C&&(r=C)}ke(l.componentType??{});const p=l.create(c,o,null,r);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const o=e._lView,r=o[B];if(function _G(n){return Ai(n[ct])}(o)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=o[ct],d=new BT(c,c[si],c[ct]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;if(function WV(n,e,t,i){const o=Zt+i,r=t.length;i>0&&(t[o-1][jn]=e),i<r-Zt?(e[jn]=t[o],Ux(t,Zt+i,e)):(t.push(e),e[jn]=null),e[ct]=t;const s=e[Oc];null!==s&&t!==s&&function zV(n,e){const t=n[Na];e[Dt]!==e[ct][ct][Dt]&&(n[qE]=!0),null===t?n[Na]=[e]:t.push(e)}(s,e);const a=e[go];null!==a&&a.insertView(n),e[ue]|=128}(r,o,a,s),!i){const l=Wv(s,a),c=o[ce],d=cp(c,a[vo]);null!==d&&function BV(n,e,t,i,o,r){i[Ft]=o,i[si]=e,$c(n,i,t,1,o,r)}(r,a[si],c,o,d,l)}return e.attachToViewContainerRef(),Ux(ab(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=jT(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Hv(this._lContainer,t);i&&(ep(ab(this._lContainer),t),p0(i[B],i))}detach(e){const t=this._adjustIndex(e,-1),i=Hv(this._lContainer,t);return i&&null!=ep(ab(this._lContainer),t)?new rd(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function jT(n){return n[kh]}function ab(n){return n[kh]||(n[kh]=[])}function UT(n,e){let t;const i=e[n.index];return Ai(i)?t=i:(t=DD(i,e,null,n),e[n.index]=t,Rp(e,t)),WT(t,e,n,i),new BT(t,n,e)}let WT=function zT(n,e,t,i){if(n[vo])return;let o;o=8&t.type?tt(i):function wW(n,e){const t=n[ce],i=t.createComment(""),o=Oi(e,n);return xs(t,cp(t,o),i,function YV(n,e){return n.nextSibling(e)}(t,o),!1),i}(e,t),n[vo]=o};class lb{constructor(e){this.queryList=e,this.matches=null}clone(){return new lb(this.queryList)}setDirty(){this.queryList.setDirty()}}class cb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let r=0;r<i;r++){const s=t.getByIndex(r);o.push(this.queries[s.indexInDeclarationView].clone())}return new cb(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==QT(e,t).matches&&this.queries[t].setDirty()}}class $T{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class db{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const o=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,o);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new db(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ub{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ub(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const r=i[o];this.matchTNodeWithReadOption(e,t,xW(t,r)),this.matchTNodeWithReadOption(e,t,Xh(t,e,r,!1,!1))}else i===ur?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xh(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===Ct||o===wn||o===ur&&4&t.type)this.addMatch(t.index,-2);else{const r=Xh(t,e,o,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function xW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function RW(n,e,t,i){return-1===t?function DW(n,e){return 11&n.type?Ja(n,e):4&n.type?Up(n,e):null}(e,n):-2===t?function TW(n,e,t){return t===Ct?Ja(e,n):t===ur?Up(e,n):t===wn?UT(e,n):void 0}(n,e,i):Ss(n,n[B],t,e)}function KT(n,e,t,i){const o=e[go].queries[i];if(null===o.matches){const r=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:RW(e,r[c],s[l+1],t.metadata.read))}o.matches=a}return o.matches}function hb(n,e,t,i){const o=n.queries.getByIndex(t),r=o.matches;if(null!==r){const s=KT(n,e,o,t);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(s[a/2]);else{const c=r[a+1],d=e[-l];for(let u=Zt;u<d.length;u++){const h=d[u];h[Oc]===h[ct]&&hb(h[B],h,c,i)}if(null!==d[Na]){const u=d[Na];for(let h=0;h<u.length;h++){const p=u[h];hb(p[B],p,c,i)}}}}}return i}function To(n){const e=I(),t=Te(),i=bx();mv(i+1);const o=QT(t,i);if(n.dirty&&function bG(n){return 4==(4&n[ue])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const r=o.crossesNgTemplate?hb(t,e,i,[]):KT(t,e,o,i);n.reset(r,XH),n.notifyOnChanges()}return!0}return!1}function Wp(n,e,t){const i=Te();i.firstCreatePass&&(function YT(n,e,t){null===n.queries&&(n.queries=new db),n.queries.track(new ub(e,t))}(i,new $T(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function qT(n,e,t){const i=new yd(4==(4&t));(function yB(n,e,t,i){const o=TD(e);o.push(t),n.firstCreatePass&&MD(n).push(i,o.length-1)})(n,e,i,i.destroy),null===e[go]&&(e[go]=new cb),e[go].queries.push(new lb(i))}(i,I(),e)}function Mo(){return function MW(n,e){return n[go].queries[e].queryList}(I(),bx())}function QT(n,e){return n.queries.getByIndex(e)}const Cb=new O("Application Initializer");let bb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=k(Cb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const r=o();if(ud(r))t.push(r);else if(iR(r)){const s=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(o=>{this.reject(o)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ao=new O("LocaleId",{providedIn:"root",factory:()=>k(Ao,J.Optional|J.SkipSelf)||function ZW(){return typeof $localize<"u"&&$localize.locale||fl}()});let Kp=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new vn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let fM=(()=>{class n{compileModuleSync(t){return new tb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),r=cr(Ki(t).declarations).reduce((s,a)=>{const l=ke(a);return l&&s.push(new sd(l)),s},[]);return new JW(i,r)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n3=(()=>Promise.resolve(0))();function _b(n){typeof Zone>"u"?n3.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}function vM(...n){}class Ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new A(!1),this.onMicrotaskEmpty=new A(!1),this.onStable=new A(!1),this.onError=new A(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&t,o.shouldCoalesceRunChangeDetection=i,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function o3(){let n=Xe.requestAnimationFrame,e=Xe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function a3(n){const e=()=>{!function s3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wb(n),n.isCheckStableRunning=!0,yb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,o,r,s,a)=>{try{return CM(n),t.invokeTask(o,r,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&e(),bM(n)}},onInvoke:(t,i,o,r,s,a,l)=>{try{return CM(n),t.invoke(o,r,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),bM(n)}},onHasTask:(t,i,o,r)=>{t.hasTask(o,r),i===o&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,wb(n),yb(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,o,r)=>(t.handleError(o,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new S(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,o){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,e,r3,vM,vM);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const r3={};function yb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bM(n){n._nesting--,yb(n)}class l3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new A,this.onMicrotaskEmpty=new A,this.onStable=new A,this.onError=new A}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,o){return e.apply(t,i)}}const _M=new O("",{providedIn:"root",factory:yM});function yM(){const n=k(Ne);let e=!0;return function EE(...n){const e=Dc(n),t=function h1(n,e){return"number"==typeof Ug(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?zi(i[0]):Ta(t)(It(i,e)):fo}(new lt(o=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{o.next(e),o.complete()})}),new lt(o=>{let r;n.runOutsideAngular(()=>{r=n.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),_b(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,o.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{o.next(!1)}))});return()=>{r.unsubscribe(),s.unsubscribe()}}).pipe(Wg()))}const wM=new O(""),qp=new O("");let xb,Sb=(()=>{class n{constructor(t,i,o){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xb||(function c3(n){xb=n}(o),o.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),_b(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_b(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,o){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:o})}whenStable(t,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(L(Ne),L(Eb),L(qp))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Eb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return xb?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Gr=null;const SM=new O("AllowMultipleToken"),Db=new O("PlatformDestroyListeners"),Rb=new O("appBootstrapListener");class xM{constructor(e,t){this.name=e,this.token=t}}function RM(n,e,t=[]){const i=`Platform: ${e}`,o=new O(i);return(r=[])=>{let s=Tb();if(!s||s.injector.get(SM,!1)){const a=[...t,...r,{provide:o,useValue:!0}];n?n(a):function h3(n){if(Gr&&!Gr.get(SM,!1))throw new S(400,!1);(function EM(){!function cG(n){ex=n}(()=>{throw new S(600,!1)})})(),Gr=n;const e=n.get(MM);(function DM(n){n.get($0,null)?.forEach(t=>t())})(n)}(function TM(n=[],e){return Wn.create({name:e,providers:[{provide:nC,useValue:"platform"},{provide:Db,useValue:new Set([()=>Gr=null])},...n]})}(a,i))}return function f3(n){const e=Tb();if(!e)throw new S(401,!1);return e}()}}function Tb(){return Gr?.get(MM)??null}let MM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const o=function m3(n="zone.js",e){return"noop"===n?new l3:"zone.js"===n?new Ne(e):n}(i?.ngZone,function AM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const r=function kU(n,e,t){return new eb(n,e,t)}(t.moduleType,this.injector,function NM(n){return[{provide:Ne,useFactory:n},{provide:Qc,multi:!0,useFactory:()=>{const e=k(v3,{optional:!0});return()=>e.initialize()}},{provide:PM,useFactory:g3},{provide:_M,useFactory:yM}]}(()=>o)),s=r.injector.get(lr,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:l=>{s.handleError(l)}});r.onDestroy(()=>{Yp(this._modules,r),a.unsubscribe()})}),function IM(n,e,t){try{const i=t();return ud(i)?i.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,o,()=>{const a=r.injector.get(bb);return a.runInitializers(),a.donePromise.then(()=>(function JR(n){Cn(n,"Expected localeId to be defined"),"string"==typeof n&&(XR=n.toLowerCase().replace(/_/g,"-"))}(r.injector.get(Ao,fl)||fl),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,i=[]){const o=OM({},i);return function d3(n,e,t){const i=new tb(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,o))}_moduleDoBootstrap(t){const i=t.injector.get(Ps);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new S(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Db,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(L(Wn))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function OM(n,e){return Array.isArray(e)?e.reduce(OM,n):{...n,...e}}let Ps=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(PM),this.zoneIsStable=k(_M),this.componentTypes=[],this.components=[],this.isStable=k(Kp).hasPendingTasks.pipe(Hn(t=>t?Q(!1):this.zoneIsStable),function b1(n,e=Mr){return n=n??_1,xt((t,i)=>{let o,r=!0;t.subscribe(vt(i,s=>{const a=e(s);(r||!n(o,a))&&(r=!1,o=a,i.next(s))}))})}(),Wg()),this._injector=k(So)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const o=t instanceof X0;if(!this._injector.get(bb).done)throw!o&&function Aa(n){const e=ke(n)||ri(n)||Mi(n);return null!==e&&e.standalone}(t),new S(405,!1);let s;s=o?t:this._injector.get(ed).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function u3(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ml),c=s.create(Wn.NULL,[],i||s.selector,a),d=c.location.nativeElement,u=c.injector.get(wM,null);return u?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Yp(this.components,c),u?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Yp(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Rb,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const PM=new O("",{providedIn:"root",factory:()=>k(lr).handleError.bind(void 0)});function g3(){const n=k(Ne),e=k(lr);return t=>n.runOutsideAngular(()=>e.handleError(t))}let v3=(()=>{class n{constructor(){this.zone=k(Ne),this.applicationRef=k(Ps)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let Sd=(()=>{class n{}return n.__NG_ELEMENT_ID__=b3,n})();function b3(n){return function _3(n,e,t){if(_s(n)&&!t){const i=Fi(n.index,e);return new rd(i,i)}return 47&n.type?new rd(e[Dt],e):null}(Xt(),I(),16==(16&n))}class VM{constructor(){}supports(e){return Ip(e)}create(e){return new D3(e)}}const x3=(n,e)=>e;class D3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||x3}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,o=0,r=null;for(;t||i;){const s=!i||t&&t.currentIndex<BM(i,o,r)?t:i,a=BM(s,o,r),l=s.currentIndex;if(s===i)o--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{r||(r=[]);const c=a-o,d=l-o;if(c!=d){for(let h=0;h<c;h++){const p=h<r.length?r[h]:r[h]=0,g=p+h;d<=g&&g<c&&(r[h]=p+1)}r[s.previousIndex]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ip(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,r,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],s=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,r,s,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,s,a),i=!0),t=t._next}else o=0,function C2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),i=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,o){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,o)):e=this._addAfter(new R3(t,i),r,o),e}_verifyReinsertion(e,t,i,o){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,r=e._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new HM),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class R3{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class T3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class HM{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new T3,this.map.set(t,i)),i.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BM(n,e,t){const i=n.previousIndex;if(null===i)return i;let o=0;return t&&i<t.length&&(o=t[i]),i+e+o}class jM{constructor(){}supports(e){return e instanceof Map||PC(e)}create(){return new M3}}class M3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||PC(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(o,i);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const o=this._records.get(e);this._maybeAddToChanges(o,t);const r=o._prev,s=o._next;return r&&(r._next=s),s&&(s._prev=r),o._next=null,o._prev=null,o}const i=new A3(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class A3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UM(){return new Xp([new VM])}let Xp=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const o=i.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||UM()),deps:[[n,new Bc,new Es]]}}find(t){const i=this.factories.find(o=>o.supports(t));if(null!=i)return i;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:UM}),n})();function WM(){return new Ed([new jM])}let Ed=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const o=i.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||WM()),deps:[[n,new Bc,new Es]]}}find(t){const i=this.factories.find(o=>o.supports(t));if(i)return i;throw new S(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:WM}),n})();const F3=RM(null,"core",[]);let P3=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(L(Ps))},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();function Cl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Nb=null;function Vr(){return Nb}class $3{}const ut=new O("DocumentToken");let Lb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return k(q3)},providedIn:"platform"}),n})();const K3=new O("Location Initialized");let q3=(()=>{class n extends Lb{constructor(){super(),this._doc=k(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(t){const i=Vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Vr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,o){this._history.pushState(t,i,o)}replaceState(t,i,o){this._history.replaceState(t,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function kb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ZM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function hr(n){return n&&"?"!==n[0]?"?"+n:n}let Ls=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return k(JM)},providedIn:"root"}),n})();const XM=new O("appBaseHref");let JM=(()=>{class n extends Ls{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kb(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+hr(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${i}${o}`:i}pushState(t,i,o,r){const s=this.prepareExternalUrl(o+hr(r));this._platformLocation.pushState(t,i,s)}replaceState(t,i,o,r){const s=this.prepareExternalUrl(o+hr(r));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(Lb),L(XM,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y3=(()=>{class n extends Ls{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=kb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,o,r){let s=this.prepareExternalUrl(o+hr(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,o,r){let s=this.prepareExternalUrl(o+hr(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(L(Lb),L(XM,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Gb=(()=>{class n{constructor(t){this._subject=new A,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function X3(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ZM(eA(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+hr(i))}normalize(t){return n.stripTrailingSlash(function Z3(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,eA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",o=null){this._locationStrategy.pushState(o,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(i)),o)}replaceState(t,i="",o=null){this._locationStrategy.replaceState(o,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(o=>o(t,i))}subscribe(t,i,o){return this._subject.subscribe({next:t,error:i,complete:o})}}return n.normalizeQueryParams=hr,n.joinWithSlash=kb,n.stripTrailingSlash=ZM,n.\u0275fac=function(t){return new(t||n)(L(Ls))},n.\u0275prov=H({token:n,factory:function(){return function Q3(){return new Gb(L(Ls))}()},providedIn:"root"}),n})();function eA(n){return n.replace(/\/index.html$/,"")}function cA(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[o,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(o.trim()===e)return decodeURIComponent(r)}return null}const qb=/\s+/,dA=[];let uA=(()=>{class n{constructor(t,i,o,r){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=o,this._renderer=r,this.initialClasses=dA,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(qb):dA}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(qb):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],o=t[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(qb).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(E(Xp),E(Ed),E(Ct),E(ar))},n.\u0275dir=U({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),Rd=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Gz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(E(wn),E(ur))},n.\u0275dir=U({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Gz{constructor(){this.$implicit=null,this.ngIf=null}}function fA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ot(e)}'.`)}let Td=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();const CA="browser";function bA(n){return"server"===n}let m$=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new g$(L(ut),window)}),n})();class g${constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function v$(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const r=o.shadowRoot;if(r){const s=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(s)return s}o=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],o-r[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_A(this.window.history)||_A(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _A(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yA{}class W$ extends $3{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t_ extends W${static makeCurrent(){!function z3(n){Nb||(Nb=n)}(new t_)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function z$(){return Ad=Ad||document.querySelector("base"),Ad?Ad.getAttribute("href"):null}();return null==t?null:function $$(n){ff=ff||document.createElement("a"),ff.setAttribute("href",n);const e=ff.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ad=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cA(document.cookie,e)}}let ff,Ad=null,q$=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const i_=new O("EventManagerPlugins");let DA=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,o){return this._findPluginFor(i).addEventListener(t,i,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(r=>r.supports(t)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(L(i_),L(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class RA{constructor(e){this._doc=e}}const n_="ng-app-id";let TA=(()=>{class n{constructor(t,i,o,r={}){this.doc=t,this.appId=i,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bA(r),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(o=>o.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${n_}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(t,i){const o=this.styleRef;if(o.has(t)){const r=o.get(t);return r.usage+=i,r.usage}return o.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const o=this.styleNodesInDOM,r=o?.get(i);if(r?.parentNode===t)return o.delete(i),r.removeAttribute(n_),r;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(n_,this.appId),s}}addStyleToHost(t,i){const o=this.getStyleElement(t,i);t.appendChild(o);const r=this.styleRef,s=r.get(i)?.elements;s?s.push(o):r.set(i,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(L(ut),L(Cp),L(lC,8),L(Lr))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const o_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},r_=/%COMP%/g,X$=new O("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function AA(n,e){return e.map(t=>t.replace(r_,n))}let s_=(()=>{class n{constructor(t,i,o,r,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestory=r,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=bA(a),this.defaultRenderer=new a_(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ri.ShadowDom&&(i={...i,encapsulation:Ri.Emulated});const o=this.getOrCreateRenderer(t,i);return o instanceof OA?o.applyToHost(t):o instanceof l_&&o.applyStyles(),o}getOrCreateRenderer(t,i){const o=this.rendererByCompId;let r=o.get(i.id);if(!r){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestory,u=this.platformIsServer;switch(i.encapsulation){case Ri.Emulated:r=new OA(l,c,i,this.appId,d,s,a,u);break;case Ri.ShadowDom:return new n4(l,c,t,i,s,a,this.nonce,u);default:r=new l_(l,c,i,d,s,a,u)}r.onDestroy=()=>o.delete(i.id),o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(L(DA),L(TA),L(Cp),L(X$),L(ut),L(Lr),L(Ne),L(lC))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class a_{constructor(e,t,i,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(o_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(IA(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(IA(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new S(5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,o){if(o){t=o+":"+t;const r=o_[o];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const o=o_[i];o?e.removeAttributeNS(o,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,o){o&(Pi.DashCase|Pi.Important)?e.style.setProperty(t,i,o&Pi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Pi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Vr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function IA(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class n4 extends a_{constructor(e,t,i,o,r,s,a,l){super(e,r,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=AA(o.id,o.styles);for(const d of c){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class l_ extends a_{constructor(e,t,i,o,r,s,a,l){super(e,r,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=l?AA(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class OA extends l_{constructor(e,t,i,o,r,s,a,l){const c=o+"-"+i.id;super(e,t,i,r,s,a,l,c),this.contentAttr=function J$(n){return"_ngcontent-%COMP%".replace(r_,n)}(c),this.hostAttr=function e4(n){return"_nghost-%COMP%".replace(r_,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let o4=(()=>{class n extends RA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,o){return t.addEventListener(i,o,!1),()=>this.removeEventListener(t,i,o)}removeEventListener(t,i,o){return t.removeEventListener(i,o)}}return n.\u0275fac=function(t){return new(t||n)(L(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const FA=["alt","control","meta","shift"],r4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let a4=(()=>{class n extends RA{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,o){const r=n.parseEventName(i),s=n.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const r=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),FA.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=r,0!=i.length||0===r.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let o=r4[t.key]||t.key,r="";return i.indexOf("code.")>-1&&(o=t.code,r="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),FA.forEach(s=>{s!==o&&(0,s4[s])(t)&&(r+=s+".")}),r+=o,r===i)}static eventCallback(t,i,o){return r=>{n.matchEventFullKeyCode(r,t)&&o.runGuarded(()=>i(r))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(L(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const NA=[{provide:Lr,useValue:CA},{provide:$0,useValue:function l4(){t_.makeCurrent()},multi:!0},{provide:ut,useFactory:function d4(){return function nH(n){Kv=n}(document),document},deps:[]}],u4=RM(F3,"browser",NA),h4=new O(""),LA=[{provide:qp,useClass:class K${addToWindow(e){Xe.getAngularTestability=(i,o=!0)=>{const r=e.findTestabilityInTree(i,o);if(null==r)throw new S(5103,!1);return r},Xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xe.getAllAngularRootElements=()=>e.getAllRootElements(),Xe.frameworkStabilizers||(Xe.frameworkStabilizers=[]),Xe.frameworkStabilizers.push(i=>{const o=Xe.getAllAngularTestabilities();let r=o.length,s=!1;const a=function(l){s=s||l,r--,0==r&&i(s)};o.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Vr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:wM,useClass:Sb,deps:[Ne,Eb,qp]},{provide:Sb,useClass:Sb,deps:[Ne,Eb,qp]}],kA=[{provide:nC,useValue:"root"},{provide:lr,useFactory:function c4(){return new lr},deps:[]},{provide:i_,useClass:o4,multi:!0,deps:[ut,Ne,Lr]},{provide:i_,useClass:a4,multi:!0,deps:[ut]},s_,TA,DA,{provide:td,useExisting:s_},{provide:yA,useClass:q$,deps:[]},[]];let GA=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Cp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(L(h4,12))},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({providers:[...kA,...LA],imports:[Td,P3]}),n})(),VA=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(L(ut))},n.\u0275prov=H({token:n,factory:function(t){let i=null;return i=t?new t:function f4(){return new VA(L(ut))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:b4}=Array,{getPrototypeOf:_4,prototype:y4,keys:w4}=Object;function WA(n){if(1===n.length){const e=n[0];if(b4(e))return{args:e,keys:null};if(function S4(n){return n&&"object"==typeof n&&_4(n)===y4}(e)){const t=w4(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:E4}=Array;function zA(n){return Ce(e=>function x4(n,e){return E4(e)?n(...e):n(e)}(n,e))}function $A(n,e){return n.reduce((t,i,o)=>(t[i]=e[o],t),{})}let qA=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(E(ar),E(Ct))},n.\u0275dir=U({type:n}),n})(),ks=(()=>{class n extends qA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(n)))(i||n)}}(),n.\u0275dir=U({type:n,features:[Ae]}),n})();const Zn=new O("NgValueAccessor"),R4={provide:Zn,useExisting:qe(()=>Id),multi:!0},M4=new O("CompositionEventMode");let Id=(()=>{class n extends qA{constructor(t,i,o){super(t,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T4(){const n=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(E(ar),E(Ct),E(M4,8))},n.\u0275dir=U({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ke("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[Qe([R4]),Ae]}),n})();const ci=new O("NgValidators"),jr=new O("NgAsyncValidators");function JA(n){return function Br(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function mf(n){return null}function rI(n){return null!=n}function sI(n){return ud(n)?It(n):n}function aI(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lI(n,e){return e.map(t=>t(n))}function cI(n){return n.map(e=>function I4(n){return!n.validate}(e)?e:t=>e.validate(t))}function u_(n){return null!=n?function dI(n){if(!n)return null;const e=n.filter(rI);return 0==e.length?null:function(t){return aI(lI(t,e))}}(cI(n)):null}function uI(n){if(!n)return null;const e=n.filter(rI);return 0==e.length?null:function(t){return function KA(...n){const e=_E(n),{args:t,keys:i}=WA(n),o=new lt(r=>{const{length:s}=t;if(!s)return void r.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let u=!1;zi(t[d]).subscribe(vt(r,h=>{u||(u=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||r.next(i?$A(i,a):a),r.complete())}))}});return e?o.pipe(zA(e)):o}(lI(t,e).map(sI)).pipe(Ce(aI))}}function h_(n){return null!=n?uI(cI(n)):null}function hI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function p_(n){return n?Array.isArray(n)?n:[n]:[]}function gf(n,e){return Array.isArray(n)?n.includes(e):n===e}function mI(n,e){const t=p_(e);return p_(n).forEach(o=>{gf(t,o)||t.push(o)}),t}function gI(n,e){return p_(e).filter(t=>!gf(n,t))}class vI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=u_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=h_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _i extends vI{get formDirective(){return null}get path(){return null}}class Ur extends vI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let f_=(()=>{class n extends CI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Ur,2))},n.\u0275dir=U({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&zn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ae]}),n})(),m_=(()=>{class n extends CI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(E(_i,10))},n.\u0275dir=U({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&zn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ae]}),n})();const Od="VALID",Cf="INVALID",bl="PENDING",Fd="DISABLED";function C_(n){return(bf(n)?n.validators:n)||null}function b_(n,e){return(bf(e)?e.asyncValidators:n)||null}function bf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Od}get invalid(){return this.status===Cf}get pending(){return this.status==bl}get disabled(){return this.status===Fd}get enabled(){return this.status!==Fd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gI(e,this._rawAsyncValidators))}hasValidator(e){return gf(this._rawValidators,e)}hasAsyncValidator(e){return gf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fd,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Od,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Od||this.status===bl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fd:Od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bl,this._hasOwnPendingAsyncValidator=!0;const t=sI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new A,this.statusChanges=new A}_calculateStatus(){return this._allControlsDisabled()?Fd:this.errors?Cf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bl)?bl:this._anyControlsHaveStatus(Cf)?Cf:Od}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function N4(n){return Array.isArray(n)?u_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function L4(n){return Array.isArray(n)?h_(n):n||null}(this._rawAsyncValidators)}}class __ extends wI{constructor(e,t,i){super(C_(t),b_(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function yI(n,e,t){n._forEachChild((i,o)=>{if(void 0===t[o])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function _I(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new S(1e3,"");if(!i[t])throw new S(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const o=this.controls[i];o&&o.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,o)=>{i.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,o)=>((i.enabled||this.disabled)&&(t[o]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((o,r)=>{i=t(i,o,r)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const _l=new O("CallSetDisabledState",{providedIn:"root",factory:()=>_f}),_f="always";function Pd(n,e,t=_f){y_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function V4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&SI(n,e)})}(n,e),function B4(n,e){const t=(i,o)=>{e.valueAccessor.writeValue(i),o&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function H4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&SI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function G4(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Sf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function y_(n,e){const t=function pI(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function fI(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hI(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const o=()=>n.updateValueAndValidity();Sf(e._rawValidators,o),Sf(e._rawAsyncValidators,o)}function SI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const $4={provide:_i,useExisting:qe(()=>Ld)},Nd=(()=>Promise.resolve())();let Ld=(()=>{class n extends _i{constructor(t,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new A,this.form=new __({},u_(t),h_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nd.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Pd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nd.then(()=>{const i=this._findContainer(t.path),o=new __({});(function EI(n,e){y_(n,e)})(o,t),i.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nd.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Nd.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function xI(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(E(ci,10),E(jr,10),E(_l,8))},n.\u0275dir=U({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&Ke("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([$4]),Ae]}),n})();function DI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function RI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const TI=class extends wI{constructor(e=null,t,i){super(C_(t),b_(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=RI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){RI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Y4={provide:Ur,useExisting:qe(()=>xf)},II=(()=>Promise.resolve())();let xf=(()=>{class n extends Ur{constructor(t,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new TI,this._registered=!1,this.name="",this.update=new A,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function E_(n,e){if(!e)return null;let t,i,o;return Array.isArray(e),e.forEach(r=>{r.constructor===Id?t=r:function W4(n){return Object.getPrototypeOf(n.constructor)===ks}(r)?i=r:o=r}),o||i||t||null}(0,r)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function S_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){II.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,o=0!==i&&Cl(i);II.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function yf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(E(_i,9),E(ci,10),E(jr,10),E(Zn,10),E(Sd,8),E(_l,8))},n.\u0275dir=U({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qe([Y4]),Ae,Ii]}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=U({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),FI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();const r8={provide:Zn,useExisting:qe(()=>M_),multi:!0};function HI(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let M_=(()=>{class n extends ks{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=HI(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function s8(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(n)))(i||n)}}(),n.\u0275dir=U({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&Ke("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qe([r8]),Ae]}),n})(),BI=(()=>{class n{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(HI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(E(Ct),E(ar),E(M_,9))},n.\u0275dir=U({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const a8={provide:Zn,useExisting:qe(()=>A_),multi:!0};function jI(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let A_=(()=>{class n extends ks{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const o=t.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const o=[],r=i.selectedOptions;if(void 0!==r){const s=r;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);o.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,t(o)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function l8(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(n)))(i||n)}}(),n.\u0275dir=U({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&Ke("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qe([a8]),Ae]}),n})(),UI=(()=>{class n{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(jI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(jI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(E(Ct),E(ar),E(A_,9))},n.\u0275dir=U({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Gs=(()=>{class n{constructor(){this._validator=mf}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):mf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=U({type:n,features:[Ii]}),n})();const u8={provide:ci,useExisting:qe(()=>Df),multi:!0};let Df=(()=>{class n extends Gs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Cl,this.createValidator=t=>JA}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(n)))(i||n)}}(),n.\u0275dir=U({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&vi("required",i._enabled?"":null)},inputs:{required:"required"},features:[Qe([u8]),Ae]}),n})(),v8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[FI]}),n})(),b8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_l,useValue:t.callSetDisabledState??_f}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[v8]}),n})();function yl(n,e){return $e(e)?Qt(n,e,1):Qt(n,1)}function Xn(n,e){return xt((t,i)=>{let o=0;t.subscribe(vt(i,r=>n.call(e,r,o++)&&i.next(r)))})}function wl(n){return xt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Rf{}class I_{}class xn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),r=o.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let o;if(o="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(r=>r.toString()),o.length>0){const r=t.toLowerCase();this.headers.set(r,o),this.maybeSetNormalizedName(t,r)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const r=e.value;if(r){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===r.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _8{encodeKey(e){return JI(e)}encodeValue(e){return JI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const w8=/%(\d[a-f0-9])/gi,S8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function JI(n){return encodeURIComponent(n).replace(w8,(e,t)=>S8[t]??e)}function Tf(n){return`${n}`}class Wr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function y8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const r=o.indexOf("="),[s,a]=-1==r?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,r)),e.decodeValue(o.slice(r+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],o=Array.isArray(i)?i.map(Tf):[Tf(i)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const o=e[i];Array.isArray(o)?o.forEach(r=>{t.push({param:i,value:r,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Tf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const o=i.indexOf(Tf(e.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class E8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function eO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function tO(n){return typeof Blob<"u"&&n instanceof Blob}function iO(n){return typeof FormData<"u"&&n instanceof FormData}class kd{constructor(e,t,i,o){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function x8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new xn),this.context||(this.context=new E8),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Wr,this.urlWithParams=t}serializeBody(){return null===this.body?null:eO(this.body)||tO(this.body)||iO(this.body)||function D8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iO(this.body)?null:tO(this.body)?this.body.type||null:eO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,o=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((u,h)=>u.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((u,h)=>u.set(h,e.setParams[h]),c)),new kd(t,i,r,{params:c,headers:l,context:d,reportProgress:a,responseType:o,withCredentials:s})}}var At=(()=>((At=At||{})[At.Sent=0]="Sent",At[At.UploadProgress=1]="UploadProgress",At[At.ResponseHeader=2]="ResponseHeader",At[At.DownloadProgress=3]="DownloadProgress",At[At.Response=4]="Response",At[At.User=5]="User",At))();class O_{constructor(e,t=200,i="OK"){this.headers=e.headers||new xn,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class F_ extends O_{constructor(e={}){super(e),this.type=At.ResponseHeader}clone(e={}){return new F_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sl extends O_{constructor(e={}){super(e),this.type=At.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sl({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nO extends O_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function P_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Gd=(()=>{class n{constructor(t){this.handler=t}request(t,i,o={}){let r;if(t instanceof kd)r=t;else{let l,c;l=o.headers instanceof xn?o.headers:new xn(o.headers),o.params&&(c=o.params instanceof Wr?o.params:new Wr({fromObject:o.params})),r=new kd(t,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=Q(r).pipe(yl(l=>this.handler.handle(l)));if(t instanceof kd||"events"===o.observe)return s;const a=s.pipe(Xn(l=>l instanceof Sl));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Ce(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ce(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ce(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ce(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Wr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,P_(o,i))}post(t,i,o={}){return this.request("POST",t,P_(o,i))}put(t,i,o={}){return this.request("PUT",t,P_(o,i))}}return n.\u0275fac=function(t){return new(t||n)(L(Rf))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function oO(n,e){return e(n)}function R8(n,e){return(t,i)=>e.intercept(t,{handle:o=>n(o,i)})}const rO=new O(""),Vd=new O(""),sO=new O("");function M8(){let n=null;return(e,t)=>{null===n&&(n=(k(rO,{optional:!0})??[]).reduceRight(R8,oO));const i=k(Kp),o=i.add();return n(e,t).pipe(wl(()=>i.remove(o)))}}let aO=(()=>{class n extends Rf{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=k(Kp)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Vd),...this.injector.get(sO,[])]));this.chain=o.reduceRight((r,s)=>function T8(n,e,t){return(i,o)=>t.runInContext(()=>e(i,r=>n(r,o)))}(r,s,this.injector),oO)}const i=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(wl(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(t){return new(t||n)(L(I_),L(So))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const F8=/^\)\]\}',?\n/;let cO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new S(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?It(i.\u0275loadImpl()):Q(null)).pipe(Hn(()=>new lt(r=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,C)=>s.setRequestHeader(m,C.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const m=t.detectContentTypeHeader();null!==m&&s.setRequestHeader("Content-Type",m)}if(t.responseType){const m=t.responseType.toLowerCase();s.responseType="json"!==m?m:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=s.statusText||"OK",C=new xn(s.getAllResponseHeaders()),_=function P8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new F_({headers:C,status:s.status,statusText:m,url:_}),l},d=()=>{let{headers:m,status:C,statusText:_,url:b}=c(),y=null;204!==C&&(y=typeof s.response>"u"?s.responseText:s.response),0===C&&(C=y?200:0);let R=C>=200&&C<300;if("json"===t.responseType&&"string"==typeof y){const M=y;y=y.replace(F8,"");try{y=""!==y?JSON.parse(y):null}catch(V){y=M,R&&(R=!1,y={error:V,text:y})}}R?(r.next(new Sl({body:y,headers:m,status:C,statusText:_,url:b||void 0})),r.complete()):r.error(new nO({error:y,headers:m,status:C,statusText:_,url:b||void 0}))},u=m=>{const{url:C}=c(),_=new nO({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});r.error(_)};let h=!1;const p=m=>{h||(r.next(c()),h=!0);let C={type:At.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(C.total=m.total),"text"===t.responseType&&s.responseText&&(C.partialText=s.responseText),r.next(C)},g=m=>{let C={type:At.UploadProgress,loaded:m.loaded};m.lengthComputable&&(C.total=m.total),r.next(C)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),t.reportProgress&&(s.addEventListener("progress",p),null!==a&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),r.next({type:At.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),t.reportProgress&&(s.removeEventListener("progress",p),null!==a&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(L(yA))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const N_=new O("XSRF_ENABLED"),dO=new O("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),uO=new O("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hO{}let k8=(()=>{class n{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cA(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(L(ut),L(Lr),L(dO))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function G8(n,e){const t=n.url.toLowerCase();if(!k(N_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=k(hO).getToken(),o=k(uO);return null!=i&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),e(n)}var yt=(()=>((yt=yt||{})[yt.Interceptors=0]="Interceptors",yt[yt.LegacyInterceptors=1]="LegacyInterceptors",yt[yt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yt[yt.NoXsrfProtection=3]="NoXsrfProtection",yt[yt.JsonpSupport=4]="JsonpSupport",yt[yt.RequestsMadeViaParent=5]="RequestsMadeViaParent",yt))();function El(n,e){return{\u0275kind:n,\u0275providers:e}}function V8(...n){const e=[Gd,cO,aO,{provide:Rf,useExisting:aO},{provide:I_,useExisting:cO},{provide:Vd,useValue:G8,multi:!0},{provide:N_,useValue:!0},{provide:hO,useClass:k8}];for(const t of n)e.push(...t.\u0275providers);return function Jv(n){return{\u0275providers:n}}(e)}const pO=new O("LEGACY_INTERCEPTOR_FN");let L_,B8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({providers:[V8(El(yt.LegacyInterceptors,[{provide:pO,useFactory:M8},{provide:Vd,useExisting:pO,multi:!0}]))]}),n})();try{L_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{L_=!1}let Hd,Af=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function f$(n){return n===CA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!L_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(L(Lr))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bd(n){return function K8(){if(null==Hd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hd=!0}))}finally{Hd=Hd||!1}return Hd}()?n:!!n.capture}function kt(n,e,t){const i=$e(n)||e||t?{next:n,error:e,complete:t}:n;return i?xt((o,r)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;o.subscribe(vt(r,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),r.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),r.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),r.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Mr}class C5 extends ii{constructor(e,t){super()}schedule(e,t=0){return this}}const Of={setInterval(n,e,...t){const{delegate:i}=Of;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Of;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class G_ extends C5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const o=this.id,r=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(r,o,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Of.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Of.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,i=!1;try{this.work(e)}catch(r){i=!0,o=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ra(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vO={now:()=>(vO.delegate||Date).now(),delegate:void 0};class jd{constructor(e,t=jd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}jd.now=vO.now;class V_ extends jd{constructor(e,t=jd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const b5=new V_(G_);function bO(n){return Array.isArray(n)?n:[n]}function B_(n){return n instanceof Ct?n.nativeElement:n}function Ff(...n){const e=Dc(n),t=_E(n),{args:i,keys:o}=WA(n);if(0===i.length)return It([],e);const r=new lt(function y5(n,e,t=Mr){return i=>{_O(e,()=>{const{length:o}=n,r=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)_O(e,()=>{const c=It(n[l],e);let d=!1;c.subscribe(vt(i,u=>{r[l]=u,d||(d=!0,a--),a||i.next(t(r.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,o?s=>$A(o,s):Mr));return t?r.pipe(zA(t)):r}function _O(n,e,t){n?Jo(t,n,e):e()}function Pf(...n){return function w5(){return Ta(1)}()(It(n,Dc(n)))}function Hs(n){return n<=0?()=>fo:xt((e,t)=>{let i=0;e.subscribe(vt(t,o=>{++i<=n&&(t.next(o),n<=i&&t.complete())}))})}function yO(...n){const e=Dc(n);return xt((t,i)=>{(e?Pf(n,t,e):Pf(n,t)).subscribe(i)})}function j_(n){return xt((e,t)=>{zi(n).subscribe(vt(t,()=>t.complete(),Fg)),!t.closed&&e.subscribe(t)})}const wO=new Set;let Bs,E5=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D5}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function x5(n,e){if(!wO.has(n))try{Bs||(Bs=document.createElement("style"),e&&(Bs.nonce=e),Bs.setAttribute("type","text/css"),document.head.appendChild(Bs)),Bs.sheet&&(Bs.sheet.insertRule(`@media ${n} {body{ }}`,0),wO.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(L(Af),L(lC,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D5(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let R5=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ni}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return SO(bO(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let r=Ff(SO(bO(t)).map(s=>this._registerQuery(s).observable));return r=Pf(r.pipe(Hs(1)),r.pipe(function S5(n){return Xn((e,t)=>n<=t)}(1),function H_(n,e=b5){return xt((t,i)=>{let o=null,r=null,s=null;const a=()=>{if(o){o.unsubscribe(),o=null;const c=r;r=null,i.next(c)}};function l(){const c=s+n,d=e.now();if(d<c)return o=this.schedule(void 0,c-d),void i.add(o);a()}t.subscribe(vt(i,c=>{r=c,s=e.now(),o||(o=e.schedule(l,n),i.add(o))},()=>{a(),i.complete()},void 0,()=>{r=o=null}))})}(0))),r.pipe(Ce(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),r={observable:new lt(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(yO(i),Ce(({matches:s})=>({query:t,matches:s})),j_(this._destroySubject)),mql:i};return this._queries.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(L(E5),L(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SO(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const RO="cdk-high-contrast-black-on-white",TO="cdk-high-contrast-white-on-black",U_="cdk-high-contrast-active";let H5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=k(R5).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(U_,RO,TO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(U_,RO):2===i&&t.add(U_,TO)}}}return n.\u0275fac=function(t){return new(t||n)(L(Af),L(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();const W5=new O("mat-sanity-checks",{providedIn:"root",factory:function U5(){return!0}});let ot=(()=>{class n{constructor(t,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Z8(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(L(H5),L(W5,8),L(ut))},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[MO,MO]}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,ot]}),n})();class $5{constructor(e,t,i,o=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const FO=Bd({passive:!0,capture:!0});class K5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function Q8(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((i,o)=>{(o===t||o.contains(t))&&i.forEach(r=>r.handleEvent(e))})}}addHandler(e,t,i,o){const r=this._events.get(t);if(r){const s=r.get(i);s?s.add(o):r.set(i,new Set([o]))}else this._events.set(t,new Map([[i,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,FO)})}removeHandler(e,t,i){const o=this._events.get(e);if(!o)return;const r=o.get(t);r&&(r.delete(i),0===r.size&&o.delete(t),0===o.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,FO)))}}const PO={enterDuration:225,exitDuration:150},NO=Bd({passive:!0,capture:!0}),LO=["mousedown","touchstart"],kO=["mouseup","mouseleave","touchend","touchcancel"];class Wd{constructor(e,t,i,o){this._target=e,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=B_(i))}fadeInRipple(e,t,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r={...PO,...i.animation};i.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const s=i.radius||function Y5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+o*o)}(e,t,o),a=e-o.left,l=t-o.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=l-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),p=u.transitionDuration,g="none"===u.transitionProperty||"0s"===p||"0s, 0s"===p||0===o.width&&0===o.height,m=new $5(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let C=null;return!g&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>this._finishRippleTransition(m),b=()=>this._destroyRipple(m);d.addEventListener("transitionend",_),d.addEventListener("transitioncancel",b),C={onTransitionEnd:_,onTransitionCancel:b}}),this._activeRipples.set(m,C),(g||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...PO,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=B_(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,LO.forEach(i=>{Wd._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{kO.forEach(t=>{this._triggerElement.addEventListener(t,this,NO)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function k5(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function G5(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(LO.forEach(t=>Wd._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&kO.forEach(t=>e.removeEventListener(t,this,NO)))}}Wd._eventManager=new K5;let VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,ot]}),n})(),Q5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot]}),n})(),Z5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,ot]}),n})();function Dl(n,e){const t=$e(n)?n:()=>n,i=o=>o.error(t());return new lt(e?o=>e.schedule(i,0,o):i)}function zr(n){return xt((e,t)=>{let r,i=null,o=!1;i=e.subscribe(vt(t,void 0,void 0,s=>{r=zi(n(s,zr(n)(e))),i?(i.unsubscribe(),i=null,r.subscribe(t)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(t))})}let n6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,ot]}),n})(),s6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,VO,ot]}),n})(),c6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[OO,ot,OO,ot]}),n})();const $d={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=$d;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const o=e(r=>{t=void 0,n(r)});return new ii(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:e}=$d;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$d;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class u6 extends V_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class d6 extends G_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$d.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:r}=e;null!=t&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==t&&($d.cancelAnimationFrame(t),e._scheduled=void 0)}});let z_,p6=1;const kf={};function $O(n){return n in kf&&(delete kf[n],!0)}const f6={setImmediate(n){const e=p6++;return kf[e]=!0,z_||(z_=Promise.resolve()),z_.then(()=>$O(e)&&n()),e},clearImmediate(n){$O(n)}},{setImmediate:m6,clearImmediate:g6}=f6,Gf={setImmediate(...n){const{delegate:e}=Gf;return(e?.setImmediate||m6)(...n)},clearImmediate(n){const{delegate:e}=Gf;return(e?.clearImmediate||g6)(n)},delegate:void 0};new class C6 extends V_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class v6 extends G_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Gf.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:r}=e;null!=t&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==t&&(Gf.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();class qO{}class _6{}const mr="*";function QO(n,e=null){return{type:2,steps:n,options:e}}function Rl(n){return{type:6,styles:n,offset:null}}function ZO(n){Promise.resolve().then(n)}class Kd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ZO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class XO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,o=0;const r=this.players.length;0==r?ZO(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==r&&this._onFinish()}),s.onDestroy(()=>{++i==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const o=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(o)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Y_="!";let w6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[Td,ot,KO,KO,ot]}),n})(),JO=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({providers:[JO]}),n})(),x6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,ot]}),n})(),tK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[eF,Td,ot,VO,Q5,x6]}),n})(),lK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,Td,ot]}),n})(),cK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,Td,eF,ot]}),n})(),gK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[ot,sF,sF,cK,ot]}),n})();const Vf=Ec(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function aF(n){return new lt(e=>{zi(n()).subscribe(e)})}function Z_(){return xt((n,e)=>{let t=null;n._refCount++;const i=vt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,r=t;t=null,o&&(!r||o===r)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class lF extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ii;const t=this.getSubject();e.add(this.source.subscribe(vt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ii.EMPTY)}return e}refCount(){return Z_()(this)}}function Hf(n){return xt((e,t)=>{let i=!1;e.subscribe(vt(t,o=>{i=!0,t.next(o)},()=>{i||t.next(n),t.complete()}))})}function cF(n=CK){return xt((e,t)=>{let i=!1;e.subscribe(vt(t,o=>{i=!0,t.next(o)},()=>i?t.complete():t.error(n())))})}function CK(){return new Vf}function Ws(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((o,r)=>n(o,r,i)):Mr,Hs(1),t?Hf(e):cF(()=>new Vf))}function X_(n){return n<=0?()=>fo:xt((e,t)=>{let i=[];e.subscribe(vt(t,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)t.next(o);t.complete()},void 0,()=>{i=null}))})}const he="primary",qd=Symbol("RouteTitle");class SK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Tl(n){return new SK(n)}function EK(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const o={};for(let r=0;r<i.length;r++){const s=i[r],a=n[r];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Io(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let o;for(let r=0;r<t.length;r++)if(o=t[r],!dF(n[o],e[o]))return!1;return!0}function dF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((o,r)=>i[r]===o)}return n===e}function uF(n){return n.length>0?n[n.length-1]:null}function $r(n){return function vK(n){return!!n&&(n instanceof lt||$e(n.lift)&&$e(n.subscribe))}(n)?n:ud(n)?It(Promise.resolve(n)):Q(n)}const DK={exact:function fF(n,e,t){if(!zs(n.segments,e.segments)||!Bf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!fF(n.children[i],e.children[i],t))return!1;return!0},subset:mF},hF={exact:function RK(n,e){return Io(n,e)},subset:function TK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dF(n[t],e[t]))},ignored:()=>!0};function pF(n,e,t){return DK[t.paths](n.root,e.root,t.matrixParams)&&hF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mF(n,e,t){return gF(n,e,e.segments,t)}function gF(n,e,t,i){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!zs(o,t)||e.hasChildren()||!Bf(o,t,i))}if(n.segments.length===t.length){if(!zs(n.segments,t)||!Bf(n.segments,t,i))return!1;for(const o in e.children)if(!n.children[o]||!mF(n.children[o],e.children[o],i))return!1;return!0}{const o=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!!(zs(n.segments,o)&&Bf(n.segments,o,i)&&n.children[he])&&gF(n.children[he],e,r,i)}}function Bf(n,e,t){return e.every((i,o)=>hF[t](n[o].parameters,i.parameters))}class Ml{constructor(e=new ze([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tl(this.queryParams)),this._queryParamMap}toString(){return IK.serialize(this)}}class ze{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jf(this)}}class Yd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Tl(this.parameters)),this._parameterMap}toString(){return bF(this)}}function zs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return new J_},providedIn:"root"}),n})();class J_{parse(e){const t=new jK(e);return new Ml(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zd(e.root,!0)}`,i=function PK(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(o=>`${Uf(t)}=${Uf(o)}`).join("&"):`${Uf(t)}=${Uf(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function OK(n){return encodeURI(n)}(e.fragment)}`:""}`}}const IK=new J_;function jf(n){return n.segments.map(e=>bF(e)).join("/")}function Zd(n,e){if(!n.hasChildren())return jf(n);if(e){const t=n.children[he]?Zd(n.children[he],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==he&&i.push(`${o}:${Zd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function AK(n,e){let t=[];return Object.entries(n.children).forEach(([i,o])=>{i===he&&(t=t.concat(e(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==he&&(t=t.concat(e(o,i)))}),t}(n,(i,o)=>o===he?[Zd(n.children[he],!1)]:[`${o}:${Zd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${jf(n)}/${t[0]}`:`${jf(n)}/(${t.join("//")})`}}function vF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uf(n){return vF(n).replace(/%3B/gi,";")}function ey(n){return vF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(n){return decodeURIComponent(n)}function CF(n){return Wf(n.replace(/\+/g,"%20"))}function bF(n){return`${ey(n.path)}${function FK(n){return Object.keys(n).map(e=>`;${ey(e)}=${ey(n[e])}`).join("")}(n.parameters)}`}const NK=/^[^\/()?;#]+/;function ty(n){const e=n.match(NK);return e?e[0]:""}const LK=/^[^\/()?;=#]+/,GK=/^[^=?&#]+/,HK=/^[^&#]+/;class jK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[he]=new ze(e,t)),i}parseSegment(){const e=ty(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Yd(Wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function kK(n){const e=n.match(LK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=ty(this.remaining);o&&(i=o,this.capture(i))}e[Wf(t)]=Wf(i)}parseQueryParam(e){const t=function VK(n){const e=n.match(GK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function BK(n){const e=n.match(HK);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const o=CF(t),r=CF(i);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(r)}else e[o]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ty(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new S(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=he);const s=this.parseChildren();t[r]=1===Object.keys(s).length?s[he]:new ze([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function _F(n){return n.segments.length>0?new ze([],{[he]:n}):n}function yF(n){const e={};for(const i of Object.keys(n.children)){const r=yF(n.children[i]);if(i===he&&0===r.segments.length&&r.hasChildren())for(const[s,a]of Object.entries(r.children))e[s]=a;else(r.segments.length>0||r.hasChildren())&&(e[i]=r)}return function UK(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new ze(n.segments.concat(e.segments),e.children)}return n}(new ze(n.segments,e))}function $s(n){return n instanceof Ml}function wF(n){let e;const o=_F(function t(r){const s={};for(const l of r.children){const c=t(l);s[l.outlet]=c}const a=new ze(r.url,s);return r===n&&(e=a),a}(n.root));return e??o}function SF(n,e,t,i){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return iy(o,o,o,t,i);const r=function zK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xF(!0,0,n);let e=0,t=!1;const i=n.reduce((o,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return"string"!=typeof r?[...o,r]:0===s?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,r]},[]);return new xF(t,e,i)}(e);if(r.toRoot())return iy(o,o,new ze([],{}),t,i);const s=function $K(n,e,t){if(n.isAbsolute)return new $f(e,!0,0);if(!t)return new $f(e,!1,NaN);if(null===t.parent)return new $f(t,!0,0);const i=zf(n.commands[0])?0:1;return function KK(n,e,t){let i=n,o=e,r=t;for(;r>o;){if(r-=o,i=i.parent,!i)throw new S(4005,!1);o=i.segments.length}return new $f(i,!1,o-r)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(r,o,n),a=s.processChildren?Jd(s.segmentGroup,s.index,r.commands):DF(s.segmentGroup,s.index,r.commands);return iy(o,s.segmentGroup,a,t,i)}function zf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xd(n){return"object"==typeof n&&null!=n&&n.outlets}function iy(n,e,t,i,o){let s,r={};i&&Object.entries(i).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=n===e?t:EF(n,e,t);const a=_F(yF(s));return new Ml(a,r,o)}function EF(n,e,t){const i={};return Object.entries(n.children).forEach(([o,r])=>{i[o]=r===e?t:EF(r,e,t)}),new ze(n.segments,i)}class xF{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&zf(i[0]))throw new S(4003,!1);const o=i.find(Xd);if(o&&o!==uF(i))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $f{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function DF(n,e,t){if(n||(n=new ze([],{})),0===n.segments.length&&n.hasChildren())return Jd(n,e,t);const i=function YK(n,e,t){let i=0,o=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=t.length)return r;const s=n.segments[o],a=t[i];if(Xd(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!TF(l,c,s))return r;i+=2}else{if(!TF(l,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,e,t),o=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new ze(n.segments.slice(0,i.pathIndex),{});return r.children[he]=new ze(n.segments.slice(i.pathIndex),n.children),Jd(r,0,o)}return i.match&&0===o.length?new ze(n.segments,{}):i.match&&!n.hasChildren()?ny(n,e,t):i.match?Jd(n,0,o):ny(n,e,t)}function Jd(n,e,t){if(0===t.length)return new ze(n.segments,{});{const i=function qK(n){return Xd(n[0])?n[0].outlets:{[he]:n}}(t),o={};if(!i[he]&&n.children[he]&&1===n.numberOfChildren&&0===n.children[he].segments.length){const r=Jd(n.children[he],e,t);return new ze(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[r]=DF(n.children[r],e,s))}),Object.entries(n.children).forEach(([r,s])=>{void 0===i[r]&&(o[r]=s)}),new ze(n.segments,o)}}function ny(n,e,t){const i=n.segments.slice(0,e);let o=0;for(;o<t.length;){const r=t[o];if(Xd(r)){const l=QK(r.outlets);return new ze(i,l)}if(0===o&&zf(t[0])){i.push(new Yd(n.segments[e].path,RF(t[0]))),o++;continue}const s=Xd(r)?r.outlets[he]:`${r}`,a=o<t.length-1?t[o+1]:null;s&&a&&zf(a)?(i.push(new Yd(s,RF(a))),o+=2):(i.push(new Yd(s,{})),o++)}return new ze(i,{})}function QK(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=ny(new ze([],{}),0,i))}),e}function RF(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function TF(n,e,t){return n==t.path&&Io(e,t.parameters)}const eu="imperative";class Oo{constructor(e,t){this.id=e,this.url=t}}class oy extends Oo{constructor(e,t,i="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends Oo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kf extends Oo{constructor(e,t,i,o){super(e,t),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tu extends Oo{constructor(e,t,i,o){super(e,t),this.reason=i,this.code=o,this.type=16}}class ry extends Oo{constructor(e,t,i,o){super(e,t),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZK extends Oo{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XK extends Oo{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JK extends Oo{constructor(e,t,i,o,r){super(e,t),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eq extends Oo{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tq extends Oo{constructor(e,t,i,o){super(e,t),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MF{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lq{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new iu,this.attachRef=null}}let iu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const o=this.getOrCreateContext(t);o.outlet=i,this.contexts.set(t,o)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new lq,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sy(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=sy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ay(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ay(e,this._root).map(t=>t.value)}}function sy(n,e){if(n===e.value)return e;for(const t of e.children){const i=sy(n,t);if(i)return i}return null}function ay(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ay(n,t);if(i.length)return i.unshift(e),i}return[]}class gr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Al(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IF extends AF{constructor(e,t){super(e),this.snapshot=t,ly(this,e)}toString(){return this.snapshot.toString()}}function OF(n,e){const t=function cq(n,e){const s=new qf([],{},{},"",{},he,e,null,{});return new PF("",new gr(s,[]))}(0,e),i=new vn([new Yd("",{})]),o=new vn({}),r=new vn({}),s=new vn({}),a=new vn(""),l=new Il(i,o,s,a,r,he,e,t.root);return l.snapshot=t.root,new IF(new gr(l,[]),t)}class Il{constructor(e,t,i,o,r,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ce(c=>c[qd]))??Q(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>Tl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>Tl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FF(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const o=t[i],r=t[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(r.component)break;i--}}return function dq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class qf{get title(){return this.data?.[qd]}constructor(e,t,i,o,r,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PF extends AF{constructor(e,t){super(t),this.url=e,ly(this,t)}toString(){return NF(this._root)}}function ly(n,e){e.value._routerState=n,e.children.forEach(t=>ly(n,t))}function NF(n){const e=n.children.length>0?` { ${n.children.map(NF).join(", ")} } `:"";return`${n.value}${e}`}function cy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Io(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Io(e.params,t.params)||n.paramsSubject.next(t.params),function xK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Io(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Io(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function dy(n,e){const t=Io(n.params,e.params)&&function MK(n,e){return zs(n,e)&&n.every((t,i)=>Io(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||dy(n.parent,e.parent))}let uy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new A,this.deactivateEvents=new A,this.attachEvents=new A,this.detachEvents=new A,this.parentContexts=k(iu),this.location=k(wn),this.changeDetector=k(Sd),this.environmentInjector=k(So),this.inputBinder=k(Yf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:o}=t.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uq(t,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=U({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]}),n})();class uq{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Il?this.route:e===iu?this.childContexts:this.parent.get(e,t)}}const Yf=new O("");let LF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,o=Ff([i.queryParams,i.params,i.data]).pipe(Hn(([r,s,a],l)=>(a={...r,...s,...a},0===l?Q(a):Promise.resolve(a)))).subscribe(r=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function W3(n){const e=ke(n);if(!e)return null;const t=new sd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,r[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function nu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const o=function pq(n,e,t){return e.children.map(i=>{for(const o of t.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return nu(n,i,o);return nu(n,i)})}(n,e,t);return new gr(i,o)}{if(n.shouldAttach(e.value)){const r=n.retrieve(e.value);if(null!==r){const s=r.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nu(n,a)),s}}const i=function fq(n){return new Il(new vn(n.url),new vn(n.params),new vn(n.queryParams),new vn(n.fragment),new vn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(r=>nu(n,r));return new gr(i,o)}}const hy="ngNavigationCancelingError";function kF(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=$s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=GF(!1,0,e);return o.url=t,o.navigationBehaviorOptions=i,o}function GF(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[hy]=!0,i.cancellationCode=e,t&&(i.url=t),i}function VF(n){return HF(n)&&$s(n.url)}function HF(n){return n&&n[hy]}let BF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=oi({type:n,selectors:[["ng-component"]],standalone:!0,features:[DT],decls:1,vars:0,template:function(t,i){1&t&&Xi(0,"router-outlet")},dependencies:[uy],encapsulation:2}),n})();function py(n){const e=n.children&&n.children.map(py),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=BF),t}function Jn(n){return n.outlet||he}function ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yq{constructor(e,t,i,o,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),cy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const o=Al(t);e.children.forEach(r=>{const s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){const o=e.value,r=t?t.value:null;if(o===r)if(o.component){const s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),o=i&&e.value.component?i.children:t,r=Al(e);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],o);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),o=i&&e.value.component?i.children:t,r=Al(e);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const o=Al(t);e.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new aq(r.value.snapshot))}),e.children.length&&this.forwardEvent(new rq(e.value.snapshot))}activateRoutes(e,t,i){const o=e.value,r=t?t.value:null;if(cy(o),o===r)if(o.component){const s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(o.component){const s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ou(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class jF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qf{constructor(e,t){this.component=e,this.route=t}}function wq(n,e,t){const i=n._root;return ru(i,e?e._root:null,t,[i.value])}function Ol(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function R1(n){return null!==Mh(n)}(n)?e.get(n):n:i}function ru(n,e,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=Al(e);return n.children.forEach(s=>{(function Eq(n,e,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function xq(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!zs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!zs(n.url,e.url)||!Io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dy(n,e)||!Io(n.queryParams,e.queryParams);default:return!dy(n,e)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new jF(i)):(r.data=s.data,r._resolvedData=s._resolvedData),ru(n,e,r.component?a?a.children:null:t,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Qf(a.outlet.component,s))}else s&&su(e,a,o),o.canActivateChecks.push(new jF(i)),ru(n,null,r.component?a?a.children:null:t,i,o)})(s,r[s.value.outlet],t,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>su(a,t.getContext(s),o)),o}function su(n,e,t){const i=Al(n),o=n.value;Object.entries(i).forEach(([r,s])=>{su(s,o.component?e?e.children.getContext(r):null:e,t)}),t.canDeactivateChecks.push(new Qf(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function au(n){return"function"==typeof n}function UF(n){return n instanceof Vf||"EmptyError"===n?.name}const Zf=Symbol("INITIAL_VALUE");function Fl(){return Hn(n=>Ff(n.map(e=>e.pipe(Hs(1),yO(Zf)))).pipe(Ce(e=>{for(const t of e)if(!0!==t){if(t===Zf)return Zf;if(!1===t||t instanceof Ml)return t}return!0}),Xn(e=>e!==Zf),Hs(1)))}function WF(n){return function Ok(...n){return iE(n)}(kt(e=>{if($s(e))throw kF(0,e)}),Ce(e=>!0===e))}class Xf{constructor(e){this.segmentGroup=e||null}}class zF{constructor(e){this.urlTree=e}}function Pl(n){return Dl(new Xf(n))}function $F(n){return Dl(new zF(n))}class zq{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,t){let i=[],o=t.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Q(i);if(o.numberOfChildren>1||!o.children[he])return Dl(new S(4e3,!1));o=o.children[he]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,o){const r=this.createSegmentGroup(e,t.root,i,o);return new Ml(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([o,r])=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=t[a]}else i[o]=r}),i}createSegmentGroup(e,t,i,o){const r=this.createSegments(e,t.segments,i,o);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,o)}),new ze(r,s)}createSegments(e,t,i,o){return t.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,o):this.findOrReturn(r,i))}findPosParam(e,t,i){const o=i[t.path.substring(1)];if(!o)throw new S(4001,!1);return o}findOrReturn(e,t){let i=0;for(const o of t){if(o.path===e.path)return t.splice(i),o;i++}return e}}const fy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $q(n,e,t,i,o){const r=my(n,e,t);return r.matched?(i=function mq(n,e){return n.providers&&!n._injector&&(n._injector=ib(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function jq(n,e,t,i){const o=e.canMatch;return o&&0!==o.length?Q(o.map(s=>{const a=Ol(s,n);return $r(function Iq(n){return n&&au(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fl(),WF()):Q(!0)}(i,e,t).pipe(Ce(s=>!0===s?r:{...fy}))):Q(r)}function my(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||EK)(t,n,e);if(!o)return{...fy};const r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});const s=o.consumed.length>0?{...r,...o.consumed[o.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function KF(n,e,t,i){return t.length>0&&function Yq(n,e,t){return t.some(i=>Jf(n,e,i)&&Jn(i)!==he)}(n,t,i)?{segmentGroup:new ze(e,qq(i,new ze(t,n.children))),slicedSegments:[]}:0===t.length&&function Qq(n,e,t){return t.some(i=>Jf(n,e,i))}(n,t,i)?{segmentGroup:new ze(n.segments,Kq(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function Kq(n,e,t,i,o){const r={};for(const s of i)if(Jf(n,t,s)&&!o[Jn(s)]){const a=new ze([],{});r[Jn(s)]=a}return{...o,...r}}function qq(n,e){const t={};t[he]=e;for(const i of n)if(""===i.path&&Jn(i)!==he){const o=new ze([],{});t[Jn(i)]=o}return t}function Jf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class eY{constructor(e,t,i,o,r,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new zq(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=KF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(zr(t=>{if(t instanceof zF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Xf?this.noMatchError(t):t}),Ce(t=>{const i=new qf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),o=new gr(i,t),r=new PF("",o),s=function WK(n,e,t=null,i=null){return SF(wF(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(r._root),{state:r,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(zr(i=>{throw i instanceof Xf?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=FF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,o,!0)}processChildren(e,t,i){const o=[];for(const r of Object.keys(i.children))"primary"===r?o.unshift(r):o.push(r);return It(o).pipe(yl(r=>{const s=i.children[r],a=function bq(n,e){const t=n.filter(i=>Jn(i)===e);return t.push(...n.filter(i=>Jn(i)!==e)),t}(t,r);return this.processSegmentGroup(e,a,s,r)}),function _K(n,e){return xt(function bK(n,e,t,i,o){return(r,s)=>{let a=t,l=e,c=0;r.subscribe(vt(s,d=>{const u=c++;l=a?n(l,d,u):(a=!0,d),i&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((r,s)=>(r.push(...s),r)),Hf(null),function yK(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((o,r)=>n(o,r,i)):Mr,X_(1),t?Hf(e):cF(()=>new Vf))}(),Qt(r=>{if(null===r)return Pl(i);const s=qF(r);return function tY(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Q(s)}))}processSegment(e,t,i,o,r,s){return It(t).pipe(yl(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,o,r,s).pipe(zr(l=>{if(l instanceof Xf)return Q(null);throw l}))),Ws(a=>!!a),zr(a=>{if(UF(a))return function Xq(n,e,t){return 0===e.length&&!n.children[t]}(i,o,r)?Q([]):Pl(i);throw a}))}processSegmentAgainstRoute(e,t,i,o,r,s,a){return function Zq(n,e,t,i){return!!(Jn(n)===i||i!==he&&Jf(e,t,n))&&("**"===n.path||my(e,n,t).matched)}(i,o,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,o,i,r,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,i,r,s):Pl(o):Pl(o)}expandSegmentAgainstRouteUsingRedirect(e,t,i,o,r,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,o,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,o){const r=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?$F(r):this.applyRedirects.lineralizeSegments(i,r).pipe(Qt(s=>{const a=new ze(s,{});return this.processSegment(e,t,a,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,o,r,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=my(t,o,r);if(!a)return Pl(t);const u=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d);return o.redirectTo.startsWith("/")?$F(u):this.applyRedirects.lineralizeSegments(o,u).pipe(Qt(h=>this.processSegment(e,i,t,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,o,r,s){let a;if("**"===i.path){const l=o.length>0?uF(o).parameters:{};a=Q({snapshot:new qf(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YF(i),Jn(i),i.component??i._loadedComponent??null,i,QF(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=$q(t,i,o,e).pipe(Ce(({matched:l,consumedSegments:c,remainingSegments:d,parameters:u})=>l?{snapshot:new qf(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YF(i),Jn(i),i.component??i._loadedComponent??null,i,QF(i)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Hn(l=>null===l?Pl(t):this.getChildConfig(e=i._injector??e,i,o).pipe(Hn(({routes:c})=>{const d=i._loadedInjector??e,{snapshot:u,consumedSegments:h,remainingSegments:p}=l,{segmentGroup:g,slicedSegments:m}=KF(t,h,p,c);if(0===m.length&&g.hasChildren())return this.processChildren(d,c,g).pipe(Ce(_=>null===_?null:[new gr(u,_)]));if(0===c.length&&0===m.length)return Q([new gr(u,[])]);const C=Jn(i)===r;return this.processSegment(d,c,g,m,C?he:r,!0).pipe(Ce(_=>[new gr(u,_)]))}))))}getChildConfig(e,t,i){return t.children?Q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Q({routes:t._loadedRoutes,injector:t._loadedInjector}):function Bq(n,e,t,i){const o=e.canLoad;return void 0===o||0===o.length?Q(!0):Q(o.map(s=>{const a=Ol(s,n);return $r(function Rq(n){return n&&au(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fl(),WF())}(e,t,i).pipe(Qt(o=>o?this.configLoader.loadChildren(e,t).pipe(kt(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):function Wq(n){return Dl(GF(!1,3))}())):Q({routes:[],injector:e})}}function iY(n){const e=n.value.routeConfig;return e&&""===e.path}function qF(n){const e=[],t=new Set;for(const i of n){if(!iY(i)){e.push(i);continue}const o=e.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==o?(o.children.push(...i.children),t.add(o)):e.push(i)}for(const i of t){const o=qF(i.children);e.push(new gr(i.value,o))}return e.filter(i=>!t.has(i))}function YF(n){return n.data||{}}function QF(n){return n.resolve||{}}function ZF(n){return"string"==typeof n.title||null===n.title}function gy(n){return Hn(e=>{const t=n(e);return t?It(t).pipe(Ce(()=>e)):Q(e)})}const Nl=new O("ROUTES");let vy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(fM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=$r(t.loadComponent()).pipe(Ce(XF),kt(r=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=r}),wl(()=>{this.componentLoaders.delete(t)})),o=new lF(i,()=>new ni).pipe(Z_());return this.componentLoaders.set(t,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c;return Array.isArray(a)?c=a:(l=a.create(t).injector,c=l.get(Nl,[],J.Self|J.Optional).flat()),{routes:c.map(py),injector:l}}),wl(()=>{this.childrenLoaders.delete(i)})),s=new lF(r,()=>new ni).pipe(Z_());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(t){return $r(t()).pipe(Ce(XF),Qt(i=>i instanceof ET||Array.isArray(i)?Q(i):It(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XF(n){return function cY(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let em=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ni,this.configLoader=k(vy),this.environmentInjector=k(So),this.urlSerializer=k(Qd),this.rootContexts=k(iu),this.inputBindingEnabled=null!==k(Yf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new nq(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new iq(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new vn({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:eu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xn(i=>0!==i.id),Ce(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Hn(i=>{let o=!1,r=!1;return Q(i).pipe(kt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hn(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new tu(s.id,t.serializeUrl(i.rawUrl),d,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),fo}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return JF(s.source)&&(t.browserUrlTree=s.extractedUrl),Q(s).pipe(Hn(d=>{const u=this.transitions?.getValue();return this.events.next(new oy(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),u!==this.transitions?.getValue()?fo:Promise.resolve(d)}),function nY(n,e,t,i,o,r){return Qt(s=>function Jq(n,e,t,i,o,r,s="emptyOnly"){return new eY(n,e,t,i,o,s,r).recognize()}(n,e,t,i,s.extractedUrl,o,r).pipe(Ce(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),kt(d=>{if(i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);t.setBrowserUrl(h,d)}t.browserUrlTree=d.urlAfterRedirects}const u=new ZK(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:d,extractedUrl:u,source:h,restoredState:p,extras:g}=s,m=new oy(d,this.urlSerializer.serialize(u),h,p);this.events.next(m);const C=OF(0,this.rootComponentType).snapshot;return Q(i={...s,targetSnapshot:C,urlAfterRedirects:u,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new tu(s.id,t.serializeUrl(i.extractedUrl),d,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),fo}}),kt(s=>{const a=new XK(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ce(s=>i={...s,guards:wq(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Fq(n,e){return Qt(t=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=t;return 0===s.length&&0===r.length?Q({...t,guardsResult:!0}):function Pq(n,e,t,i){return It(n).pipe(Qt(o=>function Hq(n,e,t,i,o){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Q(r.map(a=>{const l=ou(e)??o,c=Ol(a,l);return $r(function Aq(n){return n&&au(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Ws())})).pipe(Fl()):Q(!0)}(o.component,o.route,t,e,i)),Ws(o=>!0!==o,!0))}(s,i,o,n).pipe(Qt(a=>a&&function Dq(n){return"boolean"==typeof n}(a)?function Nq(n,e,t,i){return It(e).pipe(yl(o=>Pf(function kq(n,e){return null!==n&&e&&e(new oq(n)),Q(!0)}(o.route.parent,i),function Lq(n,e){return null!==n&&e&&e(new sq(n)),Q(!0)}(o.route,i),function Vq(n,e,t){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(s=>function Sq(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>aF(()=>Q(s.guards.map(l=>{const c=ou(s.node)??t,d=Ol(l,c);return $r(function Mq(n){return n&&au(n.canActivateChild)}(d)?d.canActivateChild(i,n):c.runInContext(()=>d(i,n))).pipe(Ws())})).pipe(Fl())));return Q(r).pipe(Fl())}(n,o.path,t),function Gq(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Q(!0);const o=i.map(r=>aF(()=>{const s=ou(e)??t,a=Ol(r,s);return $r(function Tq(n){return n&&au(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ws())}));return Q(o).pipe(Fl())}(n,o.route,t))),Ws(o=>!0!==o,!0))}(i,r,n,e):Q(a)),Ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),kt(s=>{if(i.guardsResult=s.guardsResult,$s(s.guardsResult))throw kF(0,s.guardsResult);const a=new JK(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Xn(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),gy(s=>{if(s.guards.canActivateChecks.length)return Q(s).pipe(kt(a=>{const l=new eq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Hn(a=>{let l=!1;return Q(a).pipe(function oY(n,e){return Qt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=t;if(!o.length)return Q(t);let r=0;return It(o).pipe(yl(s=>function rY(n,e,t,i){const o=n.routeConfig,r=n._resolve;return void 0!==o?.title&&!ZF(o)&&(r[qd]=o.title),function sY(n,e,t,i){const o=function aY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return Q({});const r={};return It(o).pipe(Qt(s=>function lY(n,e,t,i){const o=ou(e)??i,r=Ol(n,o);return $r(r.resolve?r.resolve(e,t):o.runInContext(()=>r(e,t)))}(n[s],e,t,i).pipe(Ws(),kt(a=>{r[s]=a}))),X_(1),function wK(n){return Ce(()=>n)}(r),zr(s=>UF(s)?fo:Dl(s)))}(r,n,e,i).pipe(Ce(s=>(n._resolvedData=s,n.data=FF(n,t).resolve,o&&ZF(o)&&(n.data[qd]=o.title),null)))}(s.route,i,n,e)),kt(()=>r++),X_(1),Qt(s=>r===o.length?Q(t):fo))})}(t.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),kt(a=>{const l=new tq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),gy(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(kt(d=>{l.component=d}),Ce(()=>{})));for(const d of l.children)c.push(...a(d));return c};return Ff(a(s.targetSnapshot.root)).pipe(Hf(),Hs(1))}),gy(()=>this.afterPreactivation()),Ce(s=>{const a=function hq(n,e,t){const i=nu(n,e._root,t?t._root:void 0);return new IF(i,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return i={...s,targetRouterState:a}}),kt(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t,i)=>Ce(o=>(new yq(e,o.targetRouterState,o.currentRouterState,t,i).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Hs(1),kt({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ks(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),wl(()=>{o||r||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zr(s=>{if(r=!0,HF(s)){VF(s)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new Kf(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),VF(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||JF(i.source)};t.scheduleNavigation(l,eu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new ry(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(s))}catch(l){i.reject(l)}}return fo}))}))}cancelNavigationTransition(t,i,o){const r=new Kf(t.id,this.urlSerializer.serialize(t.extractedUrl),i,o);this.events.next(r),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JF(n){return n!==eu}let eP=(()=>{class n{buildTitle(t){let i,o=t.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===he);return i}getResolvedTitleForRoute(t){return t.data[qd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return k(dY)},providedIn:"root"}),n})(),dY=(()=>{class n extends eP{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(L(VA))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return k(pY)},providedIn:"root"}),n})();class hY{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pY=(()=>{class n extends hY{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(n)))(i||n)}}(),n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tm=new O("",{providedIn:"root",factory:()=>({})});let fY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return k(mY)},providedIn:"root"}),n})(),mY=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ji=(()=>((Ji=Ji||{})[Ji.COMPLETE=0]="COMPLETE",Ji[Ji.FAILED=1]="FAILED",Ji[Ji.REDIRECTING=2]="REDIRECTING",Ji))();function tP(n,e){n.events.pipe(Xn(t=>t instanceof Ks||t instanceof Kf||t instanceof ry||t instanceof tu),Ce(t=>t instanceof Ks||t instanceof tu?Ji.COMPLETE:t instanceof Kf&&(0===t.code||1===t.code)?Ji.REDIRECTING:Ji.FAILED),Xn(t=>t!==Ji.REDIRECTING),Hs(1)).subscribe(()=>{e()})}function gY(n){throw n}function vY(n,e,t){return e.parse("/")}const CY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(pM),this.isNgZoneEnabled=!1,this.options=k(tm,{optional:!0})||{},this.pendingTasks=k(Kp),this.errorHandler=this.options.errorHandler||gY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(fY),this.routeReuseStrategy=k(uY),this.titleStrategy=k(eP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Nl,{optional:!0})?.flat()??[],this.navigationTransitions=k(em),this.urlSerializer=k(Qd),this.location=k(Gb),this.componentInputBindingEnabled=!!k(Yf,{optional:!0}),this.isNgZoneEnabled=k(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ml,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=OF(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),eu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,o){const r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(py),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...r};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}null!==d&&(d=this.removeEmptyProps(d));try{u=wF(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),u=this.currentUrlTree.root}return SF(u,t,d,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const o=$s(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,eu,null,i)}navigate(t,i={skipLocationChange:!1}){return function _Y(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new S(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return i}isActive(t,i){let o;if(o=!0===i?{...CY}:!1===i?{...bY}:i,$s(t))return pF(this.currentUrlTree,t,o);const r=this.parseUrl(t);return pF(this.currentUrlTree,r,o)}removeEmptyProps(t){return Object.keys(t).reduce((i,o)=>{const r=t[o];return null!=r&&(i[o]=r),i},{})}scheduleNavigation(t,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,h)=>{a=u,l=h});const d=this.pendingTasks.add();return tP(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}setBrowserUrl(t,i){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const r={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(o,"",r)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-(this.browserPageId??this.currentPageId);0!==r?this.location.historyGo(r):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iP{}let SY=(()=>{class n{constructor(t,i,o,r,s){this.router=t,this.injector=o,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(t=>t instanceof Ks),yl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const o=[];for(const r of i){r.providers&&!r._injector&&(r._injector=ib(r.providers,t,`Route: ${r.path}`));const s=r._injector??t,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return It(o).pipe(Ta())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Q(null);const r=o.pipe(Qt(s=>null===s?Q(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?It([r,this.loader.loadComponent(i)]).pipe(Ta()):r})}}return n.\u0275fac=function(t){return new(t||n)(L(yi),L(fM),L(So),L(iP),L(vy))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const by=new O("");let nP=(()=>{class n{constructor(t,i,o,r,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=o,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ks?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof tu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof MF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function vD(){throw new Error("invalid")}()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function vr(n,e){return{\u0275kind:n,\u0275providers:e}}function rP(){const n=k(Wn);return e=>{const t=n.get(Ps);if(e!==t.components[0])return;const i=n.get(yi),o=n.get(sP);1===n.get(_y)&&i.initialNavigation(),n.get(aP,null,J.Optional)?.setUpPreloading(),n.get(by,null,J.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const sP=new O("",{factory:()=>new ni}),_y=new O("",{providedIn:"root",factory:()=>1}),aP=new O("");function RY(n){return vr(0,[{provide:aP,useExisting:SY},{provide:iP,useExisting:n}])}const lP=new O("ROUTER_FORROOT_GUARD"),MY=[Gb,{provide:Qd,useClass:J_},yi,iu,{provide:Il,useFactory:function oP(n){return n.routerState.root},deps:[yi]},vy,[]];function AY(){return new xM("Router",yi)}let cP=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[MY,[],{provide:Nl,multi:!0,useValue:t},{provide:lP,useFactory:PY,deps:[[yi,new Es,new Bc]]},{provide:tm,useValue:i||{}},i?.useHash?{provide:Ls,useClass:Y3}:{provide:Ls,useClass:JM},{provide:by,useFactory:()=>{const n=k(m$),e=k(Ne),t=k(tm),i=k(em),o=k(Qd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nP(o,i,n,e,t)}},i?.preloadingStrategy?RY(i.preloadingStrategy).\u0275providers:[],{provide:xM,multi:!0,useFactory:AY},i?.initialNavigation?NY(i):[],i?.bindToComponentInputs?vr(8,[LF,{provide:Yf,useExisting:LF}]).\u0275providers:[],[{provide:dP,useFactory:rP},{provide:Rb,multi:!0,useExisting:dP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Nl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(L(lP,8))},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();function PY(n){return"guarded"}function NY(n){return["disabled"===n.initialNavigation?vr(3,[{provide:Cb,multi:!0,useFactory:()=>{const e=k(yi);return()=>{e.setUpLocationChangeListener()}}},{provide:_y,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vr(2,[{provide:_y,useValue:0},{provide:Cb,multi:!0,deps:[Wn],useFactory:e=>{const t=e.get(K3,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const o=e.get(yi),r=e.get(sP);tP(o,()=>{i(!0)}),e.get(em).afterPreactivation=()=>(i(!0),r.closed?Q(void 0):r),o.initialNavigation()}))}}]).\u0275providers:[]]}const dP=new O(""),uP={headers:new xn({"Content-Type":"application/json"})};let hP=(()=>{class n{constructor(t){this.http=t,this.AUTH_ENDPOINT="http://localhost:8080/api/auth/"}login(t){return this.http.post(this.AUTH_ENDPOINT+"login",t,uP)}logout(){return this.http.post(this.AUTH_ENDPOINT+"signout",{},uP)}}return n.\u0275fac=function(t){return new(t||n)(L(Gd))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kr="cura-patient",yy="-jwt",lu="-employee";let qs=(()=>{class n{constructor(){}clean(){window.sessionStorage.clear()}saveUser(t){window.sessionStorage.removeItem(Kr+yy),window.sessionStorage.removeItem(Kr+lu),window.sessionStorage.setItem(Kr+lu,JSON.stringify(t.employee)),window.sessionStorage.setItem(Kr+yy,t.jwtToken)}getUser(){const t=window.sessionStorage.getItem(Kr+lu);return t?JSON.parse(t):{employee_id:null,name:null,phone_number:null,supervisors:null}}getJwtToken(){return window.sessionStorage.getItem(Kr+yy)||""}isLoggedIn(){return!!window.sessionStorage.getItem(Kr+lu)}isAdmin(){const t=window.sessionStorage.getItem(Kr+lu);return!!t&&1===JSON.parse(t).employee_id}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wy(n){return()=>{const e=k(qs),t=k(yi);return e.isLoggedIn()||t.createUrlTree([n])}}function GY(n,e){1&n&&(z(0,"div",23),We(1," Username is required! "),K())}function VY(n,e){1&n&&(z(0,"div"),We(1,"Password is required"),K())}function HY(n,e){if(1&n&&(z(0,"div",23),Ye(1,VY,2,0,"div",24),K()),2&n){Wt();const t=yn(13);ge(1),Ee("ngIf",t.errors.required)}}function BY(n,e){1&n&&(z(0,"div",25),We(1," Login failed "),K())}const pP=function(n){return{"is-invalid":n}};function jY(n,e){if(1&n){const t=Lp();z(0,"form",10,11),Ke("ngSubmit",function(){Ga(t);const o=yn(1),r=Wt();return Va(o.form.valid&&r.onSubmit())}),z(2,"div",12)(3,"div",13)(4,"span",14),We(5,"Username "),K(),z(6,"input",15,16),Ke("ngModelChange",function(o){return Ga(t),Va(Wt().form.username=o)}),K(),Ye(8,GY,2,0,"div",17),K(),z(9,"div",13)(10,"span",18),We(11,"Password"),K(),z(12,"input",19,20),Ke("ngModelChange",function(o){return Ga(t),Va(Wt().form.password=o)}),K(),Ye(14,HY,2,1,"div",17),K()(),z(15,"div",12)(16,"button",21),We(17," Login "),K()(),z(18,"div",12),Ye(19,BY,2,0,"div",22),K()()}if(2&n){const t=yn(1),i=yn(7),o=yn(13),r=Wt();ge(6),Ee("ngModel",r.form.username)("ngClass",ob(7,pP,t.submitted&&i.errors)),ge(2),Ee("ngIf",i.errors&&t.submitted),ge(4),Ee("ngModel",r.form.password)("ngClass",ob(9,pP,t.submitted&&o.errors)),ge(2),Ee("ngIf",o.errors&&t.submitted),ge(5),Ee("ngIf",t.submitted&&r.isLoginFailed)}}function UY(n,e){if(1&n&&(z(0,"div",26),We(1),K()),2&n){const t=Wt();ge(1),Is(" Logged in as ",t.form.username,". ")}}let WY=(()=>{class n{constructor(t,i,o){this.authService=t,this.storageService=i,this.router=o,this.form={username:"",password:""},this.isLoggedIn=!1,this.isLoginFailed=!1,this.errorMessage="",this.roles=[]}ngOnInit(){}onSubmit(){this.authService.login(this.form).subscribe({next:o=>{this.storageService.saveUser(o),this.isLoginFailed=!1,this.isLoggedIn=!0,this.router.navigate(["/employee"])},error:o=>{this.isLoginFailed=!0}})}reloadPage(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(E(hP),E(qs),E(yi))},n.\u0275cmp=oi({type:n,selectors:[["app-login-page"]],decls:13,vars:2,consts:[[1,"container","text-center","h-100"],[1,"row","h-100","align-items-center"],[1,"col"],[1,"p-5","mb-4","bg-body-tertiary","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[1,"fs-4"],[1,"p-5","mb-4","card","card-container"],["name","form","novalidate","",3,"ngSubmit",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["name","form","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],[1,"input-group","mb-3"],["id","inputGroup-username",1,"input-group-text"],["type","text","name","username","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["username","ngModel"],["class","alert alert-danger","role","alert","class","invalid-feedback",4,"ngIf"],["id","inputGroup-password",1,"input-group-text"],["type","password","aria-label","password input","name","password","required","","aria-describedby","inputGroup-password",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["password","ngModel"],[1,"btn","btn-primary","btn-block"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"invalid-feedback"],[4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,i){1&t&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),We(6,"CuraPatient"),K(),z(7,"p",6),We(8,"Login to see your upcoming apointments, medications, etc."),K()()()(),z(9,"div",2)(10,"div",7),Ye(11,jY,20,11,"form",8),Ye(12,UY,2,1,"div",9),K()()()()),2&t&&(ge(11),Ee("ngIf",!i.isLoggedIn),ge(1),Ee("ngIf",i.isLoggedIn))},dependencies:[uA,Rd,x_,Id,f_,m_,Df,xf,Ld],styles:["[_nghost-%COMP%]{height:100%;width:100%}"]}),n})();function zY(n,e){1&n&&(z(0,"li",7)(1,"a",13),We(2,"Employee List"),K()())}let fP=(()=>{class n{constructor(){this.name="",this.isAdmin=!1,this.logoutEvent=new A}ngOnInit(){}logoutClick(){this.logoutEvent.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=oi({type:n,selectors:[["app-header"]],inputs:{name:"name",isAdmin:"isAdmin"},outputs:{logoutEvent:"logoutEvent"},decls:18,vars:2,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark","border-bottom","border-bottom-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto;"],[1,"nav-item"],["aria-current","page","href","/employee",1,"nav-link","active"],["class","nav-item",4,"ngIf"],[1,"navbar-text","d-none","d-md-block"],[1,"navbar-nav","ml-auto","d-flex"],["aria-current","page","href","#",1,"nav-link","active",3,"click"],["href","/employee/list",1,"nav-link"]],template:function(t,i){1&t&&(z(0,"nav",0)(1,"div",1)(2,"a",2),We(3,"CuraPatient"),K(),z(4,"button",3),Xi(5,"span",4),K(),z(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),We(10,"My Info"),K()(),Ye(11,zY,3,0,"li",9),K()(),z(12,"span",10),We(13),K(),z(14,"ul",11)(15,"li",7)(16,"a",12),Ke("click",function(){return i.logoutClick()}),We(17,"Log Out"),K()()()()()),2&t&&(ge(11),Ee("ngIf",i.isAdmin),ge(2),Is(" ",i.name," "))},dependencies:[Rd],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]}),n})(),$Y=(()=>{class n{constructor(){this.employeeToShow=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=oi({type:n,selectors:[["app-user-card"]],inputs:{employeeToShow:["employee","employeeToShow"]},decls:13,vars:5,consts:[[1,"card"],["src","...","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"card-link",3,"href"]],template:function(t,i){1&t&&(z(0,"div",0),Xi(1,"img",1),z(2,"div",2)(3,"h5",3),We(4),K()(),z(5,"ul",4)(6,"li",5),We(7),K(),z(8,"li",5),We(9),K()(),z(10,"div",2)(11,"a",6),We(12),K()()()),2&t&&(ge(4),pd(null==i.employeeToShow?null:i.employeeToShow.name),ge(3),Is("Employee Id: ",null==i.employeeToShow?null:i.employeeToShow.employee_id,""),ge(2),Is("Supervisors: ",null==i.employeeToShow?null:i.employeeToShow.supervisors,""),ge(2),Ee("href","tel:"+(null==i.employeeToShow?null:i.employeeToShow.phone_number),Xv),ge(1),pd(null==i.employeeToShow?null:i.employeeToShow.phone_number))}}),n})(),mP=(()=>{class n{constructor(t){this.storageService=t,this.employee={employee_id:null,name:null,phone_number:null,supervisors:null}}ngOnInit(){this.employee=this.storageService.getUser()}logout(){this.storageService.clean(),window.location.reload()}isAdmin(){return this.storageService.isAdmin()}}return n.\u0275fac=function(t){return new(t||n)(E(qs))},n.\u0275cmp=oi({type:n,selectors:[["app-employee-info"]],decls:6,vars:3,consts:[[1,"container-fluid","text-center","p-0"],[1,"row"],[3,"name","isAdmin","logoutEvent"],[1,"col"],[3,"employee"]],template:function(t,i){1&t&&(z(0,"div",0)(1,"div",1)(2,"app-header",2),Ke("logoutEvent",function(){return i.logout()}),K()(),z(3,"div",1)(4,"div",3),Xi(5,"app-user-card",4),K()()()),2&t&&(ge(2),Ee("name",i.employee.name)("isAdmin",i.isAdmin()),ge(3),Ee("employee",i.employee))},dependencies:[fP,$Y],styles:["[_nghost-%COMP%]{height:100%;width:100%}"]}),n})();function qr(n){return null==n||""===n?null:n}function D(n,e=!1){return null!=n&&(""!==n||e)}function q(n){return!D(n)}function en(n){return null==n||0===n.length}function cu(n){return null!=n&&"function"==typeof n.toString?n.toString():null}function Dn(n){if(void 0===n)return;if(null===n||""===n)return null;if("number"==typeof n)return isNaN(n)?void 0:n;const e=parseInt(n,10);return isNaN(e)?void 0:e}function Fo(n){if(void 0!==n)return null!==n&&""!==n&&("boolean"==typeof n?n:/true/i.test(n))}function Ll(n){if(n instanceof Set||n instanceof Map){const e=[];return n.forEach(t=>e.push(t)),e}return Object.values(n)}var ZY=Object.freeze({__proto__:null,makeNull:qr,exists:D,missing:q,missingOrEmpty:en,toStringOrNull:cu,attrToNumber:Dn,attrToBoolean:Fo,attrToString:function KY(n){if(null!=n&&""!==n)return n},referenceCompare:function qY(n,e){return null==n&&null==e||!(null==n&&null!=e||null!=n&&null==e)&&n===e},jsonEquals:function YY(n,e){return(n?JSON.stringify(n):null)===(e?JSON.stringify(e):null)},defaultComparator:function QY(n,e,t=!1){const i=null==n,o=null==e;if(n&&n.toNumber&&(n=n.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&o)return 0;if(i)return-1;if(o)return 1;function r(s,a){return s>a?1:s<a?-1:0}if("string"!=typeof n||!t)return r(n,e);try{return n.localeCompare(e)}catch{return r(n,e)}},values:Ll});class XY{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=cu(e);let i=0;for(;;){let o;if(e?(o=e,0!==i&&(o+="_"+i)):t?(o=t,0!==i&&(o+="_"+i)):o=""+i,!this.existingKeys[o])return this.existingKeys[o]=!0,o;i++}}}function it(n,e){null!=n&&(Array.isArray(n)?n.forEach((t,i)=>e(`${i}`,t)):Object.keys(n).forEach(t=>e(t,n[t])))}function Sy(n){const e={},t=Object.keys(n);for(let i=0;i<t.length;i++){const o=t[i];e[o]=n[o]}return e}function im(n,e){if(!n)return;const t=n,i={};return Object.keys(t).forEach(o=>{if(e&&e.indexOf(o)>=0)return;const r=t[o];i[o]=nm(r)&&r.constructor===Object?im(r):r}),i}function gP(n,e){return n[e]}function vP(n,e,t){n[e]=t}function CP(n,e,t,i){const o=gP(n,t);void 0!==o&&vP(e,t,i?i(o):o)}function bP(n){const e={};return n.filter(t=>null!=t).forEach(t=>{Object.keys(t).forEach(i=>e[i]=null)}),Object.keys(e)}function Po(n){if(!n)return[];const e=Object;if("function"==typeof e.values)return e.values(n);const t=[];for(const i in n)n.hasOwnProperty(i)&&n.propertyIsEnumerable(i)&&t.push(n[i]);return t}function tn(n,e,t=!0,i=!1){D(e)&&it(e,(o,r)=>{let s=n[o];s!==r&&(i&&null==s&&null!=r&&"object"==typeof r&&r.constructor===Object&&(s={},n[o]=s),nm(r)&&nm(s)&&!Array.isArray(s)?tn(s,r,t,i):(t||void 0!==r)&&(n[o]=r))})}function Ys(n,e,t){if(!e||!n)return;if(!t)return n[e];const i=e.split(".");let o=n;for(let r=0;r<i.length;r++){if(null==o)return;o=o[i[r]]}return o}function _P(n,e){Object.keys(n).forEach(o=>{"object"==typeof n[o]&&(n[o]=void 0)});const t=Object.getPrototypeOf(n),i={};Object.keys(t).forEach(o=>{"function"==typeof t[o]&&(i[o]={value:()=>{console.warn(`AG Grid: ${e} function ${o}() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.`)},writable:!0})}),Object.defineProperties(n,i)}function nm(n){return"object"==typeof n&&null!==n}var o9=Object.freeze({__proto__:null,iterateObject:it,cloneObject:Sy,deepCloneObject:function JY(n){return JSON.parse(JSON.stringify(n))},deepCloneDefinition:im,getProperty:gP,setProperty:vP,copyPropertiesIfPresent:function e9(n,e,...t){t.forEach(i=>CP(n,e,i))},copyPropertyIfPresent:CP,getAllKeysInObjects:bP,getAllValuesInObject:Po,mergeDeep:tn,missingOrEmptyObject:function t9(n){return q(n)||0===Object.keys(n).length},get:function i9(n,e,t){if(null==n)return t;const i=e.split(".");let o=n;for(;i.length>1;)if(o=o[i.shift()],null==o)return t;return o[i[0]]??t},set:function n9(n,e,t){if(null==n)return;const i=e.split(".");let o=n;i.forEach((r,s)=>{o[r]||(o[r]={}),s<i.length-1&&(o=o[r])}),o[i[i.length-1]]=t},getValueUsingField:Ys,removeAllReferences:_P,isNonNullObject:nm});const yP={};function xe(n,e){yP[e]||(n(),yP[e]=!0)}function om(n){if(n.name)return n.name;const e=/function\s+([^\(]+)/.exec(n.toString());return e&&2===e.length?e[1].trim():null}function rm(n){return!!(n&&n.constructor&&n.call&&n.apply)}function wP(n){SP(n,400)}const Ey=[];let xy=!1;function Dy(n){Ey.push(n),!xy&&(xy=!0,window.setTimeout(()=>{const e=Ey.slice();Ey.length=0,xy=!1,e.forEach(t=>t())},0))}function SP(n,e=0){n.length>0&&window.setTimeout(()=>n.forEach(t=>t()),e)}function No(n,e){let t;return function(...i){const o=this;window.clearTimeout(t),t=window.setTimeout(function(){n.apply(o,i)},e)}}function Ry(n,e){let t=0;return function(...i){const r=(new Date).getTime();r-t<e||(t=r,n.apply(this,i))}}function EP(n,e,t=100,i){const o=(new Date).getTime();let r=null,s=!1;const a=()=>{const l=(new Date).getTime()-o>t;(n()||l)&&(e(),s=!0,null!=r&&(window.clearInterval(r),r=null),l&&i&&console.warn(i))};a(),s||(r=window.setInterval(a,10))}function xP(n){n&&n()}var s9=Object.freeze({__proto__:null,doOnce:xe,getFunctionName:om,isFunction:rm,executeInAWhile:wP,executeNextVMTurn:Dy,executeAfter:SP,debounce:No,throttle:Ry,waitUntil:EP,compose:function r9(...n){return e=>n.reduce((t,i)=>i(t),e)},callIfPresent:xP,noop:()=>{}}),F=(()=>((F=F||{}).CommunityCoreModule="@ag-grid-community/core",F.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",F.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",F.CsvExportModule="@ag-grid-community/csv-export",F.EnterpriseCoreModule="@ag-grid-enterprise/core",F.RowGroupingModule="@ag-grid-enterprise/row-grouping",F.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",F.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",F.MenuModule="@ag-grid-enterprise/menu",F.SetFilterModule="@ag-grid-enterprise/set-filter",F.MultiFilterModule="@ag-grid-enterprise/multi-filter",F.StatusBarModule="@ag-grid-enterprise/status-bar",F.SideBarModule="@ag-grid-enterprise/side-bar",F.RangeSelectionModule="@ag-grid-enterprise/range-selection",F.MasterDetailModule="@ag-grid-enterprise/master-detail",F.RichSelectModule="@ag-grid-enterprise/rich-select",F.GridChartsModule="@ag-grid-enterprise/charts",F.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",F.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",F.ExcelExportModule="@ag-grid-enterprise/excel-export",F.ClipboardModule="@ag-grid-enterprise/clipboard",F.SparklinesModule="@ag-grid-enterprise/sparklines",F.AngularModule="@ag-grid-community/angular",F.ReactModule="@ag-grid-community/react",F.VueModule="@ag-grid-community/vue",F))();let Y=(()=>{class n{static register(t,i=!0,o=void 0){n.runVersionChecks(t),void 0!==o?(n.areGridScopedModules=!0,void 0===n.gridModulesMap[o]&&(n.gridModulesMap[o]={}),n.gridModulesMap[o][t.moduleName]=t):n.globalModulesMap[t.moduleName]=t,n.setModuleBased(i)}static unRegisterGridModules(t){delete n.gridModulesMap[t]}static registerModules(t,i=!0,o=void 0){n.setModuleBased(i),t&&t.forEach(r=>n.register(r,i,o))}static isValidModuleVersion(t){const[i,o]=t.version.split(".")||[],[r,s]=n.currentModuleVersion.split(".")||[];return i===r&&o===s}static runVersionChecks(t){if(n.currentModuleVersion||(n.currentModuleVersion=t.version),t.version?n.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){const i=t.validate();i.isValid||console.error(`AG Grid: ${i.message}`)}}static setModuleBased(t){void 0===n.moduleBased?n.moduleBased=t:n.moduleBased!==t&&xe(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static setIsBundled(){n.isBundled=!0}static assertRegistered(t,i,o){var r;if(this.isRegistered(t,o))return!0;const s=i+t;let a;if(n.isBundled)a=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(n.moduleBased||void 0===n.moduleBased){let l=null===(r=Object.entries(F).find(([c,d])=>d===t))||void 0===r?void 0:r[0];a=`AG Grid: unable to use ${i} as the ${l} is not registered${n.areGridScopedModules?` for gridId: ${o}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${l} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${l} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else a=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/`;return xe(()=>{console.warn(a)},s),!1}static isRegistered(t,i){var o;return!!n.globalModulesMap[t]||!(null===(o=n.gridModulesMap[i])||void 0===o||!o[t])}static getRegisteredModules(t){return[...Ll(n.globalModulesMap),...Ll(n.gridModulesMap[t]||{})]}static isPackageBased(){return!n.moduleBased}}return n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n})();class a9{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Ll(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),D(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),it(this.beanWrappers,(t,i)=>{let o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);const r=this.getBeansForParameters(o,i.bean.name),s=new(i.bean.bind.apply(i.bean,[null,...r]));i.beanInstance=s});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let o;return o=e.prototype.constructor?om(e.prototype.constructor):""+e,void console.error(`Context item ${o} is not a bean`)}this.beanWrappers[t.beanName]={bean:e,beanInstance:null,beanName:t.beanName}}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,o)=>{const r=i.agClassAttributes;r&&r.forEach(s=>{const a=this.lookupBeanInstance(o,s.beanName,s.optional);t[s.attributeName]=a})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(i,o)=>{it(i.autowireMethods,(r,s)=>{if("agConstructor"===r)return;const a=this.getBeansForParameters(s,o);t[r].apply(t,a)})})})}forEachMetaDataInHierarchy(e,t){let i=Object.getPrototypeOf(e);for(;null!=i;){const o=i.constructor;o.hasOwnProperty("__agBeanMetaData")&&t(o.__agBeanMetaData,this.getBeanName(o)),i=Object.getPrototypeOf(i)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const i=[];return e&&it(e,(o,r)=>{const s=this.lookupBeanInstance(t,r);i[Number(o)]=s}),i}lookupBeanInstance(e,t,i=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if("context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const o=this.beanWrappers[t];return o?o.beanInstance:(i||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(i=>this.callLifeCycleMethodsOnBean(i,t))}callLifeCycleMethodsOnBean(e,t,i){const o={};this.forEachMetaDataInHierarchy(e,s=>{const a=s[t];a&&a.forEach(l=>{l!=i&&(o[l]=!0)})}),Object.keys(o).forEach(s=>e[s]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,Y.unRegisterGridModules(this.contextParams.gridId),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy"),"function"==typeof t.destroy&&t.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}function DP(n,e,t){const i=Qs(n.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function P(n,e,t){const i=Qs(n.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function zt(n,e,t){const i=Qs(n.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function G(n){return e=>{Qs(e).beanName=n}}function f(n){return(e,t,i)=>{RP(e,n,!1,0,t,null)}}function Ie(n){return(e,t,i)=>{RP(e,n,!0,0,t,null)}}function RP(n,e,t,i,o,r){if(null===e)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof r)return void console.error("AG Grid: Autowired should be on an attribute");const s=Qs(n.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:e,optional:t})}function wi(n){return(e,t,i)=>{const o="function"==typeof e?e:e.constructor;let r;if("number"==typeof i){let s;t?(r=Qs(o),s=t):(r=Qs(o),s="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[s]||(r.autowireMethods[s]={}),r.autowireMethods[s][i]=n}}}function Qs(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var TP=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},sm=function(n,e){return function(t,i){e(t,i,n)}};let eo=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,i,o=null){if(this.frameworkOverrides=i,this.gridOptionsService=t,o){const r=t.useAsyncEvents();this.addGlobalListener(o,r)}}getListeners(e,t,i){const o=t?this.allAsyncListeners:this.allSyncListeners;let r=o.get(e);return!r&&i&&(r=new Set,o.set(e,r)),r}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const o=this.getListeners(e,i,!1);o&&(o.delete(t),0===o.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;if(this.gridOptionsService){const{api:i,columnApi:o,context:r}=this.gridOptionsService;t.api=i,t.columnApi=o,t.context=r}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const r=new Set(this.getListeners(i,t,!1));r&&(a=>{a.forEach(l=>{t?this.dispatchAsync(()=>l(e)):l(e)})})(r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{t?this.dispatchAsync(()=>this.frameworkOverrides.dispatchEvent(i,()=>a(i,e),!0)):this.frameworkOverrides.dispatchEvent(i,()=>a(i,e),!0)})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};TP([sm(0,wi("loggerFactory")),sm(1,wi("gridOptionsService")),sm(2,wi("frameworkOverrides")),sm(3,wi("globalEventListener"))],eo.prototype,"setBeans",null),eo=TP([G("eventService")],eo);var am=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let l9=0;function MP(){return l9++}let Ve=(()=>{class n{constructor(t,i,o,r){this.instanceId=MP(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new eo,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=i,this.colId=o,this.primary=r,this.setState(t)}getInstanceId(){return this.instanceId}setState(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);const i=Dn(t.sortIndex),o=Dn(t.initialSortIndex);void 0!==i?null!==i&&(this.sortIndex=i):null!==o&&(this.sortIndex=o);const r=Fo(t.hide),s=Fo(t.initialHide);this.visible=void 0!==r?!r:!s,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);const a=Dn(t.flex),l=Dn(t.initialFlex);void 0!==a?this.flex=a:void 0!==l&&(this.flex=l)}setColDef(t,i){this.colDef=t,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=D(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=D(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)}initTooltip(){this.tooltipEnabled=D(this.colDef.tooltipField)||D(this.colDef.tooltipValueGetter)||D(this.colDef.tooltipComponent)}resetActualWidth(t="api"){const i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,t,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){return!q(this.colDef)&&!q(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===t)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const t=this.colDef;function i(r,s,a){xe(()=>{a?console.warn(r,a):xe(()=>console.warn(r),s)},s)}if(this.gridOptionsService.isRowModelType("clientSide")&&!Y.isRegistered(F.RowGroupingModule,this.gridOptionsService.getGridId())){const s=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(a=>D(t[a]));s.length>0&&Y.assertRegistered(F.RowGroupingModule,s.map(a=>"colDef."+a).join(", "),this.gridOptionsService.getGridId())}if(("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&Y.assertRegistered(F.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.isTreeData()){const s=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(a=>D(t[a]));s.length>0&&i(`AG Grid: ${s.join()} is not possible when doing tree data, your column definition should not have ${s.join()}`,"TreeDataCannotRowGroup")}if(D(t.menuTabs))if(Array.isArray(t.menuTabs)){const r=["filterMenuTab"],s=["columnsMenuTab","generalMenuTab"],a=s.filter(l=>t.menuTabs.includes(l));a.length>0&&Y.assertRegistered(F.MenuModule,`menuTab(s): ${a.map(l=>`'${l}'`).join()}`,this.gridOptionsService.getGridId()),t.menuTabs.forEach(l=>{!s.includes(l)&&!r.includes(l)&&i(`AG Grid: '${l}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...r,...s].map(c=>`'${c}'`).join()}.`,"wrongValue_menuTabs_"+l)})}else i("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");D(t.columnsMenuParams)&&Y.assertRegistered(F.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),D(t.columnsMenuParams)&&Y.assertRegistered(F.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),D(this.colDef.width)&&"number"!=typeof this.colDef.width&&i("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),D(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&i(`AG Grid: '${t.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(t,i){this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService.removeEventListener(t,i)}createColumnFunctionCallbackParams(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const i=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(i)}return!1}isCellEditable(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!Fo(this.colDef.suppressFillHandle)}isAutoHeight(){return!!Fo(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!Fo(this.colDef.autoHeaderHeight)}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!Fo(this.colDef.resizable)}isColumnFunc(t,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(t))}setMoving(t,i="api"){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",i))}createColumnEvent(t,i){return{type:t,column:this,columns:[this],source:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,i="api"){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",i)))}setMenuVisible(t,i="api"){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",i)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return q(this.sort)}isSorting(){return D(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t}setAggFunc(t){this.aggFunc=t}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,i="api"){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",i)))}isFilterActive(){return this.filterActive}setFilterActive(t,i="api",o){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",i)));const r=this.createColumnEvent("filterChanged",i);o&&tn(r,o),this.eventService.dispatchEvent(r)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null}setFirstRightPinned(t,i="api"){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",i)))}setLastLeftPinned(t,i="api"){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",i)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(t,i="api"){const o=!0===t;this.visible!==o&&(this.visible=o,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",i)))}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const i=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,i}createBaseColDefParams(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(t){if(q(this.colDef.colSpan))return 1;const i=this.createBaseColDefParams(t),o=this.colDef.colSpan(i);return Math.max(o,1)}getRowSpan(t){if(q(this.colDef.rowSpan))return 1;const i=this.createBaseColDefParams(t),o=this.colDef.rowSpan(i);return Math.max(o,1)}setActualWidth(t,i="api",o=!1){null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),o||this.fireColumnWidthChangedEvent(i))}fireColumnWidthChangedEvent(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return null!=this.maxWidth&&t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t)}setMinimum(t="api"){D(this.minWidth)&&this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,i="api"){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",i)))}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,i="api"){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",i)))}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,i="api"){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",i)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(t){let i=this.getColDef().menuTabs;return null==i&&(i=t),i}}return n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n})();am([f("gridOptionsService")],Ve.prototype,"gridOptionsService",void 0),am([f("columnUtils")],Ve.prototype,"columnUtils",void 0),am([f("columnHoverService")],Ve.prototype,"columnHoverService",void 0),am([P],Ve.prototype,"initialise",null);let pt=(()=>{class n{constructor(t,i,o,r){this.localEventService=new eo,this.expandable=!1,this.instanceId=MP(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=i,this.expanded=!!t&&!!t.openByDefault,this.padding=o,this.level=r}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(t,i){this.colGroupDef=t,this.level=i,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(t=>t.isVisible())}isPadding(){return this.padding}setExpanded(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(i=>{i instanceof Ve?t.push(i):i instanceof n&&i.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(i=>i.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(i=>i.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,i=!1,o=!1;const r=this.findChildrenRemovingPadding();for(let a=0,l=r.length;a<l;a++){const c=r[a];if(!c.isVisible())continue;const d=c.getColumnGroupShow();"open"===d?(t=!0,o=!0):"closed"===d?(i=!0,o=!0):(t=!0,i=!0)}const s=t&&i&&o;this.expandable!==s&&(this.expandable=s,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const t=[],i=o=>{o.forEach(r=>{r instanceof n&&r.isPadding()?i(r.children):t.push(r)})};return i(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}}return n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([zt],pt.prototype,"destroy",null);const d9={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function AP(...n){for(let e=0;e<n.length;e++){const t=n[e];if(D(t))return t}return null}function He(n){if(n&&n.length)return n[n.length-1]}function Yr(n,e,t){return null==n&&null==e||null!=n&&null!=e&&n.length===e.length&&n.every((i,o)=>t?t(i,e[o]):e[o]===i)}function IP(n){return n.sort((e,t)=>e-t)}function di(n,e){const t=n.indexOf(e);t>=0&&n.splice(t,1)}function Ty(n,e){e.forEach(t=>di(n,t))}function du(n,e,t){n.splice(t,0,e)}function My(n,e,t){Ty(n,e),e.slice().reverse().forEach(i=>du(n,i,t))}function Rn(n,e){return n.indexOf(e)>-1}function OP(n){return[].concat.apply([],n)}function Ay(n,e){null==e||null==n||e.forEach(t=>n.push(t))}var v9=Object.freeze({__proto__:null,firstExistingValue:AP,existsAndNotEmpty:function u9(n){return null!=n&&n.length>0},last:He,areEqual:Yr,shallowCompare:function h9(n,e){return Yr(n,e)},sortNumerically:IP,removeRepeatsFromArray:function p9(n,e){if(n)for(let t=n.length-2;t>=0;t--)n[t]===e&&n[t+1]===e&&n.splice(t+1,1)},removeFromArray:di,removeAllFromArray:Ty,insertIntoArray:du,insertArrayIntoArray:function f9(n,e,t){if(null!=n&&null!=e)for(let i=e.length-1;i>=0;i--)du(n,e[i],t)},moveInArray:My,includes:Rn,flatten:OP,pushAll:Ay,toStrings:function m9(n){return n.map(cu)},forEachReverse:function g9(n,e){if(null!=n)for(let t=n.length-1;t>=0;t--)e(n[t],t)}});const FP="__ag_Grid_Stop_Propagation",C9=["touchstart","touchend","touchmove","touchcancel","scroll"],Iy={};function Cr(n){n[FP]=!0}function Lo(n){return!0===n[FP]}const Oy=(()=>{const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"==typeof Iy[t])return Iy[t];const i=document.createElement(n[t]||"div");return Iy[t="on"+t]=t in i}})();function lm(n,e,t){let i=e;for(;i;){const o=n.getDomData(i,t);if(o)return o;i=i.parentElement}return null}function cm(n,e){return!(!e||!n)&&NP(e).indexOf(n)>=0}function PP(n){const e=[];let t=n.target;for(;t;)e.push(t),t=t.parentElement;return e}function NP(n){const e=n;return e.path?e.path:e.composedPath?e.composedPath():PP(e)}function LP(n,e,t,i){const r=Rn(C9,t)?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(e,t,i,r)}var b9=Object.freeze({__proto__:null,stopPropagationForAgGrid:Cr,isStopPropagationForAgGrid:Lo,isEventSupported:Oy,getCtrlForEventTarget:lm,isElementInEventPath:cm,createEventPath:PP,getEventPath:NP,addSafePassiveEventListener:LP}),Zs=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let T=(()=>{class n{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(t=>t()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})}addEventListener(t,i){this.localEventService||(this.localEventService=new eo),this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService&&this.localEventService.removeEventListener(t,i)}dispatchEventAsync(t){window.setTimeout(()=>this.dispatchEvent(t),0)}dispatchEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedListener(t,i,o){if(this.destroyed)return;t instanceof HTMLElement?LP(this.getFrameworkOverrides(),t,i,o):t.addEventListener(i,o);const r=()=>(t.removeEventListener(i,o),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==r),null);return this.destroyFunctions.push(r),r}addManagedPropertyListener(t,i){if(this.destroyed)return;this.gridOptionsService.addEventListener(t,i);const o=()=>(this.gridOptionsService.removeEventListener(t,i),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==o),null);return this.destroyFunctions.push(o),o}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,i){const o=this.createBean(t,i);return this.addDestroyFunc(this.destroyBean.bind(this,t,i)),o}createBean(t,i,o){return(i||this.getContext()).createBean(t,o)}destroyBean(t,i){return(i||this.getContext()).destroyBean(t)}destroyBeans(t,i){return t&&t.forEach(o=>this.destroyBean(o,i)),[]}}return n.EVENT_DESTROYED="destroyed",n})();Zs([f("frameworkOverrides")],T.prototype,"frameworkOverrides",void 0),Zs([f("context")],T.prototype,"context",void 0),Zs([f("eventService")],T.prototype,"eventService",void 0),Zs([f("gridOptionsService")],T.prototype,"gridOptionsService",void 0),Zs([f("localeService")],T.prototype,"localeService",void 0),Zs([f("environment")],T.prototype,"environment",void 0),Zs([zt],T.prototype,"destroy",null);var dm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let kl=class extends T{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,i){const o=new XY,{existingCols:r,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(i);o.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,r,o,s),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);const d=this.balanceColumnTree(l,0,c,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,d,(h,p)=>{h instanceof pt&&h.setupExpandable(),h.setOriginalParent(p)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){const t=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{if(r instanceof pt)i.push(r);else{const s=r;o.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:i,existingColKeys:o}}createForAutoGroups(e,t){return e.map(i=>this.createAutoGroupTreeItem(t,i))}createAutoGroupTreeItem(e,t){let o=t;for(let r=this.findDepth(e)-1;r>=0;r--){const s=new pt(null,`FAKE_PATH_${t.getId()}}_${r}`,!0,r);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return o}findDepth(e){let t=0,i=e;for(;i&&i[0]&&i[0]instanceof pt;)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,o){const r=[];for(let s=0;s<e.length;s++){const a=e[s];if(a instanceof pt){const l=a,c=this.balanceColumnTree(l.getChildren(),t+1,i,o);l.setChildren(c),r.push(l)}else{let l,c;for(let d=i-1;d>=t;d--){const u=o.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),p=new pt(h,u,!0,t);this.createBean(p),c&&c.setChildren([p]),c=p,l||(l=c)}if(l&&c){if(r.push(l),e.some(u=>u instanceof pt)){c.setChildren([a]);continue}c.setChildren(e);break}r.push(a)}}return r}findMaxDept(e,t){let i=t;for(let o=0;o<e.length;o++){const r=e[o];if(r instanceof pt){const a=this.findMaxDept(r.getChildren(),t+1);i<a&&(i=a)}}return i}recursivelyCreateColumns(e,t,i,o,r,s){return(e||[]).map(a=>this.isColumnGroup(a)?this.createColumnGroup(i,a,t,o,r,s):this.createColumn(i,a,o,r))}createColumnGroup(e,t,i,o,r,s){const a=this.createMergedColGroupDef(t),l=r.getUniqueKey(a.groupId||null,null),c=new pt(a,l,!1,i);this.createBean(c);const d=this.findExistingGroup(t,s);d&&di(s,d),d&&d.isExpanded()&&c.setExpanded(!0);const u=this.recursivelyCreateColumns(a.children,i+1,e,o,r,s);return c.setChildren(u),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,o){let r=this.findExistingColumn(t,i);if(i&&r&&di(i,r),r){const s=this.mergeColDefs(t,r.getColId());r.setColDef(s,t),this.applyColumnState(r,s)}else{const s=o.getUniqueKey(t.colId,t.field),a=this.mergeColDefs(t,s);r=new Ve(a,t,s,e),this.context.createBean(r)}return r}applyColumnState(e,t){const i=Dn(t.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){const a=Dn(t.width);if(null!=a)e.setActualWidth(a);else{const l=e.getActualWidth();e.setActualWidth(l)}}void 0!==t.sort&&e.setSort("asc"==t.sort||"desc"==t.sort?t.sort:void 0);const r=Dn(t.sortIndex);void 0!==r&&e.setSortIndex(r);const s=Fo(t.hide);void 0!==s&&e.setVisible(!s),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){return(t||[]).find(i=>{const o=i.getUserProvidedColDef();if(!o)return!1;const s=null!=e.field;return null!=e.colId?i.getId()===e.colId:s?o.field===e.field:o===e})}findExistingGroup(e,t){return t.find(i=>!(!i.getColGroupDef()||null==e.groupId)&&i.getId()===e.groupId)}mergeColDefs(e,t){const i={};tn(i,this.gridOptionsService.get("defaultColDef"),!1,!0);const r=this.dataTypeService.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),tn(i,e,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&a&&tn(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},d9);it(this.gridOptionsService.get("columnTypes")||{},(r,s)=>{r in i?console.warn(`AG Grid: the column type '${r}' is a default column type and cannot be overridden.`):i[r]=s}),e.forEach(r=>{const s=i[r.trim()];s?tn(t,s,!1,!0):console.warn("AG Grid: colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return void 0!==e.children}};var e;dm([f("columnUtils")],kl.prototype,"columnUtils",void 0),dm([f("dataTypeService")],kl.prototype,"dataTypeService",void 0),dm([(0,e=wi("loggerFactory"),function(t,i){e(t,i,0)})],kl.prototype,"setBeans",null),kl=dm([G("columnFactory")],kl);let Si=(()=>{class n{constructor(t,i,o,r){this.displayedChildren=[],this.localEventService=new eo,this.groupId=i,this.partId=o,this.providedColumnGroup=t,this.pinned=r}static createUniqueId(t,i){return t+"_"+i}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return n.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(i=>i.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof n&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const i=He(this.displayedChildren).getLeft();this.setLeft(i)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(t){return{type:t}}addEventListener(t,i){this.localEventService.addEventListener(t,i)}removeEventListener(t,i){this.localEventService.removeEventListener(t,i)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let i=!1;return this.children.forEach(o=>{t===o&&(i=!0),o instanceof n&&o.isChildInThisGroupDeepSearch(t)&&(i=!0)}),i}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(i=>{t+=i.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(i=>{i.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(i=>{t+=i.getMinWidth()||0}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(i=>{i instanceof Ve?t.push(i):i instanceof n&&i.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(i=>{i instanceof Ve?t.push(i):i instanceof n&&i.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;null!=t&&t.isPadding();)t=t.getParent();if(!t||!t.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(o=>{if(!(o instanceof n)||o.displayedChildren&&o.displayedChildren.length)switch(o.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(o);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(o);break;default:this.displayedChildren.push(o)}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))}}return n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([f("gridOptionsService")],Si.prototype,"gridOptionsService",void 0);let v=(()=>{class n{}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_CHANGED="rowDataChanged",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_KEYBOARD_FOCUS="keyboardFocus",n.EVENT_MOUSE_FOCUS="mouseFocus",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n})();class kP{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return i="number"!=typeof t?0:t+1,this.existingIds[e]=i,i}}var Fy=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const Gl="ag-Grid-AutoColumn";let uu=class extends T{createAutoGroupColumns(e,t){const i=[],o=this.gridOptionsService.isTreeData();let r=this.gridOptionsService.isGroupMultiAutoColumn();return o&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?t.forEach((s,a)=>{i.push(this.createOneAutoGroupColumn(e,s,a))}):i.push(this.createOneAutoGroupColumn(e)),i}createOneAutoGroupColumn(e,t,i){let r,o=this.generateDefaultColDef(t);r=t?`${Gl}-${t.getId()}`:Gl,tn(o,this.gridOptionsService.get("autoGroupColumnDef")),o=this.columnFactory.mergeColDefs(o,r),o.colId=r,this.gridOptionsService.isTreeData()||q(o.field)&&q(o.valueGetter)&&q(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1),i&&i>0&&(o.headerCheckboxSelection=!1);const a=e.find(d=>d.getId()==r),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();if(a)return l&&(o.sort=void 0,o.sortIndex=void 0),a.setColDef(o,null),this.columnFactory.applyColumnState(a,o),a;l&&(o.sort||o.initialSort||"sortIndex"in o)&&!o.field&&(o.sort=null,o.sortIndex=null,o.initialSort=null);const c=new Ve(o,null,r,!0);return this.context.createBean(c),c}generateDefaultColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),o={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){const s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o}};Fy([f("columnModel")],uu.prototype,"columnModel",void 0),Fy([f("columnFactory")],uu.prototype,"columnFactory",void 0),uu=Fy([G("autoGroupColService")],uu);const w9=/[&<>"']/g,S9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function GP(n){return n[0].toUpperCase()+n.substr(1).toLowerCase()}function ko(n,e){if(null==n)return null;const t=n.toString().toString();return e?t:t.replace(w9,i=>S9[i])}function VP(n){return n&&null!=n?n.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(o=>o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")).join(" "):null}function HP(n){return n.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}var x9=Object.freeze({__proto__:null,utf8_encode:function E9(n){const e=String.fromCharCode;function o(u,h){return e(u>>h&63|128)}function r(u){if(u>=0&&u<=31&&10!==u)return`_x${u.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(4294967168&u))return e(u);let h="";return 4294965248&u?4294901760&u?4292870144&u||(h=e(u>>18&7|240),h+=o(u,12),h+=o(u,6)):(function i(u){if(u>=55296&&u<=57343)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value")}(u),h=e(u>>12&15|224),h+=o(u,6)):h=e(u>>6&31|192),h+=e(63&u|128),h}const s=function t(u){const h=[];if(!u)return[];const p=u.length;let m,C,g=0;for(;g<p;)m=u.charCodeAt(g++),m>=55296&&m<=56319&&g<p?(C=u.charCodeAt(g++),56320==(64512&C)?h.push(((1023&m)<<10)+(1023&C)+65536):(h.push(m),g--)):h.push(m);return h}(n),a=s.length;let c,l=-1,d="";for(;++l<a;)c=s[l],d+=r(c);return d},capitalise:GP,escapeString:ko,camelCaseToHumanText:VP,camelCaseToHyphenated:HP});function br(n){const e=new Map;return n.forEach(t=>e.set(t[0],t[1])),e}var T9=Object.freeze({__proto__:null,convertToMap:br,mapById:function D9(n,e){const t=new Map;return n.forEach(i=>t.set(e(i),i)),t},keys:function R9(n){const e=[];return n.forEach((t,i)=>e.push(i)),e}});class um{}um.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},um.ALL_PROPERTIES=Object.keys(um.ColDefPropertyMap);class et{}et.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],et.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions"],et.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],et.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],et.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],et.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer"],et.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],et.FUNCTION_PROPERTIES=[...et.FUNCTIONAL_PROPERTIES,...et.CALLBACK_PROPERTIES],et.ALL_PROPERTIES=[...et.ARRAY_PROPERTIES,...et.OBJECT_PROPERTIES,...et.STRING_PROPERTIES,...et.NUMBER_PROPERTIES,...et.FUNCTION_PROPERTIES,...et.BOOLEAN_PROPERTIES];class ve{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)}static getCoercionLookup(){let e={};return[...ve.ARRAY_PROPERTIES,...ve.OBJECT_PROPERTIES,...ve.STRING_PROPERTIES,...ve.FUNCTION_PROPERTIES,...ve.EVENT_CALLBACKS].forEach(t=>e[t]="none"),ve.BOOLEAN_PROPERTIES.forEach(t=>e[t]="boolean"),ve.NUMBER_PROPERTIES.forEach(t=>e[t]="number"),e}static getValue(e,t){const i=ve.coercionLookup[e];if(i){let o=t;switch(i){case"number":o=ve.toNumber(t);break;case"boolean":o=ve.toBoolean(t);break;case"none":"groupAggFiltering"===e&&"function"!=typeof t&&(o=ve.toBoolean(t))}return o}}static getGridOptionKeys(e,t){return Object.keys(t?ve.coercionLookup:e)}static copyAttributesToGridOptions(e,t,i=!1){"object"!=typeof e&&(e={});const o=e;return ve.getGridOptionKeys(t,i).forEach(s=>{const a=t[s];if(typeof a<"u"){const l=ve.getValue(s,a);void 0!==l&&(o[s]=l)}}),e}static processOnChange(e,t){if(!e||0===Object.keys(e).length)return;const i=Object.assign({},e);i.columnTypes&&(t.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(t.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(t.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(t.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach(r=>{const s=r,a=ve.getValue(s,i[s].currentValue);t.__setProperty(s,a)});const o={type:v.EVENT_COMPONENT_STATE_CHANGED};it(e,(r,s)=>{o[r]=s}),t.dispatchEvent(o)}static toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)}static toNumber(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0}}function BP(n,e,t){const i={},o=n.filter(r=>!e.some(s=>s===r));return o.length>0&&o.forEach(r=>i[r]=Py(r,t)),i}function Py(n,e,t,i){let o=e.map(r=>({value:r,relevance:M9(n.toLowerCase(),r.toLocaleLowerCase())}));if(o.sort((r,s)=>s.relevance-r.relevance),t&&(o=o.filter(r=>0!==r.relevance)),i&&i>0){const s=o[0].relevance*i;o=o.filter(a=>s-a.relevance<0)}return o.map(r=>r.value)}function M9(n,e){const t=n.replace(/\s/g,""),i=e.replace(/\s/g,"");let o=0,r=-1;for(let s=0;s<t.length;s++){const a=i.indexOf(t[s],r+1);-1!==a&&(r=a,o+=100-100*r/1e4*100)}return o}ve.EVENTS=Ll(v),ve.EXCLUDED_INTERNAL_EVENTS=[v.EVENT_SCROLLBAR_WIDTH_CHANGED,v.EVENT_CHECKBOX_CHANGED,v.EVENT_HEIGHT_SCALE_CHANGED,v.EVENT_BODY_HEIGHT_CHANGED,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,v.EVENT_SCROLL_VISIBILITY_CHANGED,v.EVENT_COLUMN_HOVER_CHANGED,v.EVENT_FLASH_CELLS,v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,v.EVENT_DISPLAYED_ROWS_CHANGED,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,v.EVENT_POPUP_TO_FRONT,v.EVENT_KEYBOARD_FOCUS,v.EVENT_MOUSE_FOCUS,v.EVENT_STORE_UPDATED,v.EVENT_COLUMN_PANEL_ITEM_DRAG_START,v.EVENT_COLUMN_PANEL_ITEM_DRAG_END,v.EVENT_FILL_START,v.EVENT_FILL_END,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,v.EVENT_FULL_WIDTH_ROW_FOCUSED,v.EVENT_HEADER_HEIGHT_CHANGED,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,v.EVENT_CELL_FOCUS_CLEARED,v.EVENT_GRID_STYLES_CHANGED,v.EVENT_FILTER_DESTROYED],ve.PUBLIC_EVENTS=ve.EVENTS.filter(n=>!Rn(ve.EXCLUDED_INTERNAL_EVENTS,n)),ve.EVENT_CALLBACKS=ve.EVENTS.map(n=>ve.getCallbackForEvent(n)),ve.STRING_PROPERTIES=et.STRING_PROPERTIES,ve.OBJECT_PROPERTIES=et.OBJECT_PROPERTIES,ve.ARRAY_PROPERTIES=et.ARRAY_PROPERTIES,ve.NUMBER_PROPERTIES=et.NUMBER_PROPERTIES,ve.BOOLEAN_PROPERTIES=et.BOOLEAN_PROPERTIES,ve.FUNCTION_PROPERTIES=et.FUNCTION_PROPERTIES,ve.ALL_PROPERTIES=et.ALL_PROPERTIES,ve.ALL_PROPERTIES_SET=new Set(et.ALL_PROPERTIES),ve.coercionLookup=ve.getCoercionLookup();var A9=Object.freeze({__proto__:null,fuzzyCheckStrings:BP,fuzzySuggestions:Py}),hm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};function Tn(n,e,t,i){const o=t?`Please use '${t}' instead. `:"";xe(()=>console.warn(`AG Grid: since v${n}, '${e}' is deprecated. ${o}${i??""}`),`Deprecated_${e}`)}const jP=["__ob__","__v_skip","__metadata__"];let Vl=class{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0}}}pickOneWarning(e,t){console.warn(`AG Grid: ${e} and ${t} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),"autoHeight"===this.gridOptionsService.get("domLayout")&&!this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.is("pagination")||(console.warn("AG Grid: domLayout='autoHeight' was ignored as it is only supported by the Client-Side row model, unless using pagination."),this.gridOptions.domLayout="normal")),this.gridOptionsService.isRowModelType("serverSide")){const t=(i,o)=>`AG Grid: '${i}' is not supported on the Server-Side Row Model.`+(o?` Please use ${o} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?Y.assertRegistered(F.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const e=(t,i)=>this.gridOptionsService.exists(t)&&Y.assertRegistered(i,t,this.gridOptionsService.getGridId());e("sideBar",F.SideBarModule),e("statusBar",F.StatusBarModule),e("enableCharts",F.GridChartsModule),e("getMainMenuItems",F.MenuModule),e("getContextMenuItems",F.MenuModule),e("allowContextMenuWithControlKey",F.MenuModule)}checkColumnDefProperties(){if(null==this.gridOptions.columnDefs)return;const e=um.ALL_PROPERTIES,t=(i,o)=>{const r=Object.getOwnPropertyNames(i);this.checkProperties(r,[...e,...jP],e,o,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(s=>t(s,"columnDefs.children"))};this.gridOptions.columnDefs.forEach(i=>t(i,"columnDefs")),this.gridOptions.defaultColDef&&t(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var e;const t=null!==(e=this.gridOptionsService.get("rowModelType"))&&void 0!==e?e:"clientSide",o={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[t];if(!o?.length)return;const r=s=>{o.forEach(a=>{a in s&&s[a]&&console.warn(`AG Grid: Column property ${a} is not supported with the row model type ${t}.`)})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(s=>r(s)),null!=this.gridOptions.autoGroupColumnDef&&r(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&r(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const e=Object.getOwnPropertyNames(this.gridOptions),t=[...et.ALL_PROPERTIES,...ve.EVENT_CALLBACKS],i=[...t,"api","columnApi",...jP,...Object.keys(this.deprecatedProperties)];this.checkProperties(e,i,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(e,t,i,o,r){const s=BP(e,t,i);it(s,(a,l)=>{xe(()=>console.warn(`AG Grid: invalid ${o} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`),"invalidProperty"+o+a)}),Object.keys(s).length>0&&xe(()=>console.warn(`AG Grid: to see all the valid ${o} properties please check: ${r}`),"invalidProperties"+o+r)}checkForDeprecated(){const e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(([t,i])=>{var o;const r=e[t];r&&(Tn(i.version,t,i.newProp,i.message),i.copyToNewProp&&i.newProp&&null==e[i.newProp]&&(e[i.newProp]=null!==(o=i.newPropValue)&&void 0!==o?o:r))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll="partial"!==e.serverSideStoreType)}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};function Ny(n,e){const t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid groupDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===n}hm([f("gridOptions")],Vl.prototype,"gridOptions",void 0),hm([f("gridOptionsService")],Vl.prototype,"gridOptionsService",void 0),hm([P],Vl.prototype,"init",null),Vl=hm([G("gridOptionsValidator")],Vl);var Jt=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Gt=class extends T{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("defaultColDef",t=>this.onSharedColDefChanged(t.source)),this.addManagedPropertyListener("columnTypes",t=>this.onSharedColDefChanged(t.source))}onAutoGroupColumnDefChanged(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")}onSharedColDefChanged(e="api"){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,e)}setColumnDefs(e,t="api"){const i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,t)}recreateColumnDefs(e="api"){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const i={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,r=>{i[r.getInstanceId()]=r}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,r=>{i[r.getInstanceId()]=null});const o=Object.values(i).filter(r=>null!=r);this.destroyBeans(o)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t="api"){const i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const o=this.primaryColumns,s=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(c=>this.primaryColumnsMap[c.getId()]=c),this.extractRowGroupColumns(t,o),this.extractPivotColumns(t,o),this.extractValueColumns(t,o),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),i&&i(),this.dispatchNewColumnsLoaded()}dispatchNewColumnsLoaded(){this.eventService.dispatchEvent({type:v.EVENT_NEW_COLUMNS_LOADED})}dispatchEverythingChanged(e="api"){this.eventService.dispatchEvent({type:v.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})}orderGridColumnsLikePrimary(){const e=this.primaryColumns;e&&(this.gridColumns.sort((t,i)=>{const o=e.indexOf(t),r=e.indexOf(i),s=o>=0,a=r>=0;return s&&a?o-r:s?1:a?-1:this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const i=[];for(;null!=t;)i.push(t),t=this.getDisplayedColAfter(t);return i}checkViewportColumns(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:v.EVENT_VIRTUAL_COLUMNS_CHANGED})}setViewportPosition(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return!e||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)}setPivotMode(e,t="api"){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.eventService.dispatchEvent({type:v.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(e,t){if(q(this.secondaryColumns))return null;const i=this.getPrimaryColumn(t);let o=null;return this.secondaryColumns.forEach(r=>{const s=r.getColDef().pivotKeys,a=r.getColDef().pivotValueColumn;Yr(s,e)&&a===i&&(o=r)}),o}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,i;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?He(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?He(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(o=>{o.setLastLeftPinned(o===t,e),o.setFirstRightPinned(o===i,e)})}autoSizeColumns(e){const{columns:t,skipHeader:i,skipHeaderGroups:o,stopAtGroup:r,source:s="api"}=e;this.animationFrameService.flushAllFrames();const a=[];let l=-1;const c=i??this.gridOptionsService.is("skipHeaderOnAutoSize"),d=o??c;for(;0!==l;)l=0,this.actionOnGridColumns(t,u=>{if(a.indexOf(u)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(u,c);if(h>0){const p=this.normaliseColumnWidth(u,h);u.setActualWidth(p,s),a.push(u),l++}return!0},s);d||this.autoSizeColumnGroupsByColumns(t,s,r),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,i,o=null){e&&e.length&&this.eventService.dispatchEvent({type:v.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:t,source:i})}dispatchColumnChangedEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:i})}dispatchColumnMovedEvent(e){const{movedColumns:t,source:i,toIndex:o,finished:r}=e;this.eventService.dispatchEvent({type:v.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:o,finished:r,source:i})}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,o=this.getCommonValue(e,s=>s.getPinned());this.eventService.dispatchEvent({type:v.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:t})}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const i=1===e.length?e[0]:null,o=this.getCommonValue(e,s=>s.isVisible());this.eventService.dispatchEvent({type:v.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:t})}autoSizeColumn(e,t,i="api"){e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:i})}autoSizeColumnGroupsByColumns(e,t,i){const o=new Set;let s;this.getGridColumns(e).forEach(l=>{let c=l.getParent();for(;c&&c!=i;)c.isPadding()||o.add(c),c=c.getParent()});for(const l of o){for(const c of this.ctrlsService.getHeaderRowContainerCtrls())if(s=c.getHeaderCtrlForColumn(l),s)break;s&&s.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t="api"){const i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:t})}getColumnsFromTree(e){const t=[],i=o=>{for(let r=0;r<o.length;r++){const s=o[r];s instanceof Ve?t.push(s):s instanceof pt&&i(s.getChildren())}};return i(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,i,o){const r=[];let s=null;for(let a=0;a<t.length;a++){const l=t[a],c=t.length-a,d=Math.min(l.getColSpan(e),c),u=[l];if(d>1){const p=d-1;for(let g=1;g<=p;g++)u.push(t[a+g]);a+=p}let h;i?(h=!1,u.forEach(p=>{i(p)&&(h=!0)})):h=!0,h&&(0===r.length&&s&&o&&o(l)&&r.push(s),r.push(l)),s=l}return r}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,o=>{const r=o.getLeft();return D(r)&&r>this.viewportLeft})}getAriaColumnIndex(e){return this.getAllGridColumns().indexOf(e)+1}isColumnInHeaderViewport(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),o=this.viewportLeft-200,r=this.viewportRight+200;return!(t<o&&i<o||t>r&&i>r)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,i,o,r,s="api"){if(!e||en(e))return;let a=!1;e.forEach(c=>{const d=this.getPrimaryColumn(c);if(d){if(i){if(t.indexOf(d)>=0)return;t.push(d)}else{if(t.indexOf(d)<0)return;di(t,d)}o(d),a=!0}}),a&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:r,columns:t,column:1===t.length?t[0]:null,source:s}))}setRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,i),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(t,!0,i))}addRowGroupColumn(e,t="api"){e&&this.addRowGroupColumns([e],t)}addRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),v.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),v.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumn(e,t="api"){e&&this.removeRowGroupColumns([e],t)}addPivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!0,i=>i.setPivotActive(!0,t),v.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t="api"){this.setPrimaryColumnList(e,this.pivotColumns,v.EVENT_COLUMN_PIVOT_CHANGED,(i,o)=>{o.setPivotActive(i,t)},t)}addPivotColumn(e,t="api"){this.addPivotColumns([e],t)}removePivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!1,i=>i.setPivotActive(!1,t),v.EVENT_COLUMN_PIVOT_CHANGED,t)}removePivotColumn(e,t="api"){this.removePivotColumns([e],t)}setPrimaryColumnList(e,t,i,o,r){t.length=0,D(e)&&e.forEach(s=>{const a=this.getPrimaryColumn(s);a&&t.push(a)}),(this.primaryColumns||[]).forEach(s=>{const a=t.indexOf(s)>=0;o(a,s)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(i,t,r)}setValueColumns(e,t="api"){this.setPrimaryColumnList(e,this.valueColumns,v.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc())){const o=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(o)}}addValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),v.EVENT_COLUMN_VALUE_CHANGED,t)}addValueColumn(e,t="api"){e&&this.addValueColumns([e],t)}removeValueColumn(e,t="api"){this.removeValueColumns([e],t)}removeValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),v.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const i=e.getMinWidth();D(i)&&t<i&&(t=i);const o=e.getMaxWidth();return D(o)&&e.isGreaterThanMax(t)&&(t=o),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,i,o="api"){const r=[];e.forEach(s=>{const a=this.getPrimaryOrGridColumn(s.key);if(a&&(r.push({width:s.newWidth,ratios:[1],columns:[a]}),"shift"===this.gridOptionsService.get("colResizeDefault")&&(t=!t),t)){const c=this.getDisplayedColAfter(a);if(!c)return;const d=a.getActualWidth()-s.newWidth,u=c.getActualWidth()+d;r.push({width:u,ratios:[1],columns:[c]})}}),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:o})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let o=0,r=0,s=!0;return t.forEach(c=>{const d=c.getMinWidth();o+=d||0;const u=c.getMaxWidth();D(u)&&u>0?r+=u:s=!1}),i>=o&&(!s||i<=r)}resizeColumnSets(e){const{resizeSets:t,finished:i,source:o}=e;if(t&&!t.every(u=>this.checkMinAndMaxWidthsForSet(u)))return void(i&&this.dispatchColumnResizedEvent(t&&t.length>0?t[0].columns:null,i,o));const s=[],a=[];t.forEach(u=>{const{width:h,columns:p,ratios:g}=u,m={},C={};p.forEach(y=>a.push(y));let _=!0,b=0;for(;_;){if(b++,b>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}_=!1;const y=[];let R=0,M=h;p.forEach(($,Me)=>{C[$.getId()]?M-=m[$.getId()]:(y.push($),R+=g[Me])});const V=1/R;y.forEach(($,Me)=>{let nt;Me===y.length-1?nt=M:(nt=Math.round(g[Me]*h*V),M-=nt);const po=$.getMinWidth(),ti=$.getMaxWidth();D(po)&&nt<po?(nt=po,C[$.getId()]=!0,_=!0):D(ti)&&ti>0&&nt>ti&&(nt=ti,C[$.getId()]=!0,_=!0),m[$.getId()]=nt})}p.forEach(y=>{const R=m[y.getId()];y.getActualWidth()!==R&&(y.setActualWidth(R,o),s.push(y))})});const l=s.length>0;let c=[];l&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(o),this.updateBodyWidths(),this.checkViewportColumns());const d=a.concat(c);(l||i)&&this.dispatchColumnResizedEvent(d,i,o,c)}setColumnAggFunc(e,t,i="api"){if(!e)return;const o=this.getPrimaryColumn(e);o&&(o.setAggFunc(t),this.dispatchColumnChangedEvent(v.EVENT_COLUMN_VALUE_CHANGED,[o],i))}moveRowGroupColumn(e,t,i="api"){const o=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,o),this.eventService.dispatchEvent({type:v.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:i})}moveColumns(e,t,i="api",o=!0){if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const r=this.getGridColumns(e);this.doesMovePassRules(r,t)&&(My(this.gridColumns,r,t),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:r,source:i,toIndex:t,finished:o}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const i=this.gridColumns.slice();return My(i,e,t),i}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(i=>this.gridColumns.indexOf(i)<0).length>0||e.sort((i,o)=>this.gridColumns.indexOf(i)-this.gridColumns.indexOf(o))}doesMovePassLockedPositions(e){let t=0,i=!0;return e.forEach(r=>{const s=(r=>r?!0===r||"left"===r?0:2:1)(r.getColDef().lockPosition);s<t&&(i=!1),t=s}),i}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{if(!(i instanceof pt))return;const o=i,r=o.getColGroupDef();if(!r||!r.marryChildren)return;const a=[];o.getLeafColumns().forEach(h=>{const p=e.indexOf(h);a.push(p)}),Math.max.apply(Math,a)-Math.min.apply(Math,a)>o.getLeafColumns().length-1&&(t=!1)}),t}moveColumn(e,t,i="api"){this.moveColumns([e],t,i)}moveColumnByIndex(e,t,i="api"){this.moveColumn(this.gridColumns[e],t,i)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,i)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(i)):this.lastPrimaryOrder&&e.sort((t,i)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(i)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return en(this.gridColumns)}isRowGroupEmpty(){return en(this.rowGroupColumns)}setColumnVisible(e,t,i="api"){this.setColumnsVisible([e],t,i)}setColumnsVisible(e,t=!1,i="api"){this.applyColumnState({state:e.map(o=>({colId:"string"==typeof o?o:o.getColId(),hide:!t}))},i)}setColumnPinned(e,t,i="api"){e&&this.setColumnsPinned([e],t,i)}setColumnsPinned(e,t,i="api"){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let o;this.columnAnimationService.start(),o=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,r=>r.getPinned()!==o&&(r.setPinned(o),!0),i,()=>({type:v.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,i,o){if(en(e))return;const r=[];if(e.forEach(s=>{const a=this.getGridColumn(s);a&&!1!==t(a)&&r.push(a)}),r.length&&(this.updateDisplayedColumns(i),D(o)&&o)){const s=o();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i>0?t[i-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),r="After"===t?He(o):o[0],s=`getDisplayedCol${t}`;for(;;){const a=this[s](r);if(!a)return null;const l=this.getColumnGroupAtLevel(a,i);if(l!==e)return l}}getColumnGroupAtLevel(e,t){let o,r,i=e.getParent();for(;o=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(o+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,r=null!=e.getSort()?e.getSort():null,s=null!=e.getSortIndex()?e.getSortIndex():null,a=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:r,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:i,flex:a}}getColumnState(){if(q(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=br(this.gridColumns.map((i,o)=>[i.getColId(),o]));e.sort((i,o)=>(t.has(i.colId)?t.get(i.colId):-1)-(t.has(o.colId)?t.get(o.colId):-1))}resetColumnState(e="api"){const t=this.getColumnsFromTree(this.primaryColumnTree),i=[];let o=1e3,r=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),t&&(s=s.concat(t)),s.forEach(a=>{const l=(V,$)=>V??$??null,c=a.getColDef(),d=l(c.sort,c.initialSort),u=l(c.sortIndex,c.initialSortIndex),h=l(c.hide,c.initialHide),p=l(c.pinned,c.initialPinned),g=l(c.width,c.initialWidth),m=l(c.flex,c.initialFlex);let C=l(c.rowGroupIndex,c.initialRowGroupIndex),_=l(c.rowGroup,c.initialRowGroup);null==C&&(null==_||0==_)&&(C=null,_=null);let b=l(c.pivotIndex,c.initialPivotIndex),y=l(c.pivot,c.initialPivot);null==b&&(null==y||0==y)&&(b=null,y=null);const R=l(c.aggFunc,c.initialAggFunc),M={colId:a.getColId(),sort:d,sortIndex:u,hide:h,pinned:p,width:g,flex:m,rowGroup:_,rowGroupIndex:C,pivot:y,pivotIndex:b,aggFunc:R};q(C)&&_&&(M.rowGroupIndex=o++),q(b)&&y&&(M.pivotIndex=r++),i.push(M)}),this.applyColumnState({state:i,applyOrder:!0},e)}applyColumnState(e,t){if(en(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const i=(s,a,l)=>{const c=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const d=a.slice(),u={},h={},p=[],g=[];let m=0;const C=this.rowGroupColumns.slice(),_=this.pivotColumns.slice();s.forEach(M=>{const V=M.colId||"";if(V.startsWith(Gl))return p.push(M),void g.push(M);const Me=l(V);Me?(this.syncColumnWithStateItem(Me,M,e.defaultState,u,h,!1,t),di(d,Me)):(g.push(M),m+=1)});const b=M=>this.syncColumnWithStateItem(M,null,e.defaultState,u,h,!1,t);d.forEach(b);const y=(M,V,$,Me)=>{const Ze=M[$.getId()],nt=M[Me.getId()],po=null!=Ze,ti=null!=nt;if(po&&ti)return Ze-nt;if(po)return-1;if(ti)return 1;const Wi=V.indexOf($),mn=V.indexOf(Me),wh=Wi>=0;return wh&&mn>=0?Wi-mn:wh?-1:1};this.rowGroupColumns.sort(y.bind(this,u,C)),this.pivotColumns.sort(y.bind(this,h,_)),this.updateGridColumns();const R=this.groupAutoColumns?this.groupAutoColumns.slice():[];return p.forEach(M=>{const V=this.getAutoColumn(M.colId);di(R,V),this.syncColumnWithStateItem(V,M,e.defaultState,null,null,!0,t)}),R.forEach(b),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),c(),{unmatchedAndAutoStates:g,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:o,unmatchedCount:r}=i(e.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(o.length>0||D(e.defaultState))&&(r=i(o,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),0===r}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const i={};e.state.forEach(r=>{if(!r.colId||i[r.colId])return;const s=this.gridColumnsMap[r.colId];s&&(t.push(s),i[r.colId]=!0)});let o=0;this.gridColumns.forEach(r=>{const s=r.getColId();null==i[s]&&(s.startsWith(Gl)?du(t,r,o++):t.push(r))}),t=this.placeLockedColumns(t),this.doesMovePassMarryChildren(t)?this.gridColumns=t:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),o={};return i.forEach(r=>{o[r.colId]=r}),()=>{const r=this.getPrimaryAndSecondaryAndAutoColumns(),s=(m,C,_,b)=>{Yr(C.map(b),_.map(b))||this.eventService.dispatchEvent({type:m,columns:_,column:1===_.length?_[0]:null,source:e})},a=m=>{const C=[];return r.forEach(_=>{const b=o[_.getColId()];b&&m(b,_)&&C.push(_)}),C},l=m=>m.getColId();s(v.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,l),s(v.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,l),a((m,C)=>{const _=null!=m.aggFunc,b=_!=C.isValueActive(),y=_&&m.aggFunc!=C.getAggFunc();return b||y}).length>0&&this.dispatchColumnChangedEvent(v.EVENT_COLUMN_VALUE_CHANGED,this.valueColumns,e),this.dispatchColumnResizedEvent(a((m,C)=>m.width!=C.getActualWidth()),!0,e),this.dispatchColumnPinnedEvent(a((m,C)=>m.pinned!=C.getPinned()),e),this.dispatchColumnVisibleEvent(a((m,C)=>m.hide==C.isVisible()),e),a((m,C)=>m.sort!=C.getSort()||m.sortIndex!=C.getSortIndex()).length>0&&this.sortController.dispatchSortChangedEvents(e),this.normaliseColumnMovedEventForColumnState(i,e)}}getCommonValue(e,t){if(!e||0==e.length)return;const i=t(e[0]);for(let o=1;o<e.length;o++)if(i!==t(e[o]))return;return i}normaliseColumnMovedEventForColumnState(e,t){const i=this.getColumnState(),o={};i.forEach(c=>o[c.colId]=c);const r={};e.forEach(c=>{o[c.colId]&&(r[c.colId]=!0)});const s=e.filter(c=>r[c.colId]),a=i.filter(c=>r[c.colId]),l=[];a.forEach((c,d)=>{const u=s&&s[d];if(u&&u.colId!==c.colId){const h=this.getGridColumn(u.colId);h&&l.push(h)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:t,finished:!0})}syncColumnWithStateItem(e,t,i,o,r,s,a){if(!e)return;const l=(M,V)=>{const $={value1:void 0,value2:void 0};let Me=!1;return t&&(void 0!==t[M]&&($.value1=t[M],Me=!0),D(V)&&void 0!==t[V]&&($.value2=t[V],Me=!0)),!Me&&i&&(void 0!==i[M]&&($.value1=i[M]),D(V)&&void 0!==i[V]&&($.value2=i[V])),$},c=l("hide").value1;void 0!==c&&e.setVisible(!c,a);const d=l("pinned").value1;void 0!==d&&e.setPinned(d);const u=this.columnUtils.calculateColMinWidth(e.getColDef()),h=l("flex").value1;if(void 0!==h&&e.setFlex(h),e.getFlex()<=0){const M=l("width").value1;null!=M&&null!=u&&M>=u&&e.setActualWidth(M,a)}const g=l("sort").value1;void 0!==g&&e.setSort("desc"===g||"asc"===g?g:void 0,a);const m=l("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),s||!e.isPrimary())return;const C=l("aggFunc").value1;void 0!==C&&("string"==typeof C?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(D(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),di(this.valueColumns,e))));const{value1:_,value2:b}=l("rowGroup","rowGroupIndex");(void 0!==_||void 0!==b)&&("number"==typeof b||_?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),o&&"number"==typeof b&&(o[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),di(this.rowGroupColumns,e)));const{value1:y,value2:R}=l("pivot","pivotIndex");(void 0!==y||void 0!==R)&&("number"==typeof R||y?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),r&&"number"==typeof R&&(r[e.getId()]=R)):e.isPivotActive()&&(e.setPivotActive(!1,a),di(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const i=[];return e&&e.forEach(o=>{const r=t(o);r&&i.push(r)}),i}getColumnWithValidation(e){if(null==e)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,i){if(!e)return null;if("string"==typeof e&&i[e])return i[e];for(let o=0;o<t.length;o++)if(this.columnsMatch(t[o],e))return t[o];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);const i=this.getPrimaryColumn(t);return i?[i]:null}getAutoColumn(e){return this.groupAutoColumns&&D(this.groupAutoColumns)&&!q(this.groupAutoColumns)&&this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const i=e===t,o=e.getColDef()===t,r=e.getColId()==t;return i||o||r}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const o=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,o):o}getDisplayNameForProvidedColumnGroup(e,t,i){const o=t?t.getColGroupDef():null;return o?this.getHeaderName(o,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,o,r){const s=e.headerValueGetter;if(s){const a={colDef:e,column:t,columnGroup:i,providedColumnGroup:o,location:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof s?s(a):"string"==typeof s?this.expressionService.evaluate(s,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?VP(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn;let s,r=null;if(D(i)){const a=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,l=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!l)return t;r=i?i.getAggFunc():null,s=!0}else{const a=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(r=e.getAggFunc(),s=!0):s=!1}if(s){const a="string"==typeof r?r:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof Si)return e;const i=this.getAllDisplayedTrees(),o="number"==typeof t;let r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,s=>{if(s instanceof Si){const a=s;let l;l=o?e===a.getGroupId()&&t===a.getPartId():e===a.getGroupId(),l&&(r=a)}}),r}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(i,o)=>i.setValueActive(o,e),()=>{},()=>{},i=>{const o=i.aggFunc;return null===o||""===o?null:void 0!==o?!!o:void 0},i=>null!=i.initialAggFunc&&""!=i.initialAggFunc),this.valueColumns.forEach(i=>{const o=i.getColDef();null!=o.aggFunc&&""!=o.aggFunc?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(i,o)=>i.setRowGroupActive(o,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractColumns(e=[],t=[],i,o,r,s,a){const l=[],c=[];(this.primaryColumns||[]).forEach(h=>{const p=e.indexOf(h)<0,g=h.getColDef(),m=Fo(s(g)),C=Fo(a(g)),_=Dn(o(g)),b=Dn(r(g));let y;y=void 0!==m?m:void 0!==_?null!==_&&_>=0:p?void 0!==C?C:void 0!==b&&null!=b&&b>=0:t.indexOf(h)>=0,y&&((p?null!=_||null!=b:null!=_)?l.push(h):c.push(h))});const d=h=>{const p=o(h.getColDef()),g=r(h.getColDef());return p??g};l.sort((h,p)=>{const g=d(h),m=d(p);return g===m?0:g<m?-1:1});const u=[].concat(l);return t.forEach(h=>{c.indexOf(h)>=0&&u.push(h)}),c.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(i,o)=>i.setPivotActive(o,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}resetColumnGroupState(e="api"){const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,i=>{if(i instanceof pt){const o=i.getColGroupDef(),r={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};t.push(r)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof pt&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t="api"){this.columnAnimationService.start();const i=[];e.forEach(o=>{const s=o.open,a=this.getProvidedColumnGroup(o.groupId);a&&a.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+s+")"),a.setExpanded(s),i.push(a))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.forEach(o=>{this.eventService.dispatchEvent({type:v.EVENT_COLUMN_GROUP_OPENED,columnGroup:o})}),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i="api"){let o;o=e instanceof pt?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:t}],i)}getProvidedColumnGroup(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,i=>{i instanceof pt&&i.getId()===e&&(t=i)}),t}calculateColumnsForDisplay(){let e;return e=this.pivotMode&&q(this.secondaryColumns)?this.gridColumns.filter(t=>{const i=this.groupAutoColumns&&Rn(this.groupAutoColumns,t),o=this.valueColumns&&Rn(this.valueColumns,t);return i||o}):this.gridColumns.filter(t=>this.groupAutoColumns&&Rn(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(i=>{D(i.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(t=>{const i=t.getColDef(),o=i.showRowGroup;i&&D(o)&&(this.groupDisplayColumns.push(t),"string"==typeof o?this.groupDisplayColumnsMap[o]=t:!0===o&&this.getRowGroupColumns().forEach(r=>{this.groupDisplayColumnsMap[r.getId()]=t}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return D(this.secondaryColumns)}setSecondaryColumns(e,t="api"){const i=e&&e.length>0;if(i||!q(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);const o=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,o.columnTree),this.secondaryBalancedTree=o.columnTree,this.secondaryHeaderRowCount=o.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(r=>this.secondaryColumnsMap[r.getId()]=r),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!t&&!i)return;const o=r=>{r.forEach(s=>{if(D(s.children)){const l=s;i&&i(l),o(l.children)}else t&&t(s)})};e&&o(e)}updateGridColumns(){const e=this.gridBalancedTree;let t;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){const o=this.secondaryColumns.every(r=>void 0!==this.gridColumnsMap[r.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){const o=br(this.groupAutoColumns.map(r=>[r,!0]));t=t.filter(r=>!o.has(r)),t=[...this.groupAutoColumns,...t]}this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(o=>this.gridColumnsMap[o.getId()]=o),this.setAutoHeightActive(),Yr(e,this.gridBalancedTree)||this.eventService.dispatchEvent({type:v.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,!this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.isRowModelType("serverSide"))){const t="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";xe(()=>console.warn(t),"autoHeightActive.wrongRowModel")}}orderGridColsLike(e){if(q(e))return;const t=br(e.map((c,d)=>[c,d]));let i=!0;if(this.gridColumns.forEach(c=>{t.has(c)&&(i=!1)}),i)return;const o=br(this.gridColumns.map(c=>[c,!0])),r=e.filter(c=>o.has(c)),s=br(r.map(c=>[c,!0])),a=this.gridColumns.filter(c=>!s.has(c)),l=r.slice();a.forEach(c=>{let d=c.getOriginalParent();if(!d)return void l.push(c);const u=[];for(;!u.length&&d;)d.getLeafColumns().forEach(m=>{const C=l.indexOf(m)>=0,_=u.indexOf(m)<0;C&&_&&u.push(m)}),d=d.getOriginalParent();if(!u.length)return void l.push(c);const h=u.map(g=>l.indexOf(g)),p=Math.max(...h);du(l,c,p+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?t:t.filter(i=>i.isVisible()||i.isRowGroupActive())}placeLockedColumns(e){const t=[],i=[],o=[];return e.forEach(r=>{const s=r.getColDef().lockPosition;"right"===s?o.push(r):"left"===s||!0===s?t.push(r):i.push(r)}),[...t,...i,...o]}addAutoGroupToGridColumns(){if(q(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:v.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(o=>{if(i){let r=this.getWidthOfColsInList(o);o.forEach(s=>{r-=s.getActualWidth(),s.setLeft(r,e)})}else{let r=0;o.forEach(s=>{s.setLeft(r,e),r+=s.getActualWidth()})}Ty(t,o)}),t.forEach(o=>{o.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof Si&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,i=>{i instanceof Ve&&t.push(i)})}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let i;switch(e){case"left":i=this.viewportRowLeft[t];break;case"right":i=this.viewportRowRight[t];break;default:i=this.viewportRowCenter[t]}return q(i)&&(i=[]),i}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(i=>e[i.getId()]=!0);const t=(i,o,r)=>{let s=!1;for(let a=0;a<i.length;a++){const l=i[a];let c=!1;if(l instanceof Ve)c=!0===e[l.getId()];else{const u=l.getDisplayedChildren();u&&(c=t(u,o,r+1))}c&&(s=!0,o[r]||(o[r]=[]),o[r].push(l))}return s};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const t=this.viewportColumns.map(o=>`${o.getId()}-${o.getPinned()||"normal"}`).join("#"),i=this.viewportColumnsHash!==t;return i&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),i}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=-1;e.resizingCols&&e.resizingCols.forEach(u=>{const h=this.displayedColumnsCenter.indexOf(u);i<h&&(i=h)});const o=u=>{const h=this.displayedColumnsCenter.indexOf(u)>i;return u.getFlex()&&h},r=this.displayedColumnsCenter.filter(u=>!o(u)),s=this.displayedColumnsCenter.filter(u=>o(u)),a=[];if(!s.length)return[];const l=[];let c;e:for(;;){const u=s.reduce((h,p)=>h+p.getFlex(),0);c=this.flexViewportWidth-this.getWidthOfColsInList(r);for(let h=0;h<s.length;h++){const p=s[h],g=c*p.getFlex()/u;let m=0;const C=p.getMinWidth(),_=p.getMaxWidth();if(D(C)&&g<C?m=C:D(_)&&g>_&&(m=_),m){p.setActualWidth(m,t),di(s,p),a.push(p),r.push(p);continue e}l[h]=Math.round(g)}break}let d=c;return s.forEach((u,h)=>{u.setActualWidth(Math.min(l[h],d),t),a.push(u),d-=l[h]}),e.skipSetLeft||this.setLeftValues(t),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(a,!0,t,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",i,o){var r,s,a,l,c;const d={};o&&(null===(r=o?.columnLimits)||void 0===r||r.forEach(b=>{var{key:y}=b,R=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]])}return t}(b,["key"]);d["string"==typeof y?y:y.getColId()]=R}));const u=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(u);if(e<=0||!u.length||h)return;const p=[],g=[];u.forEach(b=>{!0===b.getColDef().suppressSizeToFit?g.push(b):p.push(b)});const m=p.slice(0);let C=!1;const _=b=>{di(p,b),g.push(b)};for(p.forEach(b=>b.resetActualWidth(t));!C;){C=!0;const b=e-this.getWidthOfColsInList(g);if(b<=0)p.forEach(y=>{var R,M;const V=null!==(M=null===(R=d?.[y.getId()])||void 0===R?void 0:R.minWidth)&&void 0!==M?M:o?.defaultMinWidth;"number"!=typeof V?y.setMinimum(t):y.setActualWidth(V)});else{const y=b/this.getWidthOfColsInList(p);let R=b;for(let M=p.length-1;M>=0;M--){const V=p[M],$=d?.[V.getId()],Me=null!==(s=$?.minWidth)&&void 0!==s?s:o?.defaultMinWidth,Ze=null!==(a=$?.maxWidth)&&void 0!==a?a:o?.defaultMaxWidth,nt=null!==(l=V.getMinWidth())&&void 0!==l?l:0,po=null!==(c=V.getMaxWidth())&&void 0!==c?c:Number.MAX_VALUE,ti="number"==typeof Me&&Me>nt?Me:V.getMinWidth(),Wi="number"==typeof Ze&&Ze<po?Ze:V.getMaxWidth();let mn=Math.round(V.getActualWidth()*y);D(ti)&&mn<ti?(mn=ti,_(V),C=!1):D(Wi)&&mn>Wi?(mn=Wi,_(V),C=!1):0===M&&(mn=R),V.setActualWidth(mn,t,!0),R-=mn}}}m.forEach(b=>{b.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,t)}buildDisplayedTrees(e){const t=[],i=[],o=[];e.forEach(s=>{switch(s.getPinned()){case"left":t.push(s);break;case"right":i.push(s);break;default:o.push(s)}});const r=new kP;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,r,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof Si&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||i||t)this.groupAutoColumns=null;else{const a=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);if(!this.autoColsEqual(a,this.groupAutoColumns)||e)return this.groupAutoColumns=a,!0}return!1}isGroupSuppressAutoColumn(){const e=this.gridOptionsService.get("groupDisplayType");if(e&&Ny("custom",e))return!0;const i=this.gridOptionsService.get("treeDataDisplayType");return!!i&&function I9(n,e){const t=["auto","custom"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid treeDataDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===n}("custom",i)}autoColsEqual(e,t){return Yr(e,t,(i,o)=>i.getColId()===o.getColId())}getWidthOfColsInList(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getGridBalancedTree(){return this.gridBalancedTree}hasFloatingFilters(){return!!this.gridColumns&&this.gridColumns.some(t=>t.getColDef().floatingFilter)}getFirstDisplayedColumn(){const e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let i=0;i<t.length;i++){const o=this[t[i]]();if(o.length)return e?He(o):o[0]}return null}setColumnHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&this.eventService.dispatchEvent({type:v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()}};Jt([f("expressionService")],Gt.prototype,"expressionService",void 0),Jt([f("columnFactory")],Gt.prototype,"columnFactory",void 0),Jt([f("displayedGroupCreator")],Gt.prototype,"displayedGroupCreator",void 0),Jt([f("ctrlsService")],Gt.prototype,"ctrlsService",void 0),Jt([f("autoWidthCalculator")],Gt.prototype,"autoWidthCalculator",void 0),Jt([f("columnUtils")],Gt.prototype,"columnUtils",void 0),Jt([f("columnAnimationService")],Gt.prototype,"columnAnimationService",void 0),Jt([f("autoGroupColService")],Gt.prototype,"autoGroupColService",void 0),Jt([Ie("aggFuncService")],Gt.prototype,"aggFuncService",void 0),Jt([Ie("valueCache")],Gt.prototype,"valueCache",void 0),Jt([Ie("animationFrameService")],Gt.prototype,"animationFrameService",void 0),Jt([f("sortController")],Gt.prototype,"sortController",void 0),Jt([f("columnDefFactory")],Gt.prototype,"columnDefFactory",void 0),Jt([P],Gt.prototype,"init",null),Jt([zt],Gt.prototype,"destroyColumns",null),Jt([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],Gt.prototype,"setBeans",null),Gt=Jt([G("columnModel")],Gt);let Ly=class extends T{calculateColMinWidth(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e);let o;const r=Dn(e.width),s=Dn(e.initialWidth);return o=null!=r?r:null!=s?s:200,Math.max(Math.min(o,i),t)}getOriginalPathForColumn(e,t){const i=[];let o=!1;const r=(s,a)=>{for(let l=0;l<s.length;l++){if(o)return;const c=s[l];c instanceof pt?(r(c.getChildren(),a+1),i[a]=c):c===e&&(o=!0)}};return r(t,0),o?i:null}depthFirstOriginalTreeSearch(e,t,i){t&&t.forEach(o=>{o instanceof pt&&this.depthFirstOriginalTreeSearch(o,o.getChildren(),i),i(o,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof Si&&this.depthFirstAllColumnTreeSearch(i.getChildren(),t),t(i)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(i=>{i instanceof Si&&this.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),t),t(i)})}};Ly=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("columnUtils")],Ly);let ky=class extends T{createDisplayedGroups(e,t,i,o,r){const s=[];let a,l;const c=this.mapOldGroupsById(r);return e.forEach(d=>{const u=this.getOriginalPathForColumn(t,d),h=[],p=!l;for(let m=0;m<u.length;m++)if(p||u[m]!==l[m]){const C=this.createColumnGroup(u[m],i,c,o);h[m]=C,0==m?s.push(C):h[m-1].addChild(C)}else h[m]=a[m];0===h.length?s.push(d):He(h).addChild(d),a=h,l=u}),this.setupParentsIntoColumns(s,null),s}createColumnGroup(e,t,i,o){const r=e.getGroupId(),s=t.getInstanceIdForKey(r);let l=i[Si.createUniqueId(r,s)];return l&&l.getProvidedColumnGroup()!==e&&(l=null),D(l)?l.reset():(l=new Si(e,r,s,o),this.context.createBean(l)),l}mapOldGroupsById(e){const t={},i=o=>{o.forEach(r=>{if(r instanceof Si){const s=r;t[r.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),t}setupParentsIntoColumns(e,t){e.forEach(i=>{if(i.setParent(t),i instanceof Si){const o=i;this.setupParentsIntoColumns(o.getChildren(),o)}})}getOriginalPathForColumn(e,t){const i=[];let o=!1;const r=(s,a)=>{for(let l=0;l<s.length;l++){if(o)return;const c=s[l];c instanceof pt?(r(c.getChildren(),a+1),i[a]=c):c===t&&(o=!0)}};return r(e,0),o?i:(console.warn("AG Grid: could not get path"),null)}};ky=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("displayedGroupCreator")],ky);let Gy=class extends T{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};function Go(n,e,t){null==t||""==t?Vy(n,e):Mn(n,e,t)}function Mn(n,e,t){n.setAttribute(UP(e),t.toString())}function Vy(n,e){n.removeAttribute(UP(e))}function UP(n){return`aria-${n}`}function $t(n,e){e?n.setAttribute("role",e):n.removeAttribute("role")}function WP(n){let e;return e="asc"===n?"ascending":"desc"===n?"descending":"mixed"===n?"other":"none",e}function zP(n){return parseInt(n.getAttribute("aria-level"),10)}function $P(n){return parseInt(n.getAttribute("aria-posinset"),10)}function Qr(n,e){Go(n,"label",e)}function pm(n,e){Go(n,"labelledby",e)}function KP(n,e){Go(n,"description",e)}function qP(n,e){Go(n,"describedby",e)}function YP(n,e){Go(n,"live",e)}function QP(n,e){Go(n,"level",e)}function Hy(n,e){Go(n,"disabled",e)}function fm(n,e){Go(n,"hidden",e)}function to(n,e){Mn(n,"expanded",e)}function ZP(n){Vy(n,"expanded")}function By(n,e){Mn(n,"setsize",e)}function jy(n,e){Mn(n,"posinset",e)}function XP(n,e){Mn(n,"multiselectable",e)}function JP(n,e){Mn(n,"rowcount",e)}function Uy(n,e){Mn(n,"rowindex",e)}function eN(n,e){Mn(n,"colcount",e)}function Wy(n,e){Mn(n,"colindex",e)}function tN(n,e){Mn(n,"colspan",e)}function iN(n,e){Mn(n,"sort",e)}function nN(n){Vy(n,"sort")}function Hl(n,e){Go(n,"selected",e)}function oN(n,e){Mn(n,"checked",void 0===e?"mixed":e)}function mm(n,e){return void 0===e?n("ariaIndeterminate","indeterminate"):!0===e?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}Gy=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("agStackComponentsRegistry")],Gy);var V9=Object.freeze({__proto__:null,setAriaRole:$t,getAriaSortState:WP,getAriaLevel:zP,getAriaPosInSet:$P,getAriaDescribedBy:function k9(n){return n.getAttribute("aria-describedby")||""},setAriaLabel:Qr,setAriaLabelledBy:pm,setAriaDescription:KP,setAriaDescribedBy:qP,setAriaLive:YP,setAriaLevel:QP,setAriaDisabled:Hy,setAriaHidden:fm,setAriaExpanded:to,removeAriaExpanded:ZP,setAriaSetSize:By,setAriaPosInSet:jy,setAriaMultiSelectable:XP,setAriaRowCount:JP,setAriaRowIndex:Uy,setAriaColCount:eN,setAriaColIndex:Wy,setAriaColSpan:tN,setAriaSort:iN,removeAriaSort:nN,setAriaSelected:Hl,setAriaChecked:oN,setAriaControls:function G9(n,e){Go(n,"controls",e.id),pm(e,n.id)},getAriaCheckboxStateName:mm});let zy,gm,$y,Ky,qy,Yy,Qy,Zy;function io(){return void 0===zy&&(zy=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),zy}function Xy(){if(void 0===gm)if(io()){const n=navigator.userAgent.match(/version\/(\d+)/i);n&&(gm=null!=n[1]?parseFloat(n[1]):0)}else gm=0;return gm}function vm(){if(void 0===$y){const n=window;$y=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return $y}function Jy(){return void 0===Ky&&(Ky=/(firefox)/i.test(navigator.userAgent)),Ky}function ew(){return void 0===qy&&(qy=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),qy}function Zr(){return void 0===Yy&&(Yy=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Yy}function Cm(){return!io()||Xy()>=15}function bm(n){if(!n)return null;const e=n.tabIndex,t=n.getAttribute("tabIndex");return-1!==e||null!==t&&(""!==t||Jy())?e.toString():null}function rN(){if(!document.body)return-1;let n=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){const i=2*n;if(t.style.height=i+"px",i>e||t.clientHeight!==i)break;n=i}return document.body.removeChild(t),n}function sN(){var n,e,t;return null!==(e=null===(n=document.body)||void 0===n?void 0:n.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(t=document.documentElement)||void 0===t?void 0:t.clientWidth)||-1}function aN(){var n,e,t;return null!==(e=null===(n=document.body)||void 0===n?void 0:n.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(t=document.documentElement)||void 0===t?void 0:t.clientHeight)||-1}function lN(){return null==Zy&&cN(),Zy}function cN(){const n=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",n.appendChild(e);let t=e.offsetWidth-e.clientWidth;0===t&&0===e.clientWidth&&(t=null),e.parentNode&&e.parentNode.removeChild(e),null!=t&&(Zy=t,Qy=0===t)}function Bl(){return null==Qy&&cN(),Qy}var H9=Object.freeze({__proto__:null,isBrowserSafari:io,getSafariVersion:Xy,isBrowserChrome:vm,isBrowserFirefox:Jy,isMacOsUserAgent:ew,isIOSUserAgent:Zr,browserSupportsPreventScroll:Cm,getTabIndex:bm,getMaxDivHeight:rN,getBodyWidth:sN,getBodyHeight:aN,getScrollbarWidth:lN,isInvisibleScrollbar:Bl});function jl(n,e){return n.toString().padStart(e,"0")}function dN(n,e){const t=[];for(let i=n;i<=e;i++)t.push(i);return t}function tw(n,e,t){return"number"!=typeof n?"":n.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}var K9=Object.freeze({__proto__:null,padStartWidthZeros:jl,createArrayOfNumbers:dN,cleanNumber:function B9(n){return"string"==typeof n&&(n=parseInt(n,10)),"number"==typeof n?Math.floor(n):null},decToHex:function j9(n,e){let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(255&n),n>>>=8;return t},formatNumberTwoDecimalPlacesAndCommas:function U9(n,e,t){return"number"!=typeof n?"":tw(Math.round(100*n)/100,e,t)},formatNumberCommas:tw,sum:function W9(n){return null==n?null:n.reduce((e,t)=>e+t,0)},zeroOrGreater:function z9(n,e){return n>=0?n:e},oneOrGreater:function $9(n,e){const t=parseInt(n,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}});function An(n,e=!0,t="-"){if(!n)return null;let i=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(o=>jl(o,2)).join(t);return e&&(i+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(o=>jl(o,2)).join(":")),i}const iw=n=>{if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _m(n,e="YYYY-MM-DD"){const t=jl(n.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>t.slice(t.length-4,t.length),YY:()=>t.slice(t.length-2,t.length),Y:()=>`${n.getFullYear()}`,MMMM:()=>i[n.getMonth()],MMM:()=>i[n.getMonth()].slice(0,3),MM:()=>jl(n.getMonth()+1,2),Mo:()=>`${n.getMonth()+1}${iw(n.getMonth()+1)}`,M:()=>`${n.getMonth()+1}`,Do:()=>`${n.getDate()}${iw(n.getDate())}`,DD:()=>jl(n.getDate(),2),D:()=>`${n.getDate()}`,dddd:()=>o[n.getDay()],ddd:()=>o[n.getDay()].slice(0,3),dd:()=>o[n.getDay()].slice(0,2),do:()=>`${n.getDay()}${iw(n.getDay())}`,d:()=>`${n.getDay()}`},s=new RegExp(Object.keys(r).join("|"),"g");return e.replace(s,a=>a in r?r[a]():a)}function no(n){if(!n)return null;const[e,t]=n.split(" ");if(!e)return null;const i=e.split("-").map(u=>parseInt(u,10));if(3!==i.filter(u=>!isNaN(u)).length)return null;const[o,r,s]=i,a=new Date(o,r-1,s);if(a.getFullYear()!==o||a.getMonth()!==r-1||a.getDate()!==s)return null;if(!t||"00:00:00"===t)return a;const[l,c,d]=t.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var q9=Object.freeze({__proto__:null,serialiseDate:An,dateToFormattedString:_m,parseDateTimeFromString:no});let ym;const uN="[tabindex], input, select, button, textarea, [href]",nw=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function ow(n){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=e.call(n,"input, select, button, textarea"),o=e.call(n,nw),r=Wl(n);return i&&!o&&r}function _e(n,e,t={}){const{skipAriaHidden:i}=t;n.classList.toggle("ag-hidden",!e),i||fm(n,!e)}function hN(n,e,t={}){const{skipAriaHidden:i}=t;n.classList.toggle("ag-invisible",!e),i||fm(n,!e)}function Ul(n,e){const t="disabled",i=e?o=>o.setAttribute(t,""):o=>o.removeAttribute(t);i(n),hw(n.querySelectorAll("input"),o=>i(o))}function Xs(n,e,t){let i=0;for(;n;){if(n.classList.contains(e))return!0;if(n=n.parentElement,"number"==typeof t){if(++i>t)break}else if(n===t)break}return!1}function Js(n){const{height:e,width:t,borderTopWidth:i,borderRightWidth:o,borderBottomWidth:r,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:m}=window.getComputedStyle(n);return{height:parseFloat(e),width:parseFloat(t),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(r),borderLeftWidth:parseFloat(s),paddingTop:parseFloat(a),paddingRight:parseFloat(l),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(u),marginRight:parseFloat(h),marginBottom:parseFloat(p),marginLeft:parseFloat(g),boxSizing:m}}function hu(n){const e=Js(n);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function wm(n){const e=Js(n);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function rw(n){const e=Js(n);return Math.ceil(n.offsetHeight+(e.marginBottom+e.marginTop))}function Sm(n){const e=Js(n);return Math.ceil(n.offsetWidth+(e.marginLeft+e.marginRight))}function pu(){if("boolean"==typeof ym)return ym;const n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(n),n.scrollLeft=1,ym=0===Math.floor(n.scrollLeft),document.body.removeChild(n),ym}function fu(n,e){let t=n.scrollLeft;return e&&(t=Math.abs(t),vm()&&!pu()&&(t=n.scrollWidth-n.clientWidth-t)),t}function Em(n,e,t){t&&(pu()?e*=-1:(io()||vm())&&(e=n.scrollWidth-n.clientWidth-e)),n.scrollLeft=e}function nn(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function _r(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Wl(n){return null!==n.offsetParent}function ei(n){const e=document.createElement("div");return e.innerHTML=(n||"").trim(),e.firstChild}function sw(n){return n&&n.clientHeight?n.clientHeight:0}function aw(n){return n&&n.clientWidth?n.clientWidth:0}function lw(n,e,t){if(t&&t.nextSibling===e)return;const i=document.activeElement,o=e.contains(i);t?t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e):n.firstChild&&n.firstChild!==e&&n.insertAdjacentElement("afterbegin",e),o&&i&&Cm()&&i.focus({preventScroll:!0})}function cw(n,e){for(let t=0;t<e.length;t++){const i=e[t],o=n.children[t];o!==i&&n.insertBefore(i,o)}}function pN(n,e,t){t?t.insertAdjacentElement("afterend",e):n.firstChild?n.insertAdjacentElement("afterbegin",e):n.appendChild(e)}function dw(n,e){if(e)for(const[t,i]of Object.entries(e)){if(!t||!t.length||null==i)continue;const o=HP(t),r=i.toString(),s=r.replace(/\s*!important/g,"");n.style.setProperty(o,s,s.length!=r.length?"important":void 0)}}function fN(n){return n.clientWidth<n.scrollWidth}function mN(n){return n.clientHeight<n.scrollHeight}function mu(n,e){"flex"===e?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):In(n,e)}function In(n,e){e=uw(e),n.style.width=e.toString(),n.style.maxWidth=e.toString(),n.style.minWidth=e.toString()}function ea(n,e){e=uw(e),n.style.height=e.toString(),n.style.maxHeight=e.toString(),n.style.minHeight=e.toString()}function uw(n){return"number"==typeof n?`${n}px`:n}function gu(n){return n instanceof Node||n instanceof HTMLElement}function gN(n){if(null==n)return[];const e=[];return hw(n,t=>e.push(t)),e}function vN(n,e){if(n)for(let t=0;t<n.length;t++){const i=n[t];e(i.name,i.value)}}function Xr(n,e,t){null==t?n.removeAttribute(e):n.setAttribute(e,t.toString())}function hw(n,e){if(null!=n)for(let t=0;t<n.length;t++)e(n[t])}var t7=Object.freeze({__proto__:null,radioCssClass:function Y9(n,e,t){const i=n.parentElement;let o=i&&i.firstChild;for(;o;)e&&o.classList.toggle(e,o===n),t&&o.classList.toggle(t,o!==n),o=o.nextSibling},FOCUSABLE_SELECTOR:uN,FOCUSABLE_EXCLUDE:nw,isFocusableFormField:ow,setDisplayed:_e,setVisible:hN,setDisabled:Ul,isElementChildOfClass:Xs,getElementSize:Js,getInnerHeight:hu,getInnerWidth:wm,getAbsoluteHeight:rw,getAbsoluteWidth:Sm,isRtlNegativeScroll:pu,getScrollLeft:fu,setScrollLeft:Em,clearElement:nn,removeElement:function Q9(n,e){_r(n.querySelector(e))},removeFromParent:_r,isVisible:Wl,loadTemplate:ei,appendHtml:function Z9(n,e){n.lastChild?n.insertAdjacentHTML("afterbegin",e):n.innerHTML=e},getElementAttribute:function X9(n,e){return n.attributes&&n.attributes[e]?n.attributes[e].value:null},offsetHeight:sw,offsetWidth:aw,ensureDomOrder:lw,setDomChildOrder:cw,insertWithDomOrder:pN,prependDC:function J9(n,e){D(n.firstChild)?n.insertBefore(e,n.firstChild):n.appendChild(e)},addStylesToElement:dw,isHorizontalScrollShowing:fN,isVerticalScrollShowing:mN,setElementWidth:mu,setFixedWidth:In,setElementHeight:function e7(n,e){"flex"===e?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):ea(n,e)},setFixedHeight:ea,formatSize:uw,isNodeOrElement:gu,copyNodeList:gN,iterateNamedNodeMap:vN,addOrRemoveAttribute:Xr,nodeListForEach:hw});const CN={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function On(n,e,t){const i=wt(n,e,t);if(i){const{className:r}=i;if("string"==typeof r&&r.indexOf("ag-icon")>-1||"object"==typeof r&&r["ag-icon"])return i}const o=document.createElement("span");return o.appendChild(i),o}function wt(n,e,t,i){let o=null;const r=t&&t.getColDef().icons;if(r&&(o=r[n]),e&&!o){const s=e.get("icons");s&&(o=s[n])}if(!o){const s=document.createElement("span");let a=CN[n];return a||(i?a=n:(console.warn(`AG Grid: Did not find icon ${n}`),a="")),s.setAttribute("class",`ag-icon ag-icon-${a}`),s.setAttribute("unselectable","on"),$t(s,"presentation"),s}{let s;if("function"==typeof o)s=o();else{if("string"!=typeof o)throw new Error("icon from grid options needs to be a string or a function");s=o}if("string"==typeof s)return ei(s);if(gu(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var i7=Object.freeze({__proto__:null,iconNameClassMap:CN,createIcon:On,createIconNoSpan:wt});let x=(()=>{class n{}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n})();function pw(n){return!(n.altKey||n.ctrlKey||n.metaKey)&&1===n.key.length}function xm(n,e,t,i,o){const r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const s={event:e,editing:o,column:i,api:n.api,node:t,data:t.data,colDef:i.getColDef(),context:n.context,columnApi:n.columnApi};return!(!r||!r(s))}function bN(n,e,t,i){const o=i.getDefinition(),r=o&&o.suppressHeaderKeyboardEvent;return!!D(r)&&!!r({api:n.api,columnApi:n.columnApi,context:n.context,colDef:o,column:i,headerRowIndex:t,event:e})}function _N(n){const{keyCode:e}=n;let t;switch(e){case 65:t=x.A;break;case 67:t=x.C;break;case 86:t=x.V;break;case 68:t=x.D;break;case 90:t=x.Z;break;case 89:t=x.Y;break;default:t=n.code}return t}function yN(n,e=!1){return n===x.DELETE||!e&&n===x.BACKSPACE&&ew()}var c7=Object.freeze({__proto__:null,isEventFromPrintableCharacter:pw,isUserSuppressingKeyboardEvent:xm,isUserSuppressingHeaderKeyboardEvent:bN,normaliseQwertyAzerty:_N,isDeleteKey:yN});function fw(n,e,t){if(0===t)return!1;const i=Math.abs(n.clientX-e.clientX),o=Math.abs(n.clientY-e.clientY);return Math.max(i,o)<=t}var d7=Object.freeze({__proto__:null,areEventsNear:fw}),p7=Object.freeze({__proto__:null,sortRowNodesByOrder:function u7(n,e){if(!n)return!1;const t=(s,a)=>{const l=e[s.id],c=e[a.id],d=void 0!==l,u=void 0!==c;return d&&u?l-c:d||u?d?1:-1:s.__objectId-a.__objectId};let i,o,r=!1;for(let s=0;s<n.length-1;s++)if(i=n[s],o=n[s+1],t(i,o)>0){r=!0;break}return!!r&&(n.sort(t),!0)},traverseNodesWithKey:function h7(n,e){const t=[];!function i(o){o&&o.forEach(r=>{if(r.group||r.hasChildren()){t.push(r.key);const s=t.join("|");e(r,s),i(r.childrenAfterGroup),t.pop()}})}(n)}});function mw(n){const e=new Set;return n.forEach(t=>e.add(t)),e}var f7=Object.freeze({__proto__:null,convertToSet:mw});const X=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},V9),v9),H9),q9),t7),b9),s9),A9),ZY),i7),c7),T9),d7),K9),o9),p7),f7),x9);class zl{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}}var oo=(()=>((oo=oo||{})[oo.IN_PROGRESS=0]="IN_PROGRESS",oo[oo.RESOLVED=1]="RESOLVED",oo))();class Kt{constructor(e){this.status=oo.IN_PROGRESS,this.resolution=null,this.waiters=[],e(t=>this.onDone(t),t=>this.onReject(t))}static all(e){return new Kt(t=>{let i=e.length;const o=new Array(i);e.forEach((r,s)=>{r.then(a=>{o[s]=a,i--,0===i&&t(o)})})})}static resolve(e=null){return new Kt(t=>t(e))}then(e){return new Kt(t=>{this.status===oo.RESOLVED?t(e(this.resolution)):this.waiters.push(i=>t(e(i)))})}resolveNow(e,t){return this.status===oo.RESOLVED?t(this.resolution):e}onDone(e){this.status=oo.RESOLVED,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){console.warn("TBI")}}var gw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},qt=(()=>((qt=qt||{})[qt.NOTHING=0]="NOTHING",qt[qt.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",qt[qt.SHOWING=2]="SHOWING",qt))();class yr extends T{constructor(e){super(),this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.state=qt.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1,this.parentComp=e}postConstruct(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))}destroy(){this.setToDoNothing(),super.destroy()}onMouseEnter(e){if(Zr()||this.state!=qt.NOTHING)return;const t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=qt.WAITING_TO_SHOW}onMouseLeave(){this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}setToDoNothing(){this.state===qt.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=qt.NOTHING}onMouseMove(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===qt.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()}onMouseDown(){this.setToDoNothing()}getTooltipDelay(e){const t=this.gridOptionsService.getNum("tooltipShowDelay"),i=this.gridOptionsService.getNum("tooltipHideDelay"),o="show"===e?t:i,r=GP(e);return D(o)?(o<0&&xe(()=>console.warn(`AG Grid: tooltip${r}Delay should not be lower than 0`),`tooltip${r}DelayWarn`),Math.max(200,o)):null}hideTooltip(){this.tooltipComp&&(this.destroyTooltipComp(),yr.lastTooltipHideTime=(new Date).getTime()),this.state=qt.NOTHING}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp;window.setTimeout(()=>{e(),this.getContext().destroyBean(t)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}isLastTooltipHiddenRecently(){return(new Date).getTime()-yr.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}showTooltip(){const e=Object.assign({},this.parentComp.getTooltipParams());if(!D(e.value))return void this.setToDoNothing();this.state=qt.SHOWING,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}newTooltipComponentCallback(e,t){if(this.state!==qt.SHOWING||this.tooltipInstanceCount!==e)return void this.getContext().destroyBean(t);const o=t.getGui();this.tooltipComp=t,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom");const r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:r("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}positionTooltipUnderLastMouseEvent(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})}clearTimeouts(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}}gw([f("popupService")],yr.prototype,"popupService",void 0),gw([f("userComponentFactory")],yr.prototype,"userComponentFactory",void 0),gw([P],yr.prototype,"postConstruct",null);class m7{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(o=>this.addCssClass(o));else if(!0!==this.cssClassStates[e]&&e.length){const o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)t.forEach(o=>this.removeCssClass(o));else if(!1!==this.cssClassStates[e]&&e.length){const o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(e){if(e.indexOf(" ")>=0){const o=(e||"").split(" ");if(o.length>1)return void o.forEach(r=>this.addOrRemoveCssClass(r,t))}if(this.cssClassStates[e]!==t&&e.length){const o=this.getGui();o&&o.classList.toggle(e,t),this.cssClassStates[e]=t}}}}var vw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const g7=new zl;let ae=(()=>{class n extends T{constructor(t){super(),this.displayed=!0,this.visible=!0,this.compId=g7.next(),this.cssClassManager=new m7(()=>this.eGui),t&&this.setTemplate(t)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){this.tooltipText!=t&&(this.tooltipText&&(()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)})(),null!=t&&(this.tooltipText=t,this.tooltipText&&(()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new yr(this))})()))}createChildComponentsFromTags(t,i){gN(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const s=this.createComponentFromElement(r,a=>{a.getGui()&&this.copyAttributesFromNode(r,a.getGui())},i);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const a=Array.prototype.slice.call(r.children);s.addItems(a)}this.swapComponentForNode(s,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,o){const r=t.nodeName,s=o?o[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(r);if(a){n.elementGettingCreated=t;const l=new a(s);return l.setParentComponent(this),this.createBean(l,null,i),l}return null}copyAttributesFromNode(t,i){vN(t.attributes,(o,r)=>i.setAttribute(o,r))}swapComponentForNode(t,i,o){const r=t.getGui();i.replaceChild(r,o),i.insertBefore(document.createComment(o.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,o)}swapInComponentForQuerySelectors(t,i){const o=this;this.iterateOverQuerySelectors(r=>{o[r.attributeName]===i&&(o[r.attributeName]=t)})}iterateOverQuerySelectors(t){let i=Object.getPrototypeOf(this);for(;null!=i;){const o=i.__agComponentMetaData,r=om(i.constructor);o&&o[r]&&o[r].querySelectors&&o[r].querySelectors.forEach(s=>t(s)),i=Object.getPrototypeOf(i)}}setTemplate(t,i){const o=ei(t);this.setTemplateFromElement(o,i)}setTemplateFromElement(t,i){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const t=this;this.iterateOverQuerySelectors(i=>{const o=s=>t[i.attributeName]=s;if(i.refSelector&&this.eGui.getAttribute("ref")===i.refSelector)o(this.eGui);else{const s=this.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}queryForHtmlInputElement(t){return this.eGui.querySelector(t)}appendChild(t,i){null!=t&&(i||(i=this.eGui),gu(t)?i.appendChild(t):i.appendChild(t.getGui()))}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:o}=i;hN(this.eGui,t,{skipAriaHidden:o})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:o}=i;_e(this.eGui,t,{skipAriaHidden:o}),this.dispatchEvent({type:n.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),super.destroy()}addGuiEventListener(t,i,o){this.eGui.addEventListener(t,i,o),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}getAttribute(t){const{eGui:i}=this;return i?i.getAttribute(t):null}getRefElement(t){return this.queryForHtmlElement(`[ref="${t}"]`)}}return n.EVENT_DISPLAYED_CHANGED="displayedChanged",n})();function N(n){return wN.bind(this,`[ref=${n}]`,n)}function wN(n,e,t,i,o){null!==n?"number"!=typeof o?function v7(n,e,t){const i=function C7(n,e){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[e]||(n.__agComponentMetaData[e]={}),n.__agComponentMetaData[e]}(n,om(n.constructor));i[e]||(i[e]=[]),i[e].push(t)}(t,"querySelectors",{attributeName:i,querySelector:n,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}vw([f("agStackComponentsRegistry")],ae.prototype,"agStackComponentsRegistry",void 0),vw([DP],ae.prototype,"preConstructOnComponent",null),vw([DP],ae.prototype,"createChildComponentsPreConstruct",null);var SN=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Cw extends ae{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){e?this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")}}SN([N("eFloatingFilterText")],Cw.prototype,"eFloatingFilterText",void 0),SN([f("columnModel")],Cw.prototype,"columnModel",void 0);class EN{constructor(e,t,i,o){this.alive=!0,this.context=e,this.eParent=o,t.getDateCompDetails(i).newAgStackInstance().then(a=>{this.alive?(this.dateComp=a,a&&(o.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled))):e.destroyBean(a)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){_e(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}}class xN{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{"string"!=typeof e&&([["displayKey"],["displayName"],["predicate","test"]].every(o=>!!o.some(r=>null!=e[r])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${o}'`),!1))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter(o=>o===e)||[])})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}}const DN={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var RN=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Vo=(()=>{class n extends T{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:o=>{if(o.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,o.shiftKey);r&&(r.focus(),o.preventDefault())}},i)}postConstruct(){this.eFocusableElement.classList.add(n.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(t){this.addManagedListener(t,"keydown",i=>{if(!i.defaultPrevented&&!Lo(i)){if(this.callbacks.shouldStopEventPropagation(i))return void Cr(i);i.key===x.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}})}}return n.FOCUS_MANAGED_CLASS="ag-focus-managed",n})();RN([f("focusService")],Vo.prototype,"focusService",void 0),RN([P],Vo.prototype,"postConstruct",null);var bw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const TN="ag-resizer-wrapper",b7=`<div class="${TN}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`;class vu extends T{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(i,o)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:o,minHeight:r,height:s,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const u=!!this.element.offsetParent;if(u){const h=this.findBoundaryElement(),p=window.getComputedStyle(h);if(null!=p.minWidth){const g=h.offsetWidth-this.element.offsetWidth;d=parseInt(p.minWidth,10)-g}if(null!=p.minHeight){const g=h.offsetHeight-this.element.offsetHeight;c=parseInt(p.minHeight,10)-g}}if(this.minHeight=r||c,this.minWidth=i||d,o&&this.setWidth(o),s&&this.setHeight(s),(!o||!s)&&this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(u&&t&&this.boundaryEl){const h=parseFloat(this.boundaryEl.style.top),p=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(p)?0:p,isNaN(h)?0:h)}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const o=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(o||!this.isAlive()&&!o)&&(o?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=o)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ea(i,e),e=rw(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?ea(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:o.top,a=e?0:r.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:u}=d.getBoundingClientRect();l=u-o.bottom}}return i+a-s-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))In(t,e),e=Sm(t),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(o?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?In(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))}offsetElement(e=0,t=0){const i=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top))}constrainSizeToAvailableHeight(e){this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:o,anywhereWithin:r,topBuffer:s}=e,a=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!i,!!r,a)?0:a,movementY:this.shouldSkipY(t,!!o,s,l)?0:l}}shouldSkipX(e,t,i,o){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:r.left;let c=l<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=a.right;return!!c||(c=t?o<0&&e.clientX>l+s.left||o>0&&e.clientX<l+s.left:i?o<0&&e.clientX>a.right||o>0&&e.clientX<l+s.left:o<0&&e.clientX>a.right||o>0&&e.clientX<a.right,c)}shouldSkipY(e,t,i=0,o){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:r.top;let c=l<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=a.bottom;return!!c||(c=t?o<0&&e.clientY>l+s.top+i||o>0&&e.clientY<l+s.top:o<0&&e.clientY>a.bottom||o>0&&e.clientY<a.bottom,c)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=(new DOMParser).parseFromString(b7,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${TN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:o}=this.config;!i&&!o&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let o=0;o<e.length;o++){const r=e[o],s=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r===this.element)continue;let a=this.minHeight||0,l=this.minWidth||0;if(s){const c=window.getComputedStyle(r);c.minHeight&&(a=parseInt(c.minHeight,10)),c.minWidth&&(l=parseInt(c.minWidth,10))}else a=r.offsetHeight,l=r.offsetWidth;t+=a,i+=l}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let o=0;o<i.length;o++){const r=i[o];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[o+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:o,isRight:r,isBottom:s,isLeft:a}=this.currentResizer,l=r||a,c=s||o,{movementX:d,movementY:u}=this.calculateMouseMovement({e,isLeft:a,isTop:o}),h=this.position.x,p=this.position.y;let g=0,m=0;if(l&&d){const C=a?-1:1,_=this.getWidth(),b=_+d*C;let y=!1;a&&(g=_-b,(h+g<=0||b<=this.minWidth)&&(y=!0,g=0)),y||this.setWidth(b)}if(c&&u){const C=o?-1:1,_=this.getHeight(),b=_+u*C;let y=!1;o?(m=_-b,(p+m<=0||b<=this.minHeight)&&(y=!0,m=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&_<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(y=!0),y||this.setHeight(b)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&g||m)&&this.offsetElement(h+g,p+m)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(i)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let o;this.config.calculateTopBuffer&&(o=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:o});this.offsetElement(t+r,i+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}}bw([f("popupService")],vu.prototype,"popupService",void 0),bw([f("resizeObserverService")],vu.prototype,"resizeObserverService",void 0),bw([f("dragService")],vu.prototype,"dragService",void 0);var _w=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class ro extends ae{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new Vo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new vu(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(i,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=ro.isUseApplyButton(e),this.createButtonPanel()}createButtonPanel(){const{buttons:e}=this.providedFilterParams;if(!e||e.length<1||this.isReadOnly())return;const t=document.createElement("div");t.classList.add("ag-filter-apply-panel");const i=o=>{let r,s;switch(o){case"apply":r=this.translate("applyFilter"),s=c=>this.onBtApply(!1,!1,c);break;case"clear":r=this.translate("clearFilter"),s=()=>this.onBtClear();break;case"reset":r=this.translate("resetFilter"),s=()=>this.onBtReset();break;case"cancel":r=this.translate("cancelFilter"),s=c=>{this.onBtCancel(c)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const l=ei(`<button\n                    type="${"apply"===o?"submit":"button"}"\n                    ref="${o}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${r}\n                </button>`);t.appendChild(l),this.addManagedListener(l,"click",s)};mw(e).forEach(o=>i(o)),this.getGui().appendChild(t)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=ro.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),t=No(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t});const{closeOnApply:o}=this.providedFilterParams;o&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const i=e&&e.key;let o;("Enter"===i||"Space"===i)&&(o={keyboardEvent:e}),this.hidePopup(o),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi());Ul(this.getRefElement("applyFilterButton"),!i)}e&&!t||"immediately"===t?this.onBtApply(e):(!this.applyActive&&!t||"debounce"===t)&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e,{positionableFeature:i,gridOptionsService:o}=this;t?(i.restoreLastSize(),i.setResizable(o.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,t){return ro.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,DN[e])}getCellValue(e){const{api:t,colDef:i,column:o,columnApi:r,context:s}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:t,colDef:i,column:o,columnApi:r,context:s,data:e.data,getValue:a=>e.data[a],node:e})}getPositionableElement(){return this.eFilterBody}}_w([f("rowModel")],ro.prototype,"rowModel",void 0),_w([N("eFilterBody")],ro.prototype,"eFilterBody",void 0),_w([P],ro.prototype,"postConstruct",null);class yw extends ae{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:o}=this.config;null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()}refreshLabel(){nn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(_e(this.eLabel,!1),$t(this.eLabel,"presentation")):(_e(this.eLabel,!0),$t(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||mu(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return Ul(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],yw.prototype,"postConstruct",null);let $l=(()=>{class n extends yw{constructor(t,i,o){super(t,i),this.className=o}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(t){return this.addManagedListener(this,n.EVENT_CHANGED,()=>t(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return In(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,i){return this.value===t||(this.previousValue=this.value,this.value=t,i||this.dispatchEvent({type:n.EVENT_CHANGED})),this}}return n.EVENT_CHANGED="valueChange",n})();var Dm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Cu extends $l{constructor(e,t,i,o){super(e,`<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    ${o?`role="${o}"`:""}\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>`,t),this.pickerIcon=i,this.isPickerDisplayed=!1,this.isDestroyingPicker=!1,this.skipClick=!1}postConstruct(){super.postConstruct();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e),qP(this.eWrapper,e);const t=()=>{this.skipClick?this.skipClick=!1:this.isDisabled()||(this.pickerComponent=this.showPicker())},i=this.getGui();if(this.addManagedListener(i,"mousedown",o=>{!this.skipClick&&this.pickerComponent&&this.pickerComponent.isAlive()&&Wl(this.pickerComponent.getGui())&&i.contains(o.target)&&(this.skipClick=!0)}),this.addManagedListener(i,"keydown",o=>{switch(o.key){case x.UP:case x.DOWN:case x.ENTER:case x.SPACE:t();case x.ESCAPE:this.isPickerDisplayed&&o.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",t),this.addManagedListener(this.eLabel,"click",t),this.pickerIcon){const o=wt(this.pickerIcon,this.gridOptionsService);o&&this.eIcon.appendChild(o)}}refreshLabel(){D(this.getLabel())?pm(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),super.refreshLabel()}setAriaLabel(e){return Qr(this.eWrapper,e),this}setInputWidth(e){return mu(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}}Dm([N("eLabel")],Cu.prototype,"eLabel",void 0),Dm([N("eWrapper")],Cu.prototype,"eWrapper",void 0),Dm([N("eDisplayField")],Cu.prototype,"eDisplayField",void 0),Dm([N("eIcon")],Cu.prototype,"eIcon",void 0);let ww=(()=>{class n extends ae{constructor(t="default"){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const i=t.key;switch(i){case x.ENTER:if(this.highlightedEl){const s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}else this.setValue(this.getValue());break;case x.DOWN:case x.UP:const o=i===x.DOWN;let r;if(t.preventDefault(),this.highlightedEl){let a=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);a=Math.min(Math.max(a,0),this.itemEls.length-1),r=this.itemEls[a]}else r=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(r)}}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){const{value:i,text:o}=t,r=ko(o||i);return this.options.push({value:i,text:r}),this.renderOption(i,r),this.updateIndices(),this}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((i,o)=>{jy(i,o+1),By(i,t.length)})}renderOption(t,i){const o=document.createElement("div");$t(o,"option"),o.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),o.innerHTML=`<span>${i}</span>`,o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",()=>this.highlightItem(o)),this.addManagedListener(o,"mouseleave",()=>this.clearHighlighted()),this.addManagedListener(o,"click",()=>this.setValue(t)),this.getGui().appendChild(o)}setValue(t,i){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;const o=this.options.findIndex(r=>r.value===t);if(-1!==o){const r=this.options[o];this.value=r.value,this.displayValue=null!=r.text?r.text:r.value,this.highlightItem(this.itemEls[o]),i||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(i=>i.value===this.value);-1!==t&&this.highlightItem(this.itemEls[t])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(n.ACTIVE_CLASS),Hl(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(n.ACTIVE_CLASS),Hl(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:$l.EVENT_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:n.EVENT_ITEM_SELECTED})}}return n.EVENT_ITEM_SELECTED="selectedItem",n.ACTIVE_CLASS="ag-active-item",n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],ww.prototype,"init",null);var MN=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let bu=(()=>{class n extends Cu{constructor(t){super(t,"ag-select","smallDown","listbox")}init(){this.listComponent=this.createBean(new ww("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,ww.EVENT_ITEM_SELECTED,()=>{this.hideList&&this.hideList(),this.dispatchEvent({type:n.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,$l.EVENT_CHANGED,()=>{this.setValue(this.listComponent.getValue(),!1,!0),this.hideList&&this.hideList()})}showPicker(){const t=this.listComponent.getGui(),i=this.gridOptionsService.getDocument(),o=this.addManagedListener(i.body,"wheel",l=>{!t.contains(l.target)&&this.hideList&&this.hideList()}),r=this.addManagedListener(t,"focusout",l=>{!t.contains(l.relatedTarget)&&this.hideList&&this.hideList()}),s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:()=>{this.hideList=null,this.isPickerDisplayed=!1,r(),o(),this.isAlive()&&(to(this.eWrapper,!1),this.getFocusableElement().focus())},ariaLabel:s("ariaLabelSelectField","Select Field")});return a&&(this.hideList=a.hideFunc),this.isPickerDisplayed=!0,mu(t,Sm(this.eWrapper)),to(this.eWrapper,!0),t.style.maxHeight=hu(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent}addOptions(t){return t.forEach(i=>this.addOption(i)),this}addOption(t){return this.listComponent.addOption(t),this}setValue(t,i,o){return this.value===t?this:(o||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(t,i)))}destroy(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),super.destroy()}}return n.EVENT_ITEM_SELECTED="selectedItem",n})();MN([f("popupService")],bu.prototype,"popupService",void 0),MN([P],bu.prototype,"init",null);var Sw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class so extends $l{constructor(e,t,i="text",o="input"){super(e,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${o} ref="eInput" class="ag-input-field-input"></${o}>\n                </div>\n            </div>`,t),this.inputType=i,this.displayFieldTag=o}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width:e,value:t}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),this.addInputListeners()}refreshLabel(){D(this.getLabel())?pm(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return mu(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return Xr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Qr(this.eInput,e),this}setDisabled(e){return Ul(this.eInput,e),super.setDisabled(e)}}Sw([N("eLabel")],so.prototype,"eLabel",void 0),Sw([N("eWrapper")],so.prototype,"eWrapper",void 0),Sw([N("eInput")],so.prototype,"eInput",void 0);class Jr extends so{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchEvent({type:Jr.EVENT_CHANGED,selected:e,previousValue:t,event:i});const o=this.getInputElement();this.eventService.dispatchEvent({type:v.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}}class AN extends Jr{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,v.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}}class Ew{constructor(e,t){this.localeService=e,this.optionsFactory=t}getModelAsString(e){if(!e)return null;const t=null!=e.operator,i=this.localeService.getLocaleTextFunc();if(t){const o=e;let{conditions:r}=o;if(!r){const{condition1:l,condition2:c}=o;r=[l,c]}const s=r.map(l=>this.getModelAsString(l)),a="AND"===o.operator?"andCondition":"orCondition";return s.join(` ${i(a,DN[a])} `)}if(e.type===rt.BLANK||e.type===rt.NOT_BLANK)return i(e.type,e.type);{const o=e,r=this.optionsFactory.getCustomOption(o.type),{displayKey:s,displayName:a,numberOfInputs:l}=r||{};return s&&a&&0===l?(i(s,a),a):this.conditionToString(o,r)}}}let rt=(()=>{class n extends ro{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const i=this.optionsFactory.getCustomOption(t);if(i){const{numberOfInputs:r}=i;return r??1}return t&&[n.EMPTY,n.NOT_BLANK,n.BLANK].indexOf(t)>=0?0:t===n.IN_RANGE?2:1}onFloatingFilterChanged(t,i){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((i,o)=>{i.setValue(0===o?t:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(t,i){if(!t&&!i)return!0;if(!t&&i||t&&!i)return!1;const o=!t.operator,r=!i.operator;if(!o&&r||o&&!r)return!1;let a;return a=o?this.areSimpleModelsEqual(t,i):t.operator===i.operator&&Yr(t.conditions,i.conditions,(d,u)=>this.areSimpleModelsEqual(d,u)),a}setModelIntoUi(t){if(t.operator){let o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);const r=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let l=s;l<r;l++)this.createJoinOperatorPanel(),this.createOption();const a="OR"===o.operator;this.eJoinOperatorsAnd.forEach(l=>l.setValue(!a,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(a,!0)),o.conditions.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const o=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(o.type,!0),this.setConditionIntoUi(o,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Kt.resolve()}validateAndUpdateConditions(t){let i=t.length;return i>this.maxNumConditions&&(t.splice(this.maxNumConditions),xe(()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),"simpleFilterSetModelMaxNumConditions"),i=this.maxNumConditions),i}doesFilterPass(t){var i;const o=this.getModel();if(null==o)return!0;const{operator:r}=o,s=[];return r?s.push(...null!==(i=o.conditions)&&void 0!==i?i:[]):s.push(o),s[r&&"OR"===r?"some":"every"](l=>this.individualConditionPasses(t,l))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new xN,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators()}setNumConditions(t){var i,o;null!=t.suppressAndOrCondition&&xe(()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),"simpleFilterSuppressAndOrCondition"),null!=t.alwaysShowBothConditions&&xe(()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(i=t.maxNumConditions)&&void 0!==i?i:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(xe(()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.'),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(o=t.numAlwaysVisibleConditions)&&void 0!==o?o:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(xe(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(xe(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new bu);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(t),this.resetType(t);const o=this.getNumConditions()-1;this.forEachPositionInput(o,r=>this.resetInput(r)),this.addChangedListeners(t,o)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const i=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),o=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const r=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,r,s),this.resetJoinOperatorOr(o,r,s),this.isReadOnly()||(i.onValueChange(this.listener),o.onValueChange(this.listener))}createJoinOperator(t,i,o){const r=this.createManagedBean(new AN);return t.push(r),r.addCssClass("ag-filter-condition-operator"),r.addCssClass(`ag-filter-condition-operator-${o}`),i.appendChild(r.getGui()),r}getDefaultJoinOperator(t){return"AND"===t||"OR"===t?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(i=>"string"==typeof i?this.createBoilerplateListOption(i):this.createCustomListOption(i))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(i=>{t.addOption(i)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:i}=t,o=this.optionsFactory.getCustomOption(t.displayKey);return{value:i,text:o?this.localeService.getLocaleTextFunc()(o.displayKey,o.displayName):this.translate(i)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){var t;let i=-1,o=!0;for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)?i=r:o=!1;if(this.shouldAddNewConditionAtEnd(o))this.createJoinOperatorPanel(),this.createOption();else{const r=null!==(t=this.lastUiCompletePosition)&&void 0!==t?t:this.getNumConditions()-2;if(i<r){this.removeConditionsAndOperators(r+1);const s=i+1,a=r-s;a>0&&this.removeConditionsAndOperators(s,a),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i}updateConditionStatusesAndValues(t,i){this.eTypes.forEach((r,s)=>{const a=this.isConditionDisabled(s,t);r.setDisabled(a||this.filterListOptions.length<=1),1===s&&(Ul(this.eJoinOperatorPanels[0],a),this.eJoinOperatorsAnd[0].setDisabled(a),this.eJoinOperatorsOr[0].setDisabled(a))}),this.eConditionBodies.forEach((r,s)=>{_e(r,this.isConditionBodyVisible(s))});const o="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((r,s)=>{r.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach((r,s)=>{r.setValue(o,!0)}),this.forEachInput((r,s,a,l)=>{this.setElementDisplayed(r,s<l),this.setElementDisabled(r,this.isConditionDisabled(a,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,i){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,i),this.removeElements(this.eConditionBodies,t,i),this.removeValueElements(t,i);const o=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,o,i),this.removeComponents(this.eJoinOperatorsAnd,o,i),this.removeComponents(this.eJoinOperatorsOr,o,i)}removeElements(t,i,o){this.removeItems(t,i,o).forEach(s=>_r(s))}removeComponents(t,i,o){this.removeItems(t,i,o).forEach(s=>{_r(s.getGui()),this.destroyBean(s)})}removeItems(t,i,o){return null==o?t.splice(i):t.splice(i,o)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){const i=this.getInputs(0)[0];if(!i)return;i instanceof so&&i.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();(!this.areModelsEqual(t,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(t);let i=-1,o=-1,r=!1;const s=this.getJoinOperator();for(let l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))-1===i&&(i=l,o=l);else{const d=l<i;(l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1)||d)&&(this.removeConditionsAndOperators(l,1),r=!0,d&&o--)}let a=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),a=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),a=!0),a&&this.updateConditionStatusesAndValues(o,s),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o}getPlaceholderText(t,i){let o=this.translate(t);if(rm(this.filterPlaceholder)){const r=this.filterPlaceholder,s=this.eTypes[i].getValue();o=r({filterOptionKey:s,filterOption:this.translate(s),placeholder:o})}else"string"==typeof this.filterPlaceholder&&(o=this.filterPlaceholder);return o}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((i,o,r,s)=>{if(!(i instanceof so))return;const a=0===o&&s>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",l=0===o&&s>1?t("ariaFilterFromValue","Filter from value"):0===o?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(this.getPlaceholderText(a,r)),i.setInputAriaLabel(l)})}setElementValue(t,i){t instanceof so&&t.setValue(null!=i?String(i):null,!0)}setElementDisplayed(t,i){t instanceof ae&&_e(t.getGui(),i)}setElementDisabled(t,i){t instanceof ae&&Ul(t.getGui(),i)}attachElementOnChange(t,i){t instanceof so&&t.onValueChange(i)}forEachInput(t){this.getConditionTypes().forEach((i,o)=>{this.forEachPositionTypeInput(o,i,t)})}forEachPositionInput(t,i){const o=this.getConditionType(t);this.forEachPositionTypeInput(t,o,i)}forEachPositionTypeInput(t,i,o){const r=this.getNumberOfInputs(i),s=this.getInputs(t);for(let a=0;a<s.length;a++){const l=s[a];null!=l&&o(l,a,t,r)}}isConditionDisabled(t,i){return!!this.isReadOnly()||0!==t&&t>i+1}isConditionBodyVisible(t){const i=this.getConditionType(t);return this.getNumberOfInputs(i)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===n.EMPTY||this.getValues(t).some(o=>null==o))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&t.push(this.createCondition(i));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(i=>this.resetType(i)),this.eJoinOperatorsAnd.forEach((i,o)=>this.resetJoinOperatorAnd(i,o,this.joinOperatorId+o)),this.eJoinOperatorsOr.forEach((i,o)=>this.resetJoinOperatorOr(i,o,this.joinOperatorId+o)),this.joinOperatorId++,this.forEachInput(i=>this.resetInput(i)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Kt.resolve()}resetType(t){const o=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(o).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,i,o){this.resetJoinOperator(t,i,this.isDefaultOperator("AND"),this.translate("andCondition"),o)}resetJoinOperatorOr(t,i,o){this.resetJoinOperator(t,i,this.isDefaultOperator("OR"),this.translate("orCondition"),o)}resetJoinOperator(t,i,o,r,s){this.updateJoinOperatorDisabled(t.setValue(o,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(r),i)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i)),this.eJoinOperatorsOr.forEach((t,i)=>this.updateJoinOperatorDisabled(t,i))}updateJoinOperatorDisabled(t,i){t.setDisabled(this.isReadOnly()||i>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,i){const o=this.mapValuesFromModel(t);this.forEachInput((r,s,a,l)=>{a===i&&this.setElementValue(r,null!=o[s]?o[s]:null)})}setValueFromFloatingFilter(t){this.forEachInput((i,o,r,s)=>{this.setElementValue(i,0===o&&0===r?t:null)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,i){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(i,o=>{this.attachElementOnChange(o,this.listener)}))}individualConditionPasses(t,i){const o=this.getCellValue(t.node),r=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(s,r,o)??(null==o?this.evaluateNullValue(i.type):this.evaluateNonNullValue(r,o,i,t))}evaluateCustomFilter(t,i,o){if(null==t)return;const{predicate:r}=t;return null==r||i.some(s=>null==s)?void 0:r(i,o)}isBlank(t){return null==t||"string"==typeof t&&0===t.trim().length}hasInvalidInputs(){return!1}}return n.EMPTY="empty",n.BLANK="blank",n.NOT_BLANK="notBlank",n.EQUALS="equals",n.NOT_EQUAL="notEqual",n.LESS_THAN="lessThan",n.LESS_THAN_OR_EQUAL="lessThanOrEqual",n.GREATER_THAN="greaterThan",n.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",n.IN_RANGE="inRange",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.STARTS_WITH="startsWith",n.ENDS_WITH="endsWith",n})();class ye extends rt{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case ye.EQUALS:case ye.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case ye.GREATER_THAN:case ye.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case ye.LESS_THAN:case ye.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case ye.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case ye.BLANK:return!0;case ye.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,t,i){const o=this.comparator(),r=null!=e[0]?o(e[0],t):0;switch(i.type){case ye.EQUALS:return 0===r;case ye.NOT_EQUAL:return 0!==r;case ye.GREATER_THAN:return r>0;case ye.GREATER_THAN_OR_EQUAL:return r>=0;case ye.LESS_THAN:return r<0;case ye.LESS_THAN_OR_EQUAL:return r<=0;case ye.IN_RANGE:{const s=o(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case ye.BLANK:return this.isBlank(t);case ye.NOT_BLANK:return!this.isBlank(t);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}}class FN extends Ew{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:o}=t||{},r=i==rt.IN_RANGE||2===o,s=no(e.dateFrom),a=no(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;return r?`${null!==s?_m(s,l):"null"}-${null!==a?_m(a,l):"null"}`:null!=s?_m(s,l):`${i}`}}class Kl extends ye{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:o}=e||{};return[t&&no(t)||null,i&&no(i)||null].slice(0,this.getNumberOfInputs(o))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,o)=>{if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?o:Number(e[i]);console.warn(`AG Grid: DateFilter ${i} is not a number`)}return o};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new FN(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new EN(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return Kl.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,i,o){const r=document.createElement("div");r.classList.add(`ag-filter-${o}`),r.classList.add(`ag-filter-date-${o}`),t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;const t=o=>null!=o&&o.getUTCFullYear()>=this.minValidYear&&o.getUTCFullYear()<=this.maxValidYear;let i=!0;return this.forEachInput((o,r,s,a)=>{s!==e||!i||r>=a||(i=i&&t(o.getDate()))}),i}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=An(o[0])),o.length>1&&(i.dateTo=An(o[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(o=>{o.setInputPlaceholder(t),o.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,o,r,s)=>{o<s&&t.push(i.getDate())}),t}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}Kl.DEFAULT_FILTER_OPTIONS=[ye.EQUALS,ye.GREATER_THAN,ye.LESS_THAN,ye.NOT_EQUAL,ye.IN_RANGE,ye.BLANK,ye.NOT_BLANK],function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([f("userComponentFactory")],Kl.prototype,"userComponentFactory",void 0);class PN extends ae{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let i;i=e.operator?e.conditions[0]:e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)}init(e){this.optionsFactory=new xN,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;const t=this.isTypeEditable(this.lastType);this.setEditable(t)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return null==i||1==i}isTypeEditable(e){const t=[rt.IN_RANGE,rt.EMPTY,rt.BLANK,rt.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}}var xw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Rm extends PN{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return Kl.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new FN(this.filterParams,this.localeService,this.optionsFactory)}setEditable(e){_e(this.eDateWrapper,e),_e(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){if(this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t))return;super.setLastTypeFromModel(e);const i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?no(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}onDateChanged(){const t=An(this.dateComp.getDate());this.params.parentFilterInstance(i=>{if(i){const o=no(t);i.onFloatingFilterChanged(this.getLastType()||null,o)}})}createDateComponent(){const e=ro.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),t={onDateChanged:No(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new EN(this.getContext(),this.userComponentFactory,t,this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}getFilterModelFormatter(){return this.filterModelFormatter}}xw([f("userComponentFactory")],Rm.prototype,"userComponentFactory",void 0),xw([N("eReadOnlyText")],Rm.prototype,"eReadOnlyText",void 0),xw([N("eDateWrapper")],Rm.prototype,"eDateWrapper",void 0);class NN extends ae{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(e){const t=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement(),o=this.shouldUseBrowserDatePicker(e);o&&(i.type="date");const r=o&&io();this.addManagedListener(i,"mousedown",()=>{this.eDateInput.isDisabled()||r||i.focus()}),this.addManagedListener(i,"input",l=>{l.target===t.activeElement&&(this.eDateInput.isDisabled()||e.onDateChanged())});const{minValidYear:s,maxValidYear:a}=e.filterParams||{};s&&(i.min=`${s}-01-01`),a&&(i.max=`${a}-12-31`)}getDate(){return no(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(An(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:vm()||Jy()||io()&&Xy()>=14.1}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([N("eDateInput")],NN.prototype,"eDateInput",void 0);class ta extends so{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value!==e&&(this.eInput.value=D(e)?e:""),i}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",i=>{pw(i)&&i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",i=>{var o;const r=null===(o=i.clipboardData)||void 0===o?void 0:o.getData("text");r&&r.split("").some(s=>!e.test(s))&&i.preventDefault()})}}class Dw extends ta{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const o=parseFloat(e).toFixed(this.precision);return parseFloat(o).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e||(this.min=e,Xr(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,Xr(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,Xr(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(D(i)){let o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(o||(o=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),o)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"==typeof e&&e.includes("e")}}class LN extends Ew{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==rt.IN_RANGE||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}}function kN(n){const{allowedCharPattern:e}=n??{};return e??null}class _u extends ye{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(e){const{filter:t,filterTo:i,type:o}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(o))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new LN(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return _u.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=kN(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),$t(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,o){const r=this.createManagedBean(o?new ta({allowedCharPattern:o}):new Dw);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,o,r,s)=>{o<s&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"==typeof e)return e;let t=qr(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{t.getInputElement().validity.valid||(e=!0)}),e}}_u.DEFAULT_FILTER_OPTIONS=[ye.EQUALS,ye.NOT_EQUAL,ye.LESS_THAN,ye.LESS_THAN_OR_EQUAL,ye.GREATER_THAN,ye.GREATER_THAN_OR_EQUAL,ye.IN_RANGE,ye.BLANK,ye.NOT_BLANK];class GN extends Ew{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type==rt.IN_RANGE||2===i?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}}class Vt extends rt{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const t=e&&e.trim();return""===t?e:t}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?Vt.DEFAULT_FORMATTER:Vt.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new GN(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(X.doOnce(()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead."),"textCustomComparator.deprecated"),({filterOption:t,value:i,filterText:o})=>e(t,i,o)):this.textFilterParams.textMatcher||Vt.DEFAULT_MATCHER}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,o,r,s)=>{if(o<s){const a=qr(i.getValue()),l=(this.textFilterParams.trimInput?Vt.trimInput(a):a)||null;t.push(l),i.setValue(l,!0)}}),t}getDefaultFilterOptions(){return Vt.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),$t(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const o=this.createManagedBean(new ta);o.addCssClass(`ag-filter-${i}`),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:o}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(o))}evaluateNullValue(e){return!!e&&[rt.NOT_EQUAL,rt.NOT_CONTAINS,rt.BLANK].indexOf(e)>=0}evaluateNonNullValue(e,t,i,o){const r=e.map(g=>this.formatter(g))||[],s=this.formatter(t),{api:a,colDef:l,column:c,columnApi:d,context:u,textFormatter:h}=this.textFilterParams;if(i.type===rt.BLANK)return this.isBlank(t);if(i.type===rt.NOT_BLANK)return!this.isBlank(t);const p={api:a,colDef:l,column:c,columnApi:d,context:u,node:o.node,data:o.data,filterOption:i.type,value:s,textFormatter:h};return r.some(g=>this.matcher(Object.assign(Object.assign({},p),{filterText:g})))}getModelAsString(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""}}Vt.DEFAULT_FILTER_OPTIONS=[rt.CONTAINS,rt.NOT_CONTAINS,rt.EQUALS,rt.NOT_EQUAL,rt.STARTS_WITH,rt.ENDS_WITH,rt.BLANK,rt.NOT_BLANK],Vt.DEFAULT_FORMATTER=n=>n,Vt.DEFAULT_LOWERCASE_FORMATTER=n=>null==n?null:n.toString().toLowerCase(),Vt.DEFAULT_MATCHER=({filterOption:n,value:e,filterText:t})=>{if(null==t)return!1;switch(n){case Vt.CONTAINS:return e.indexOf(t)>=0;case Vt.NOT_CONTAINS:return e.indexOf(t)<0;case Vt.EQUALS:return e===t;case Vt.NOT_EQUAL:return e!=t;case Vt.STARTS_WITH:return 0===e.indexOf(t);case Vt.ENDS_WITH:const i=e.lastIndexOf(t);return i>=0&&i===e.length-t.length;default:return!1}};var Rw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class VN extends T{constructor(e){super(),this.params=e}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new ta(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}addValueChangedListener(e){const t=this.eFloatingFilterTextInput.getGui();this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)}}class yu extends PN{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.params=e;const o=`${this.columnModel.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`;if(this.floatingFilterInputService=this.createFloatingFilterInputService(o),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),super.init(e),this.applyActive=ro.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const r=ro.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=No(this.syncUpWithParentFilter.bind(this),r);this.floatingFilterInputService.addValueChangedListener(s)}}syncUpWithParentFilter(e){if(this.applyActive&&e.key!==x.ENTER)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Vt.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(o=>{o&&o.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}}Rw([f("columnModel")],yu.prototype,"columnModel",void 0),Rw([N("eFloatingFilterInputContainer")],yu.prototype,"eFloatingFilterInputContainer",void 0),Rw([P],yu.prototype,"postConstruct",null);class E7 extends T{constructor(e){super(),this.params=e,this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Dw),this.eFloatingFilterTextInput=this.createManagedBean(new ta),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),e.appendChild(this.eFloatingFilterNumberInput.getGui()),e.appendChild(this.eFloatingFilterTextInput.getGui())}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}addValueChangedListener(e){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),e),this.setupListeners(this.eFloatingFilterTextInput.getGui(),e)}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}}class x7 extends yu{init(e){super.init(e),this.filterModelFormatter=new LN(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return _u.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){const t=kN(this.params.filterParams);return this.createManagedBean(t?new VN({config:{allowedCharPattern:t},ariaLabel:e}):new E7({ariaLabel:e}))}}class D7 extends yu{init(e){super.init(e),this.filterModelFormatter=new GN(this.localeService,this.optionsFactory)}getDefaultFilterOptions(){return Vt.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.createManagedBean(new VN({ariaLabel:e}))}}let on=(()=>{class n{constructor(t,i=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new eo,this.eElement=t,this.preventMouseClick=i;const o=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",o,{passive:!0}),this.eElement.removeEventListener("touchmove",r,{passive:!0}),this.eElement.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(t){for(let i=0;i<t.length;i++)if(t[i].identifier===this.touchStart.identifier)return t[i];return null}addEventListener(t,i){this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService.removeEventListener(t,i)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const i=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===i&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:n.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t}))},500)}onTouchMove(t){if(!this.touching)return;const i=this.getActiveTouch(t.touches);i&&!fw(i,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:n.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)}checkForDoubleTap(){const t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>n.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}}return n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n})();var ia=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Ho=(()=>{class n extends ae{constructor(t){super(),t||this.setTemplate(n.TEMPLATE)}attachCustomElements(t,i,o,r,s){this.eSortOrder=t,this.eSortAsc=i,this.eSortDesc=o,this.eSortMixed=r,this.eSortNone=s}setupSort(t,i=!1){this.column=t,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(t,i,o){if(null==i)return;const r=wt(t,this.gridOptionsService,o);r&&i.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&_e(this.eSortAsc,"asc"===t,{skipAriaHidden:!0}),this.eSortDesc&&_e(this.eSortDesc,"desc"===t,{skipAriaHidden:!0}),this.eSortNone){const i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");_e(this.eSortNone,!i&&null==t,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t="mixed"===this.sortController.getDisplaySortForColumn(this.column);_e(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){var t;if(!this.eSortOrder)return;const i=this.sortController.getColumnsWithSortingOrdered(),o=null!==(t=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==t?t:-1,r=i.some(a=>{var l;return null!==(l=this.sortController.getDisplaySortIndexForColumn(a))&&void 0!==l&&l});_e(this.eSortOrder,o>=0&&r,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():nn(this.eSortOrder)}}return n.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',n})();ia([N("eSortOrder")],Ho.prototype,"eSortOrder",void 0),ia([N("eSortAsc")],Ho.prototype,"eSortAsc",void 0),ia([N("eSortDesc")],Ho.prototype,"eSortDesc",void 0),ia([N("eSortMixed")],Ho.prototype,"eSortMixed",void 0),ia([N("eSortNone")],Ho.prototype,"eSortNone",void 0),ia([f("columnModel")],Ho.prototype,"columnModel",void 0),ia([f("sortController")],Ho.prototype,"sortController",void 0);var rn=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Gi=(()=>{class n extends ae{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)}workOutTemplate(){let t=AP(this.params.template,n.TEMPLATE);return t=t&&t.trim?t.trim():t,t}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const i=ko(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}}setupIcons(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)}addInIcon(t,i,o){if(null==i)return;const r=wt(t,this.gridOptionsService,o);r&&i.appendChild(r)}setupTap(){const{gridOptionsService:t}=this;if(t.is("suppressTouch"))return;const i=new on(this.getGui(),!0),o=t.is("suppressMenuHide"),r=o&&D(this.eMenu),s=r?new on(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(s,on[r?"EVENT_TAP":"EVENT_LONG_TAP"],c=>{t.api.showColumnMenuAfterMouseClick(this.params.column,c.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,on.EVENT_TAP,l=>{o&&this.eMenu.contains(l.touchStart.target)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(()=>i.destroy()),r&&this.addDestroyFunc(()=>s.destroy())}workOutShowMenu(){const t=!this.gridOptionsService.is("suppressMenuHide"),i=Zr()&&t;return this.params.enableMenu&&!i}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void _r(this.eMenu);const t=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",()=>this.showMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",t)}showMenu(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Ho(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const t="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,Ve.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",o=>{const r=this.params.column.isMoving(),a=(new Date).getTime()-this.lastMovingChanged<50;r||a||this.params.progressSort(t?o.ctrlKey||o.metaKey:o.shiftKey)});const i=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const o=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),s=!o?.every(a=>this.params.column.getSort()==a.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}setupFilterIcon(){this.eFilter&&(this.addManagedListener(this.params.column,Ve.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const t=this.params.column.isFilterActive();_e(this.eFilter,t,{skipAriaHidden:!0})}}return n.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',n})();rn([f("sortController")],Gi.prototype,"sortController",void 0),rn([f("menuFactory")],Gi.prototype,"menuFactory",void 0),rn([f("columnModel")],Gi.prototype,"columnModel",void 0),rn([N("eFilter")],Gi.prototype,"eFilter",void 0),rn([N("eSortIndicator")],Gi.prototype,"eSortIndicator",void 0),rn([N("eMenu")],Gi.prototype,"eMenu",void 0),rn([N("eLabel")],Gi.prototype,"eLabel",void 0),rn([N("eText")],Gi.prototype,"eText",void 0),rn([N("eSortOrder")],Gi.prototype,"eSortOrder",void 0),rn([N("eSortAsc")],Gi.prototype,"eSortAsc",void 0),rn([N("eSortDesc")],Gi.prototype,"eSortDesc",void 0),rn([N("eSortMixed")],Gi.prototype,"eSortMixed",void 0),rn([N("eSortNone")],Gi.prototype,"eSortNone",void 0);var Tw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Tm=(()=>{class n extends ae{constructor(){super(n.TEMPLATE)}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const i="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";xe(()=>console.warn(i),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const t=r=>{if(Lo(r))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);const i=r=>{Cr(r)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();const o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,pt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,pt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(t,i){const o=new on(t,!0);this.addManagedListener(o,on.EVENT_TAP,i),this.addDestroyFunc(()=>o.destroy()),this.addManagedListener(t,"click",i)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const i=this.params.columnGroup.isExpanded();_e(this.eOpenIcon,i),_e(this.eCloseIcon,!i)}else _e(this.eOpenIcon,!1),_e(this.eCloseIcon,!1)}addInIcon(t,i){const o=wt(t,this.gridOptionsService,null);o&&this.getRefElement(i).appendChild(o)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return _e(this.eOpenIcon,!1),void _e(this.eCloseIcon,!1)}setupLabel(){var t;const{displayName:i,columnGroup:o}=this.params;if(D(i)){const r=ko(i);this.getRefElement("agLabel").innerHTML=r}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(t=o.getColGroupDef())&&void 0!==t&&t.suppressStickyLabel))}}return n.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',n})();Tw([f("columnModel")],Tm.prototype,"columnModel",void 0),Tw([N("agOpened")],Tm.prototype,"eOpenIcon",void 0),Tw([N("agClosed")],Tm.prototype,"eCloseIcon",void 0);class ql extends ae{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}}let HN=(()=>{class n extends ql{constructor(){super(n.TEMPLATE)}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),D(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))}onKeyDown(t){const i=t.key;(i===x.LEFT||i===x.UP||i===x.RIGHT||i===x.DOWN||t.shiftKey&&i===x.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return D(t)||D(this.params.value)?this.params.parseValue(t):this.params.value}}return n.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([N("eTextArea")],HN.prototype,"eTextArea",void 0);var BN=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Mw extends ql{constructor(){super('<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>'),this.startedByEnter=!1}init(e){if(this.focusAfterAttached=e.cellStartedEdit,q(e.values))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=e.eventKey&&e.eventKey===x.ENTER;let t=!1;e.values.forEach(i=>{const o={value:i},r=this.valueFormatterService.formatValue(e.column,null,i);o.text=null!=r?r:i,this.eSelect.addOption(o),t=t||e.value===i}),t?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,bu.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}BN([f("valueFormatterService")],Mw.prototype,"valueFormatterService",void 0),BN([N("eSelect")],Mw.prototype,"eSelect",void 0);class wu extends ql{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;let i;if(this.cellEditorInput.init(t,e),e.cellStartedEdit){this.focusAfterAttached=!0;const o=e.eventKey;o===x.BACKSPACE||e.eventKey===x.DELETE?i="":o&&1===o.length?i=o:(i=this.cellEditorInput.getStartValue(),o!==x.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&t.setStartValue(i),this.addManagedListener(t.getGui(),"keydown",o=>{const{key:r}=o;(r===x.PAGE_UP||r===x.PAGE_DOWN)&&o.preventDefault()})}afterGuiAttached(){var e,t;const i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;io()||o.getFocusableElement().focus();const r=o.getInputElement();this.highlightAllOnFocus?r.select():null===(t=(e=this.cellEditorInput).setCaret)||void 0===t||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([N("eInput")],wu.prototype,"eInput",void 0);class M7{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return D(e)||D(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=D(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}}class jN extends wu{constructor(){super(new M7)}}let UN=(()=>{class n extends ae{constructor(){super(n.TEMPLATE),this.refreshCount=0}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)}showDelta(t,i){const o=Math.abs(i),r=t.formatValue(o),s=D(r)?r:o,a=i>=0;this.eDelta.innerHTML=a?"\u2191"+s:"\u2193"+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),nn(this.eDelta)}refresh(t){const i=t.value;return i!==this.lastValue&&(D(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:D(t.value)?this.eValue.innerHTML=i:nn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(t,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0)}}return n.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([f("filterManager")],UN.prototype,"filterManager",void 0);let WN=(()=>{class n extends ae{constructor(){super(n.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(t){this.refresh(t)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=ei('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)}refresh(t){let i=t.value;return q(i)&&(i=""),i!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=i,D(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:D(t.value)?this.eCurrent.innerHTML=i:nn(this.eCurrent),!0)}}return n.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([f("filterManager")],WN.prototype,"filterManager",void 0);let me=(()=>{class n{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){const o=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,o,i);this.dispatchLocalEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,o){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:i,newData:t,update:o}}createLocalRowEvent(t){return{type:t,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new n(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){const o=D(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.beans.selectionService.syncInRowNode(this,o),this.checkRowSelectable();const s=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(s)}checkRowSelectable(){const t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))}setRowSelectable(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){const o=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:o??!1,source:"selectableChanged"})}}setId(t){const i=this.beans.gridOptionsService.getCallback("getRowId");if(i)if(this.data){const o=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${n.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const i=[];let o=this;for(t&&(o=o.parent);o&&o.level>=0;)i.push(o.key),o=o.parent;return i.reverse(),i}isPixelInRange(t){return!(!D(this.rowTop)||!D(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=No(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,i=!0,o=0;const r=this.__autoHeights;if(null==r||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(l=>{let c=r[l.getId()];if(null==c){if(!this.beans.columnModel.isColSpanActive())return void(t=!0);{let d=[];switch(l.getPinned()){case"left":d=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":d=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:d=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(d.includes(l))return void(t=!0);c=-1}}else i=!1;c>o&&(o=c)}),t)||((i||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o==this.rowHeight))return;this.setRowHeight(o);const a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,i){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));const o=Object.assign({},this.createGlobalRowEvent(v.EVENT_ROW_GROUP_OPENED),{expanded:t,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(t){this.eventService&&this.eventService.dispatchEvent(t)}setDataValue(t,i,o){const s=(()=>{var c;return"string"!=typeof t?t:null!==(c=this.beans.columnModel.getGridColumn(t))&&void 0!==c?c:this.beans.columnModel.getPrimaryColumn(t)})(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,i,o),!1;const l=this.beans.valueService.setValue(this,s,i,o);return this.dispatchCellChangedEvent(s,i,a),this.checkRowSelectable(),l}getValueFromValueService(t){const i=this.leafGroup&&this.beans.columnModel.isPivotMode(),o=this.group&&this.expanded&&!this.footer&&!i,r=this.beans.gridOptionsService.is("groupIncludeFooter"),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,o&&r&&!s)}dispatchEventForSaveValueReadOnly(t,i,o,r){const s={type:v.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:i,newValue:o,value:o,source:r};this.beans.eventService.dispatchEvent(s)}setGroupValue(t,i){const o=this.beans.columnModel.getGridColumn(t);q(this.groupData)&&(this.groupData={});const r=o.getColId(),s=this.groupData[r];s!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(o,i,s))}setAggData(t){const i=bP([this.aggData,t]),o=this.aggData;this.aggData=t,this.eventService&&i.forEach(r=>{const s=this.beans.columnModel.getGridColumn(r);this.dispatchCellChangedEvent(s,this.aggData?this.aggData[r]:void 0,o?o[r]:void 0)})}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const o=this.beans.gridOptionsService.isTreeData(),r=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(o?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&en(this.childrenAfterGroup)}dispatchCellChangedEvent(t,i,o){this.dispatchLocalEvent({type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:i,oldValue:o})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var t;let i=!1,o=!1,r=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(let s=0;s<this.childrenAfterGroup.length;s++){const a=this.childrenAfterGroup[s];let l=a.isSelected();if(!a.selectable){const c=a.calculateSelectedFromChildren();if(null===c)continue;l=c}switch(l){case!0:i=!0;break;case!1:o=!0;break;default:r=!0}}return r||i&&o?void 0:!!i||!o&&(this.selectable?this.selected:null)}setSelectedInitialValue(t){this.selected=t}selectThisNode(t,i,o="api"){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));const a=Object.assign(Object.assign({},this.createGlobalRowEvent(v.EVENT_ROW_SELECTED)),{event:i||null,source:o});return this.beans.eventService.dispatchEvent(a),!0}setSelected(t,i=!1,o="api"){"boolean"!=typeof o?this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:o}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},t),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(t){let i=this.parent;for(;i;){if(i===t)return!0;i=i.parent}return!1}addEventListener(t,i){this.eventService||(this.eventService=new eo),this.eventService.addEventListener(t,i)}removeEventListener(t,i){this.eventService&&(this.eventService.removeEventListener(t,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(t){let i=this,o=!0,r=!1,s=null;for(;o&&!r;){const a=i.parent;D(a)&&i.firstChild?a.rowGroupColumn===t&&(r=!0,s=a):o=!1,i=a}return r?s:null}isFullWidthCell(){const t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})}getRoute(){if(null==this.key)return;const t=[];let i=this;for(;null!=i.key;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new n(this.beans);Object.keys(this).forEach(i=>{t[i]=this[i]}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}}return n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n})();var zN=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Mm extends ae{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0),YP(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=mm(e,t),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${o} (${i})`)}onCheckedClicked(e){const t=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"checkboxSelected"})}onUncheckedClicked(e){const t=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",o=>{Cr(o)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",o=>{Cr(o),this.eCheckbox.getValue()?this.onCheckedClicked(o):this.onUncheckedClicked(o||{})}),this.addManagedListener(this.rowNode,me.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const o=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,o),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,o),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){var e,t,i,o;let r=this.rowNode.selectable;const s=this.getIsVisible();if(r)if("function"==typeof s){const l=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,c=null===(t=this.column)||void 0===t?void 0:t.createColumnFunctionCallbackParams(this.rowNode);r=!!c&&s(Object.assign(Object.assign({},l),c))}else r=s??!1;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!r),this.setVisible(!0),void this.setDisplayed(!0);null!==(o=this.overrides)&&void 0!==o&&o.removeHidden?this.setDisplayed(r):this.setVisible(r)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:null===(t=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===t?void 0:t.checkboxSelection}}zN([N("eCheckbox")],Mm.prototype,"eCheckbox",void 0),zN([P],Mm.prototype,"postConstruct",null);var sn,na=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},st=(()=>((st=st||{})[st.ToolPanel=0]="ToolPanel",st[st.HeaderCell=1]="HeaderCell",st[st.RowDrag=2]="RowDrag",st[st.ChartPanel=3]="ChartPanel",st))(),ao=(()=>((ao=ao||{})[ao.Up=0]="Up",ao[ao.Down=1]="Down",ao))(),Ei=(()=>((Ei=Ei||{})[Ei.Left=0]="Left",Ei[Ei.Right=1]="Right",Ei))();let De=sn=class extends T{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=On("columnMovePin",this.gridOptionsService,null),this.eHideIcon=On("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=On("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=On("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=On("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=On("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=On("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=On("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=On("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i,t)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),di(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var i,o,r,s;const a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const c=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),d=this.findCurrentDropTarget(e,c);if(d!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,l,t),null!==this.lastDropTarget&&null===d&&(null===(o=(i=this.dragSource).onGridExit)||void 0===o||o.call(i,this.dragItem)),null===this.lastDropTarget&&null!==d&&(null===(s=(r=this.dragSource).onGridEnter)||void 0===s||s.call(r,this.dragItem)),this.enterDragTargetIfExists(d,e,a,l,t),this.lastDropTarget=d;else if(d&&d.onDragging){const u=this.createDropTargetEvent(d,e,a,l,t);d.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const o=i.getBoundingClientRect();if(0===o.width||0===o.height)return!1;if(!(e.clientX>=o.left&&e.clientX<o.right&&e.clientY>=o.top&&e.clientY<o.bottom))return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let o=!1;for(const r of i)if(this.allContainersIntersect(e,r)){o=!0;break}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&o&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const i=t.length;if(0===i)return null;if(1===i)return t[0];const r=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const a of t)if(-1!==OP(this.getAllContainersFromDropTarget(a)).indexOf(s))return a;return null}enterDragTargetIfExists(e,t,i,o,r){if(e){if(e.onDragEnter){const s=this.createDropTargetEvent(e,t,i,o,r);e.onDragEnter(s)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,i,o){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const r=this.createDropTargetEvent(this.lastDropTarget,e,t,i,o);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?Ei.Left:Ei.Right}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?ao.Up:ao.Down}createDropTargetEvent(e,t,i,o,r){const s=e.getContainer(),a=s.getBoundingClientRect(),{gridApi:l,columnApi:c,dragItem:d,dragSource:u}=this;return{event:t,x:t.clientX-a.left,y:t.clientY-a.top,vDirection:o,hDirection:i,dragSource:u,fromNudge:r,dragItem:d,api:l,columnApi:c,dropZoneTarget:s}}positionGhost(e){const t=this.eGhost;if(!t)return;const o=t.getBoundingClientRect().height,r=sN()-2,s=aN()-2;let a=e.pageY-o/2,l=e.pageX-10;const c=this.gridOptionsService.getDocument(),d=c.defaultView||window,u=d.pageYOffset||c.documentElement.scrollTop,h=d.pageXOffset||c.documentElement.scrollLeft;r>0&&l+t.clientWidth>r+h&&(l=r+h-t.clientWidth),l<0&&(l=0),s>0&&a+t.clientHeight>s+u&&(a=s+u-t.clientHeight),a<0&&(a=0),t.style.left=`${l}px`,t.style.top=`${a}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=ei(sn.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let i=this.dragSource.dragItemName;rm(i)&&(i=i()),t.innerHTML=ko(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const o=this.gridOptionsService.getDocument();let r=null;try{r=o.fullscreenElement}catch{}finally{if(!r){const s=this.gridOptionsService.getRootNode();r=s.querySelector("body")||(s instanceof ShadowRoot?s:s?.documentElement)}}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){nn(this.eGhostIcon);let i=null;switch(e||(e=this.dragSource.defaultIconName||sn.ICON_NOT_ALLOWED),e){case sn.ICON_PINNED:i=this.ePinnedIcon;break;case sn.ICON_MOVE:i=this.eMoveIcon;break;case sn.ICON_LEFT:i=this.eLeftIcon;break;case sn.ICON_RIGHT:i=this.eRightIcon;break;case sn.ICON_GROUP:i=this.eGroupIcon;break;case sn.ICON_AGGREGATE:i=this.eAggregateIcon;break;case sn.ICON_PIVOT:i=this.ePivotIcon;break;case sn.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case sn.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),(i!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)}};De.ICON_PINNED="pinned",De.ICON_MOVE="move",De.ICON_LEFT="left",De.ICON_RIGHT="right",De.ICON_GROUP="group",De.ICON_AGGREGATE="aggregate",De.ICON_PIVOT="pivot",De.ICON_NOT_ALLOWED="notAllowed",De.ICON_HIDE="hide",De.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',na([f("dragService")],De.prototype,"dragService",void 0),na([f("mouseEventService")],De.prototype,"mouseEventService",void 0),na([f("columnApi")],De.prototype,"columnApi",void 0),na([f("gridApi")],De.prototype,"gridApi",void 0),na([P],De.prototype,"init",null),na([zt],De.prototype,"clearDragSourceParamsList",null),De=sn=na([G("dragAndDropService")],De);var Su=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class oa extends ae{constructor(e,t,i,o,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=o,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(wt("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.is("rowDragManaged")?new qN(this,this.beans,this.rowNode,this.column):new KN(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.isTreeData()&&e&&xe(()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true"),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:st.RowDrag,eElement:this.getGui(),dragItemName:()=>{var o;const r=this.getDragItem(),s=(null===(o=r.rowNodes)||void 0===o?void 0:o.length)||1;return t?t(r,s):1===s?this.cellValueFn():`${s} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}}Su([f("beans")],oa.prototype,"beans",void 0),Su([P],oa.prototype,"postConstruct",null),Su([zt],oa.prototype,"removeDragSource",null);class $N extends T{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=rm(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}}class KN extends $N{constructor(e,t,i,o){super(e,i,o),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)}}Su([P],KN.prototype,"postConstruct",null);class qN extends $N{constructor(e,t,i,o){super(e,i,o),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,v.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),o=this.gridOptionsService.is("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!r||o)}}Su([P],qN.prototype,"postConstruct",null);var Eu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Yl extends T{init(e,t,i,o,r,s,a){this.params=a,this.eGui=t,this.eCheckbox=i,this.eExpanded=o,this.eContracted=r,this.comp=e,this.compClass=s;const l=this.isTopLevelFooter(),c=this.isEmbeddedRowMismatch(),d=null==a.value&&!a.node.master;let u=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){const h=a.node;h.footer&&(u=(a.colDef&&a.colDef.showRowGroup)!==(h.rowGroupColumn&&h.rowGroupColumn.getColId()))}this.cellIsBlank=!l&&(c||d&&!a.node.master||u),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eParentOfValue:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void ZP(t);const i=()=>{to(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,me.EVENT_EXPANDED_CHANGED,i)||null,i()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;const e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;const i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const e="left"===this.params.pinned,t="right"===this.params.pinned,i=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!i:this.columnModel.isPinningLeft()?!e:!i}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let i=t.parent;for(;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}}q(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!e.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=e.rowGroupColumn){const r=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(r))return void(this.showingValueForOpenedParent=!1)}const o=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=o}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:i,value:o}=e;let r=i;null==r&&(r=""===o&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o??null),this.comp.setInnerRenderer(t,r)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(null!=t&&!t.isRowGroupDisplayed(e.getId()))return this.params;const o=this.params,{value:r,node:s}=this.params,a=this.valueFormatterService.formatValue(e,s,r);return Object.assign(Object.assign({},o),{valueFormatted:a})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const o=Sy(this.params);o.value=this.params.value,"function"==typeof e?t=e(o):"string"==typeof e?t=this.expressionService.evaluate(e,o):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(null!=this.params.value?this.params.value:"");const i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),i=a=>a&&a.componentClass==this.compClass;if(t&&!i(t))return t;const o=this.displayedGroupNode.rowGroupColumn,r=o?o.getColDef():void 0;if(!r)return;const s=this.userComponentFactory.getCellRendererDetails(r,e);return s&&!i(s)?s:i(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,e):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,me.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?`(${e})`:"";this.comp.setChildCount(o)}isShowRowGroupForThisRow(){if(this.gridOptionsService.isTreeData())return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return null==t||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,i=wt("groupExpanded",this.gridOptionsService,null),o=wt("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);const r=t.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,me.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,me.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,me.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,me.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,me.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(e){Lo(e)||(Cr(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,i=!t.expanded;!i&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(i,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||t)return!1;const o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:i}=this,{node:o}=e,r=this.isExpandable();if(r){const d=!!this.showingValueForOpenedParent||o.expanded;this.comp.setExpandedDisplayed(d),this.comp.setContractedDisplayed(!d)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=i.isPivotMode(),a=s&&t.leafGroup,l=r&&!a,c=o.footer&&-1===o.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,me.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const e=this.params,t=e.node,i=!!e.colDef,o=this.gridOptionsService.isTreeData(),s=!i||o||!0===e.colDef.showRowGroup?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new oa(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return"function"==typeof e||!0===e}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const i=new Mm;this.getContext().createBean(i),i.init({rowNode:e,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(i))}this.comp.setCheckboxVisible(t)}onKeyDown(e){e.key!==x.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){Lo(e)||cm(this.eExpanded,e)||cm(this.eContracted,e)||this.onExpandOrContract(e)}}Eu([f("expressionService")],Yl.prototype,"expressionService",void 0),Eu([f("valueFormatterService")],Yl.prototype,"valueFormatterService",void 0),Eu([f("columnModel")],Yl.prototype,"columnModel",void 0),Eu([f("userComponentFactory")],Yl.prototype,"userComponentFactory",void 0),Eu([f("ctrlsService")],Yl.prototype,"ctrlsService",void 0);var xu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ra=(()=>{class n extends ae{constructor(){super(n.TEMPLATE)}init(t){const i={setInnerRenderer:(a,l)=>this.setRenderDetails(a,l),setChildCount:a=>this.eChildCount.innerHTML=a,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setContractedDisplayed:a=>_e(this.eContracted,a),setExpandedDisplayed:a=>_e(this.eExpanded,a),setCheckboxVisible:a=>this.eCheckbox.classList.toggle("ag-invisible",!a)},o=this.createManagedBean(new Yl),r=!t.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),r&&$t(s,"gridcell")}setRenderDetails(t,i){if(t){const o=t.newAgStackInstance();if(!o)return;o.then(r=>{if(!r)return;const s=()=>this.context.destroyBean(r);this.isAlive()?(this.eValue.appendChild(r.getGui()),this.addDestroyFunc(s)):s()})}else this.eValue.innerText=i}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}}return n.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',n})();xu([N("eExpanded")],ra.prototype,"eExpanded",void 0),xu([N("eContracted")],ra.prototype,"eContracted",void 0),xu([N("eCheckbox")],ra.prototype,"eCheckbox",void 0),xu([N("eValue")],ra.prototype,"eValue",void 0),xu([N("eChildCount")],ra.prototype,"eChildCount",void 0);var YN=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Aw=(()=>{class n extends ae{constructor(){super(n.TEMPLATE)}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=wt("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);const i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}}return n.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',n})();YN([N("eLoadingIcon")],Aw.prototype,"eLoadingIcon",void 0),YN([N("eLoadingText")],Aw.prototype,"eLoadingText",void 0);let P7=(()=>{class n extends ae{constructor(){super()}destroy(){super.destroy()}init(t){var i;const o=null!==(i=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==i?i:n.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.localeService.getLocaleTextFunc(),s=o.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(s)}}return n.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',n})(),N7=(()=>{class n extends ae{constructor(){super()}destroy(){super.destroy()}init(t){var i;const o=null!==(i=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==i?i:n.DEFAULT_NO_ROWS_TEMPLATE,r=this.localeService.getLocaleTextFunc(),s=o.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(s)}}return n.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',n})();class L7 extends ql{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().innerHTML=ko(t)}}class k7{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const e=this.eInput.getValue();if(!D(e)&&!D(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"==typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}}class G7 extends wu{constructor(){super(new k7)}}class V7{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return D(e)||D(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return An(e,!1)}}class H7 extends wu{constructor(){super(new V7)}}class j7{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return D(e)||D(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){var e,t;return An(null!==(t=this.parseDate(null!==(e=this.params.value)&&void 0!==e?e:void 0))&&void 0!==t?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction()(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction()(e)}}class QN extends wu{constructor(){super(new j7(()=>this.dataTypeService))}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([f("dataTypeService")],QN.prototype,"dataTypeService",void 0);let ZN=(()=>{class n extends ae{constructor(){super(n.TEMPLATE)}init(t){this.params=t,this.updateCheckbox(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",o=>{if(Cr(o),this.eCheckbox.isDisabled())return;const r=this.eCheckbox.getValue();this.onCheckboxChanged(r)}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",o=>{Cr(o)});const i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",o=>{if(o.key===x.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===i.activeElement&&this.eCheckbox.toggle();const r=this.eCheckbox.getValue();this.onCheckboxChanged(r),o.preventDefault()}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var i,o,r;let s,a=!0;if(t.node.group&&t.column){const h=t.column.getColId();h.startsWith(Gl)?s=null==t.value||""===t.value?void 0:"true"===t.value:t.node.aggData&&void 0!==t.node.aggData[h]?s=null!==(i=t.value)&&void 0!==i?i:void 0:a=!1}else s=null!==(o=t.value)&&void 0!==o?o:void 0;if(!a)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(s);const l=null!=t.disabled?t.disabled:!(null!==(r=t.column)&&void 0!==r&&r.isCellEditable(t.node));this.eCheckbox.setDisabled(l);const c=this.localeService.getLocaleTextFunc(),d=mm(c,s),u=l?d:`${c("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;this.eCheckbox.setInputAriaLabel(u)}onCheckboxChanged(t){const{column:i,node:o,rowIndex:r,value:s}=this.params,a={type:v.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:r,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(a);const l=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:v.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:r,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:t,valueChanged:l};this.eventService.dispatchEvent(c)}}return n.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([N("eCheckbox")],ZN.prototype,"eCheckbox",void 0);class XN extends ql{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(e){var t;this.params=e;const i=null!==(t=e.value)&&void 0!==t?t:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,Jr.EVENT_CHANGED,o=>this.setAriaLabel(o.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=mm(t,e),o=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${o} (${i})`)}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([N("eCheckbox")],XN.prototype,"eCheckbox",void 0);var Iw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Du=class extends T{constructor(){super(...arguments),this.agGridDefaults={agDateInput:NN,agColumnHeader:Gi,agColumnGroupHeader:Tm,agSortIndicator:Ho,agTextColumnFloatingFilter:D7,agNumberColumnFloatingFilter:x7,agDateColumnFloatingFilter:Rm,agReadOnlyFloatingFilter:Cw,agAnimateShowChangeCellRenderer:UN,agAnimateSlideCellRenderer:WN,agGroupCellRenderer:ra,agGroupRowRenderer:ra,agLoadingCellRenderer:Aw,agCheckboxCellRenderer:ZN,agCellEditor:jN,agTextCellEditor:jN,agNumberCellEditor:G7,agDateCellEditor:H7,agDateStringCellEditor:QN,agSelectCellEditor:Mw,agLargeTextCellEditor:HN,agCheckboxCellEditor:XN,agTextColumnFilter:Vt,agNumberColumnFilter:_u,agDateColumnFilter:Kl,agLoadingOverlay:P7,agNoRowsOverlay:N7,agTooltipComponent:L7},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:F.SetFilterModule,agSetColumnFloatingFilter:F.SetFilterModule,agMultiColumnFilter:F.MultiFilterModule,agMultiColumnFloatingFilter:F.MultiFilterModule,agGroupColumnFilter:F.RowGroupingModule,agGroupColumnFloatingFilter:F.RowGroupingModule,agRichSelect:F.RichSelectModule,agRichSelectCellEditor:F.RichSelectModule,agDetailCellRenderer:F.MasterDetailModule,agSparklineCellRenderer:F.SparklinesModule},this.jsComps={}}init(){null!=this.gridOptions.components&&it(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(l,c)=>({componentFromFramework:c,component:l}),o=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(null!=o)return i(o,!0);const r=this.jsComps[t];if(r)return i(r,this.getFrameworkOverrides().isFrameworkComponent(r));const s=this.agGridDefaults[t];if(s)return i(s,!1);const a=this.enterpriseAgDefaultCompsModule[t];return a?Y.assertRegistered(a,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):xe(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const o=Py(t,[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],!0,.8);console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),o.length>0&&console.warn(`         Did you mean: [${o.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};Iw([f("gridOptions")],Du.prototype,"gridOptions",void 0),Iw([P],Du.prototype,"init",null),Du=Iw([G("userComponentRegistry")],Du);const z7={propertyName:"dateComponent",cellRenderer:!1},$7={propertyName:"headerComponent",cellRenderer:!1},K7={propertyName:"headerGroupComponent",cellRenderer:!1},JN={propertyName:"cellRenderer",cellRenderer:!0},q7={propertyName:"cellEditor",cellRenderer:!1},eL={propertyName:"innerRenderer",cellRenderer:!0},Y7={propertyName:"loadingOverlayComponent",cellRenderer:!1},Q7={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Z7={propertyName:"tooltipComponent",cellRenderer:!1},Ow={propertyName:"filter",cellRenderer:!1},X7={propertyName:"floatingFilterComponent",cellRenderer:!1},J7={propertyName:"toolPanel",cellRenderer:!1},eQ={propertyName:"statusPanel",cellRenderer:!1},tQ={propertyName:"fullWidthCellRenderer",cellRenderer:!0},iQ={propertyName:"loadingCellRenderer",cellRenderer:!0},nQ={propertyName:"groupRowRenderer",cellRenderer:!0},oQ={propertyName:"detailCellRenderer",cellRenderer:!0};let rQ=(()=>{class n{static getFloatingFilterType(t){return this.filterToFloatingFilterMapping[t]}}return n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n})();var Ql=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let es=class extends T{getHeaderCompDetails(e,t){return this.getCompDetails(e,$7,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,K7,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,tQ,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,iQ,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,nQ,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,oQ,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,eL,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,eL,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,JN,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,q7,"agCellEditor",t,!0)}getFilterDetails(e,t,i){return this.getCompDetails(e,Ow,i,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,z7,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Y7,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Q7,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,Z7,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,JN,null,t)}getFloatingFilterCompDetails(e,t,i){return this.getCompDetails(e,X7,i,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,J7,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,eQ,null,t,!0)}getCompDetails(e,t,i,o,r=!1){const{propertyName:s,cellRenderer:a}=t;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=this.getCompKeys(e,t,o);const g=b=>{const y=this.userComponentRegistry.retrieve(s,b);y&&(c=y.componentFromFramework?void 0:y.component,d=y.componentFromFramework?y.component:void 0)};if(null!=l&&g(l),null==c&&null==d&&null!=i&&g(i),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(s,c)),!c&&!d)return void(r&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`));const m=this.mergeParamsWithApplicationProvidedParams(e,t,o,u),C=null==c,_=c||d;return{componentFromFramework:C,componentClass:_,params:m,type:t,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(_,C,m,t)}}getCompKeys(e,t,i){const{propertyName:o}=t;let r,s,a,l,c,d;if(e){const u=e,h=u[o+"Selector"],p=h?h(i):null,g=m=>{"string"==typeof m?r=m:null!=m&&!0!==m&&(this.getFrameworkOverrides().isFrameworkComponent(m)?a=m:s=m)};p?(g(p.component),l=p.params,c=p.popup,d=p.popupPosition):g(u[o])}return{compName:r,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:d}}newAgStackInstance(e,t,i,o){let a;if(t){const c=this.componentMetadataProvider.retrieve(o.propertyName);a=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,o)}else a=new e;const l=this.initComponent(a,i);return null==l?Kt.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,t,i,o=null){const r={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};tn(r,i);const a=e&&e[t.propertyName+"Params"];return"function"==typeof a?tn(r,a(i)):"object"==typeof a&&tn(r,a),tn(r,o),r}initComponent(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)}getDefaultFloatingFilterType(e,t){if(null==e)return null;let i=null,{compName:o,jsComp:r,fwComp:s}=this.getCompKeys(e,Ow);return o?i=rQ.getFloatingFilterType(o):null==r&&null==s&&!0===e.filter&&(i=t()),i}};Ql([f("gridOptions")],es.prototype,"gridOptions",void 0),Ql([f("agComponentUtils")],es.prototype,"agComponentUtils",void 0),Ql([f("componentMetadataProvider")],es.prototype,"componentMetadataProvider",void 0),Ql([f("userComponentRegistry")],es.prototype,"userComponentRegistry",void 0),Ql([Ie("frameworkComponentWrapper")],es.prototype,"frameworkComponentWrapper",void 0),es=Ql([G("userComponentFactory")],es);var wr=(()=>((wr=wr||{})[wr.SINGLE_SHEET=0]="SINGLE_SHEET",wr[wr.MULTI_SHEET=1]="MULTI_SHEET",wr))(),Fw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Ru=class extends T{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement;t.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&t.removeEventListener("touchstart",e.touchStartListener,{passive:!0})}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),di(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e,t=!1){const i=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",i);let o=null;const r=this.gridOptionsService.is("suppressTouch");t&&!r&&(o=s=>{ow(s.target)||(s.cancelable&&(s.preventDefault(),s.stopPropagation()),this.onTouchStart(e,s))},e.eElement.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:o,touchEnabled:t})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const r=c=>this.onTouchUp(c,e.eElement),a=t.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:c=>{c.cancelable&&c.preventDefault()},options:{passive:!1}},{target:a,type:"touchmove",listener:c=>this.onTouchMove(c,e.eElement),options:{passive:!0}},{target:a,type:"touchend",listener:r,options:{passive:!0}},{target:a,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(l),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==t.button))return;this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const a=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:a,type:"mousemove",listener:c=>this.onMouseMove(c,e.eElement)},{target:a,type:"mouseup",listener:c=>this.onMouseUp(c,e.eElement)},{target:a,type:"contextmenu",listener:c=>c.preventDefault()}]),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:o,listener:r,options:s}=t;i.addEventListener(o,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:o,listener:r,options:s}=t;i.removeEventListener(o,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams;return fw(e,t,D(i)?i:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:v.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){(this.gridOptionsService.is("enableCellTextSelection")||io())&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}isOverFormFieldElement(e){const t=e.target,i=t?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:v.EVENT_DRAG_STOPPED,target:t})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(i=>i()),this.dragEndFunctions.length=0}};Fw([f("mouseEventService")],Ru.prototype,"mouseEventService",void 0),Fw([zt],Ru.prototype,"removeAllListeners",null),Ru=Fw([G("dragService")],Ru);var Vi=(()=>((Vi=Vi||{})[Vi.Above=0]="Above",Vi[Vi.Below=1]="Below",Vi))(),pe=(()=>((pe=pe||{}).EVERYTHING="group",pe.FILTER="filter",pe.SORT="sort",pe.MAP="map",pe.AGGREGATE="aggregate",pe.FILTER_AGGREGATES="filter_aggregates",pe.PIVOT="pivot",pe.NOTHING="nothing",pe))(),Re=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};function sa(n){return null!=n&&null!=n.getFrameworkComponentInstance?n.getFrameworkComponentInstance():n}let we=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(e){this.overlayWrapperComp=e}registerSideBarComp(e){this.sideBarComp=e}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(e){return`set${e.charAt(0).toUpperCase()}${e.substring(1)}`}__setProperty(e,t){this.gridOptionsService.set(e,t);const i=this.getSetterMethod(e);this[i]&&this[i](t)}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;it(this.detailGridInfoMap,(i,o)=>{D(o)&&(e(o,t),t++)})}getDataAsCsv(e){if(Y.assertRegistered(F.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Y.assertRegistered(F.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}getExcelExportMode(e){const t=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},t,e).exportMode}assertNotExcelMultiSheet(e,t){if(!Y.assertRegistered(F.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;const i=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(i)!==wr.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(!Y.assertRegistered(F.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(wr.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Y.assertRegistered(F.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){if(Y.assertRegistered(F.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const i=this.ctrlsService.getGridBodyCtrl().getGui(),o=`aria-${e}`;null===t?i.removeAttribute(o):i.setAttribute(o,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}setServerSideDatasource(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(e){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(e){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(e){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(e){null!=this.immutableService?this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e)):this.logMissingRowModel("setRowData","clientSide")}setPinnedTopRowData(e){this.pinnedRowModel.setPinnedTopRowData(e)}setPinnedBottomRowData(e){this.pinnedRowModel.setPinnedBottomRowData(e)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}setColumnDefs(e,t="api"){this.columnModel.setColumnDefs(e,t),this.gridOptionsService.set("columnDefs",e,!0,{source:t})}setAutoGroupColumnDef(e,t="api"){this.gridOptionsService.set("autoGroupColumnDef",e,!0,{source:t})}setDefaultColDef(e,t="api"){this.gridOptionsService.set("defaultColDef",e,!0,{source:t})}setColumnTypes(e,t="api"){this.gridOptionsService.set("columnTypes",e,!0,{source:t})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(e){this.gridOptionsService.set("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.gridOptionsService.set("alwaysShowVerticalScroll",e)}refreshCells(e={}){this.rowRenderer.refreshCells(e)}flashCells(e={}){this.rowRenderer.flashCells(e)}redrawRows(e={}){this.rowRenderer.redrawRows(e?e.rowNodes:void 0)}setFunctionsReadOnly(e){this.gridOptionsService.set("functionsReadOnly",e)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh())}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(e,t,i){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,i),e.setExpanded(t))}onGroupExpandedOrCollapsed(){q(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:pe.MAP})}refreshClientSideRowModel(e){q(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)}getQuickFilter(){return this.gridOptionsService.get("quickFilterText")}setQuickFilter(e){this.gridOptionsService.set("quickFilterText",e)}setExcludeHiddenColumnsFromQuickFilter(e){Tn("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)}setIncludeHiddenColumnsInQuickFilter(e){this.gridOptionsService.set("includeHiddenColumnsInQuickFilter",e)}setNodesSelected(e){if(!e.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==a.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:i,source:o,newValue:r}=e;this.selectionService.setNodesSelected({nodes:i,source:o??"api",newValue:r})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return q(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(e){q(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(e)}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}sizeColumnsToFit(e){this.gridBodyCtrl.sizeColumnsToFit(e)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!q(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)}ensureIndexVisible(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)}ensureNodeVisible(e,t=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)}forEachLeafNode(e){q(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){q(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){q(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){const i=this.getFilterInstanceImpl(e,r=>{if(!t)return;const s=sa(r);t(s)});return sa(i)}getFilterInstanceImpl(e,t){const i=this.columnModel.getPrimaryColumn(e);if(!i)return;const o=this.filterManager.getFilterComponent(i,"NO_UI"),r=o&&o.resolveNow(null,s=>s);return r?setTimeout(t,0,r):o&&o.then(s=>{t(s)}),r}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(Y.assertRegistered(F.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return sa(this.statusBarService.getStatusPanel(e))}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(){this.filterManager.onFilterChanged()}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.filterManager.setFilterModel(e)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})}setSuppressRowDrag(e){this.gridOptionsService.set("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.gridOptionsService.set("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.gridOptionsService.set("suppressRowClickSelection",e)}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}setHeaderHeight(e){this.gridOptionsService.set("headerHeight",e)}setDomLayout(e){this.clientSideRowModel||"autoHeight"!==e||this.gridOptionsService.is("pagination")?this.gridOptionsService.set("domLayout",e):console.error("AG Grid: domLayout can only be set to 'autoHeight' when using the client side row model or when using pagination.")}setEnableCellTextSelection(e){this.gridBodyCtrl.setCellTextSelection(e)}setFillHandleDirection(e){this.gridOptionsService.set("fillHandleDirection",e)}setGroupHeaderHeight(e){this.gridOptionsService.set("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.gridOptionsService.set("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.gridOptionsService.set("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.gridOptionsService.set("pivotGroupHeaderHeight",e)}setPivotMode(e){this.columnModel.setPivotMode(e)}setAnimateRows(e){this.gridOptionsService.set("animateRows",e)}setIsExternalFilterPresent(e){this.gridOptionsService.set("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.gridOptionsService.set("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.gridOptionsService.set("navigateToNextCell",e)}setTabToNextCell(e){this.gridOptionsService.set("tabToNextCell",e)}setTabToNextHeader(e){this.gridOptionsService.set("tabToNextHeader",e)}setNavigateToNextHeader(e){this.gridOptionsService.set("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.gridOptionsService.set("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.gridOptionsService.set("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.gridOptionsService.set("getBusinessKeyForNode",e)}setGetChildCount(e){this.gridOptionsService.set("getChildCount",e)}setProcessRowPostCreate(e){this.gridOptionsService.set("processRowPostCreate",e)}setGetRowId(e){this.gridOptionsService.set("getRowId",e)}setGetRowClass(e){this.gridOptionsService.set("getRowClass",e)}setIsFullWidthRow(e){this.gridOptionsService.set("isFullWidthRow",e)}setIsRowSelectable(e){this.gridOptionsService.set("isRowSelectable",e)}setIsRowMaster(e){this.gridOptionsService.set("isRowMaster",e)}setPostSortRows(e){this.gridOptionsService.set("postSortRows",e)}setGetDocument(e){this.gridOptionsService.set("getDocument",e)}setGetContextMenuItems(e){this.gridOptionsService.set("getContextMenuItems",e)}setGetMainMenuItems(e){this.gridOptionsService.set("getMainMenuItems",e)}setProcessCellForClipboard(e){this.gridOptionsService.set("processCellForClipboard",e)}setSendToClipboard(e){this.gridOptionsService.set("sendToClipboard",e)}setProcessCellFromClipboard(e){this.gridOptionsService.set("processCellFromClipboard",e)}setProcessSecondaryColDef(e){Tn("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)}setProcessSecondaryColGroupDef(e){Tn("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)}setProcessPivotResultColDef(e){this.gridOptionsService.set("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.gridOptionsService.set("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.gridOptionsService.set("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.gridOptionsService.set("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.gridOptionsService.set("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.gridOptionsService.set("paginationNumberFormatter",e)}setGetServerSideStoreParams(e){Tn("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)}setGetServerSideGroupLevelParams(e){this.gridOptionsService.set("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.gridOptionsService.set("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.gridOptionsService.set("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.gridOptionsService.set("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.gridOptionsService.set("getServerSideGroupKey",e)}setGetRowStyle(e){this.gridOptionsService.set("getRowStyle",e)}setGetRowHeight(e){this.gridOptionsService.set("getRowHeight",e)}assertSideBarLoaded(e){return Y.assertRegistered(F.SideBarModule,"api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance"))return sa(this.sideBarComp.getToolPanelInstance(e))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(e){this.gridOptionsService.set("sideBar",e)}setSuppressClipboardPaste(e){this.gridOptionsService.set("suppressClipboardPaste",e)}resetRowHeights(){if(D(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(e){this.gridOptionsService.set("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.gridOptionsService.set("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.gridOptionsService.set("groupDisplayType",e)}setRowClass(e){this.gridOptionsService.set("rowClass",e)}setDeltaSort(e){this.gridOptionsService.set("deltaSort",e)}setRowCount(e,t){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(e,t):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let i=this.columnModel.getPrimaryColumn(e);return q(i)&&(i=this.columnModel.getGridColumn(e)),q(i)?null:this.valueService.getValue(i,t)}addEventListener(e,t){const i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(e,t,i)}addGlobalListener(e){const t=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(e,t)}removeEventListener(e,t){const i=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(e,t,i)}removeGlobalListener(e){const t=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(e,t)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0;const e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(_P.bind(window,this,"Grid API"),100)}warnIfDestroyed(e){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${e} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Y.assertRegistered(F.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){this.rangeService?this.rangeService.addCellRange(e):Y.assertRegistered(F.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Y.assertRegistered(F.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(Y.assertRegistered(F.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(e){if(Y.assertRegistered(F.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)}getChartImageDataURL(e){if(Y.assertRegistered(F.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)}downloadChart(e){if(Y.assertRegistered(F.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)}openChartToolPanel(e){if(Y.assertRegistered(F.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)}closeChartToolPanel(e){if(Y.assertRegistered(F.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)}createRangeChart(e){if(Y.assertRegistered(F.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)}createPivotChart(e){if(Y.assertRegistered(F.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)}createCrossFilterChart(e){if(Y.assertRegistered(F.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)}updateChart(e){Y.assertRegistered(F.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)}restoreChart(e,t){if(Y.assertRegistered(F.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)}copyToClipboard(e){Y.assertRegistered(F.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)}cutToClipboard(e){Y.assertRegistered(F.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")}copySelectedRowsToClipboard(e){Y.assertRegistered(F.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)}copySelectedRangeToClipboard(e){Y.assertRegistered(F.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)}copySelectedRangeDown(){Y.assertRegistered(F.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){Y.assertRegistered(F.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(e,t){const i=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(i,t,"columnMenu")}showColumnMenuAfterMouseClick(e,t){let i=this.columnModel.getGridColumn(e);i||(i=this.columnModel.getPrimaryColumn(e)),i?this.menuFactory.showMenuAfterMouseEvent(i,t):console.error(`AG Grid: column '${e}' not found`)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(e){this.gridOptionsService.set("popupParent",e)}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(sa)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(sa)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t)return void console.warn(`AG Grid: no column found for ${e.colKey}`);const i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};null==e.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);const r=this.navigationService.getCellByPosition(i);r&&r.startRowOrCellEdit(e.key)}addAggFunc(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(e){if(!this.clientSideRowModel)return void this.logMissingRowModel("applyTransaction","clientSide");const t=this.clientSideRowModel.updateRowData(e);return this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),t}applyTransactionAsync(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")}setSuppressModelUpdateAfterUpdateTransaction(e){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",e)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")}refreshServerSideStore(e){return Tn("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)}getServerSideStoreState(){return Tn("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(e){this.gridOptionsService.set("dataTypeDefinitions",e)}setPagination(e){this.clientSideRowModel||"autoHeight"!==this.gridOptionsService.get("domLayout")||e?this.gridOptionsService.set("pagination",e):console.error("AG Grid: Pagination cannot be disabled when using domLayout set to 'autoHeight' unless using the client-side row model.")}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(e){this.gridOptionsService.set("paginationPageSize",e)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}};Re([Ie("immutableService")],we.prototype,"immutableService",void 0),Re([Ie("csvCreator")],we.prototype,"csvCreator",void 0),Re([Ie("excelCreator")],we.prototype,"excelCreator",void 0),Re([f("rowRenderer")],we.prototype,"rowRenderer",void 0),Re([f("navigationService")],we.prototype,"navigationService",void 0),Re([f("filterManager")],we.prototype,"filterManager",void 0),Re([f("columnModel")],we.prototype,"columnModel",void 0),Re([f("selectionService")],we.prototype,"selectionService",void 0),Re([f("gridOptionsService")],we.prototype,"gridOptionsService",void 0),Re([f("valueService")],we.prototype,"valueService",void 0),Re([f("alignedGridsService")],we.prototype,"alignedGridsService",void 0),Re([f("eventService")],we.prototype,"eventService",void 0),Re([f("pinnedRowModel")],we.prototype,"pinnedRowModel",void 0),Re([f("context")],we.prototype,"context",void 0),Re([f("rowModel")],we.prototype,"rowModel",void 0),Re([f("sortController")],we.prototype,"sortController",void 0),Re([f("paginationProxy")],we.prototype,"paginationProxy",void 0),Re([f("focusService")],we.prototype,"focusService",void 0),Re([f("dragAndDropService")],we.prototype,"dragAndDropService",void 0),Re([Ie("rangeService")],we.prototype,"rangeService",void 0),Re([Ie("clipboardService")],we.prototype,"clipboardService",void 0),Re([Ie("aggFuncService")],we.prototype,"aggFuncService",void 0),Re([f("menuFactory")],we.prototype,"menuFactory",void 0),Re([Ie("contextMenuFactory")],we.prototype,"contextMenuFactory",void 0),Re([f("valueCache")],we.prototype,"valueCache",void 0),Re([f("animationFrameService")],we.prototype,"animationFrameService",void 0),Re([Ie("statusBarService")],we.prototype,"statusBarService",void 0),Re([Ie("chartService")],we.prototype,"chartService",void 0),Re([Ie("undoRedoService")],we.prototype,"undoRedoService",void 0),Re([Ie("rowNodeBlockLoader")],we.prototype,"rowNodeBlockLoader",void 0),Re([Ie("ssrmTransactionManager")],we.prototype,"serverSideTransactionManager",void 0),Re([f("ctrlsService")],we.prototype,"ctrlsService",void 0),Re([P],we.prototype,"init",null),Re([zt],we.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),we=Re([G("gridApi")],we);var Pw,aa=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Bo=Pw=class extends T{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.quickFilter=null,this.quickFilterParts=null,this.processingFilterChange=!1}init(){this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>{this.refreshFiltersForAggregations(),this.resetQuickFilterCache()}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>this.updateAggFiltering())}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof t&&t(e)}setQuickFilterParts(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null}setFilterModel(e){const t=[],i=this.getFilterModel();if(e){const o=mw(Object.keys(e));this.allColumnFilters.forEach((r,s)=>{t.push(this.setModelOnFilterWrapper(r.filterPromise,e[s])),o.delete(s)}),o.forEach(r=>{const s=this.columnModel.getPrimaryColumn(r)||this.columnModel.getGridColumn(r);if(!s)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+r);if(!s.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+r);const a=this.getOrCreateFilterWrapper(s,"NO_UI");a?t.push(this.setModelOnFilterWrapper(a.filterPromise,e[r])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+r)})}else this.allColumnFilters.forEach(o=>{t.push(this.setModelOnFilterWrapper(o.filterPromise,null))});Kt.all(t).then(()=>{const o=this.getFilterModel(),r=[];this.allColumnFilters.forEach((s,a)=>{X.jsonEquals(i?i[a]:null,o?o[a]:null)||r.push(s.column)}),r.length>0&&this.onFilterChanged({columns:r})})}setModelOnFilterWrapper(e,t){return new Kt(i=>{e.then(o=>{"function"!=typeof o.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(t)||Kt.resolve()).then(()=>i())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,i)=>{const r=t.filterPromise.resolveNow(null,a=>a);if(null==r)return null;if("function"!=typeof r.getModel)return void console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");const s=r.getModel();D(s)&&(e[i]=s)}),e}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=o=>!!o&&(o.isFilterActive?o.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),t=!!this.gridOptionsService.getGroupAggFiltering(),i=o=>{if(!o.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!(!o.isValueActive()||!s)&&(!!this.columnModel.isPivotMode()||t)};this.allColumnFilters.forEach(o=>{if(o.filterPromise.resolveNow(!1,e)){const r=o.filterPromise.resolveNow(null,s=>s);i(o.column)?this.activeAggregateFilters.push(r):this.activeColumnFilters.push(r)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(i=>{const o=i.filterPromise.resolveNow(!1,r=>r.isFilterActive());i.column.setFilterActive(o,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(e,t,i){const{data:o,aggData:r}=e,s=i?this.activeAggregateFilters:this.activeColumnFilters,a=i?r:o;for(let l=0;l<s.length;l++){const c=s[l];if(null!=c&&c!==t){if("function"!=typeof c.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:a}))return!1}}return!0}parseQuickFilter(e){return D(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!=typeof e)return void console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e={}){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i,columns:o}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(a=>{a&&a!==t&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const r={type:v.EVENT_FILTER_CHANGED,columns:o||[]};i&&tn(r,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(r),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return null!==this.quickFilter}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(o=>{const r=this.getQuickFilterTextForColumn(o,e);return D(r)&&r.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilter(e){const t=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const o=e.getColDef();return o.getQuickFilterText&&(i=o.getQuickFilterText({value:i,node:t,data:t.data,column:e,colDef:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),D(i)?i.toString().toUpperCase():null}aggregateRowForQuickFilter(e){const t=[];this.columnModel.getAllColumnsForQuickFilter().forEach(o=>{const r=this.getQuickFilterTextForColumn(o,e);D(r)&&t.push(r)}),e.quickFilterAggregateText=t.join(Pw.QUICK_FILTER_SEPARATOR)}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(i=>{i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}getFilterComponent(e,t,i=!0){var o;if(i)return(null===(o=this.getOrCreateFilterWrapper(e,t))||void 0===o?void 0:o.filterPromise)||null;const r=this.cachedFilter(e);return r?r.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,i=>i.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let i=this.cachedFilter(e);if(i)"NO_UI"!==t&&this.putIntoGui(i,t);else{i=this.createFilterWrapper(e,t);const o=e.getColId();this.allColumnFilters.set(o,i),this.allColumnListeners.set(o,this.addManagedListener(e,Ve.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(o)))}return i}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Y.isRegistered(F.SetFilterModule,this.context.getGridId()))t="agSetColumnFilter";else{const i=e.getColDef().cellDataType;t="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Y.isRegistered(F.SetFilterModule,this.context.getGridId()))t="agSetColumnFloatingFilter";else{const i=e.getColDef().cellDataType;t="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),i=e.getColDef();let o;const r=Object.assign(Object.assign({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>{this.eventService.dispatchEvent({type:v.EVENT_FILTER_MODIFIED,column:e,filterInstance:o})},filterChangedCallback:a=>{this.callOnFilterChangedOutsideRenderCycle({filterInstance:o,additionalEventAttributes:a,columns:[e]})},doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(o,a)}),s=this.userComponentFactory.getFilterDetails(i,r,t);return s?{filterPromise:()=>{const a=s.newAgStackInstance();return a&&a.then(l=>o=l),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return{column:e,colDef:Sy(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(e,t){var i;const o={column:e,filterPromise:null,compiledElement:null,guiPromise:Kt.resolve(null),compDetails:null},{filterPromise:r,compDetails:s}=this.createFilterInstance(e);return o.filterPromise=null!==(i=r?.())&&void 0!==i?i:null,o.compDetails=s,r&&this.putIntoGui(o,t),o}putIntoGui(e,t){const i=document.createElement("div");i.className="ag-filter",e.guiPromise=new Kt(o=>{e.filterPromise.then(r=>{let s=r.getGui();D(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),"string"==typeof s&&(s=ei(s)),i.appendChild(s),o(i),this.eventService.dispatchEvent({type:v.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i})})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,i)=>{let o;o=t.column.isPrimary()?this.columnModel.getPrimaryColumn(i):this.columnModel.getGridColumn(i),!o&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(i))}),e.length>0?this.onFilterChanged({columns:e}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e?.forEach(t=>{"agGroupColumnFilter"===t.getColDef().filter&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,i;if(!e.isFilterAllowed())return!1;const r=this.allColumnFilters.get(e.getColId());return null===(i=null===(t=r?.filterPromise)||void 0===t?void 0:t.resolveNow(!0,s=>{var a,l;return"function"!=typeof(null===(a=s)||void 0===a?void 0:a.isFilterAllowed)||(null===(l=s)||void 0===l?void 0:l.isFilterAllowed())}))||void 0===i||i}getFloatingFilterCompDetails(e,t){const i=e.getColDef(),o=this.createFilterParams(e,i),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,Ow,o);let s=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(e));return null==s&&(s="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(i,{column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:c=>{const d=this.getFilterComponent(e,"NO_UI");d?.then(u=>{c(sa(u))})},showParentFilter:t,suppressFilterButton:!1},s)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,i=>i&&i.getModel()):null}destroyFilter(e,t="api"){const i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged({columns:[e]}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{(i.setModel(null)||Kt.resolve()).then(()=>{this.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:v.EVENT_FILTER_DESTROYED,source:t,column:e.column})})})}checkDestroyFilter(e){var t;const i=this.allColumnFilters.get(e);if(!i)return;const o=i.column,{compDetails:r}=o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null};(!r||(null===(t=i.compDetails)||void 0===t?void 0:t.componentClass)!==r.componentClass)&&this.destroyFilter(o,"columnChanged")}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};Bo.QUICK_FILTER_SEPARATOR="\n",aa([f("valueService")],Bo.prototype,"valueService",void 0),aa([f("columnModel")],Bo.prototype,"columnModel",void 0),aa([f("rowModel")],Bo.prototype,"rowModel",void 0),aa([f("userComponentFactory")],Bo.prototype,"userComponentFactory",void 0),aa([f("rowRenderer")],Bo.prototype,"rowRenderer",void 0),aa([P],Bo.prototype,"init",null),Bo=Pw=aa([G("filterManager")],Bo);class Nw extends ae{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}}var Tu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Zl=(()=>{class n extends Nw{constructor(t){super(n.TEMPLATE,t)}postConstruct(){const t=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),addOrRemoveBodyCssClass:(o,r)=>this.eFloatingFilterBody.classList.toggle(o,r),setButtonWrapperDisplayed:o=>_e(this.eButtonWrapper,o),setCompDetails:o=>this.setCompDetails(o),getFloatingFilterComp:()=>this.compPromise,setWidth:o=>t.style.width=o,setMenuIcon:o=>this.eButtonShowMainFilter.appendChild(o)},t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=t.newAgStackInstance(),this.compPromise.then(i=>this.afterCompCreated(i))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive())return void this.destroyBean(t);this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}}return n.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',n})();Tu([N("eFloatingFilterBody")],Zl.prototype,"eFloatingFilterBody",void 0),Tu([N("eButtonWrapper")],Zl.prototype,"eButtonWrapper",void 0),Tu([N("eButtonShowMainFilter")],Zl.prototype,"eButtonShowMainFilter",void 0),Tu([P],Zl.prototype,"postConstruct",null),Tu([zt],Zl.prototype,"destroyFloatingFilterComp",null);var at=(()=>((at=at||{}).AUTO_HEIGHT="ag-layout-auto-height",at.NORMAL="ag-layout-normal",at.PRINT="ag-layout-print",at))();class Am extends T{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(t.autoHeight?at.AUTO_HEIGHT:t.print?at.PRINT:at.NORMAL,t)}getDomLayout(){var e;const t=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(t)?(xe(()=>console.warn(`AG Grid: ${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"warn about dom layout values"),"normal"):t}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],Am.prototype,"postConstruct",null);var ts=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Sr extends T{constructor(e){super(),this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=No(()=>this.eLastHScroll=null,500),this.resetLastVScrollDebounced=No(()=>this.eLastVScroll=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHScroll.bind(this));const i=this.gridOptionsService.is("debounceVerticalScrollbar"),o=i?No(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=i?No(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),this.addManagedListener(t.getViewport(),"scroll",r)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(null==this.centerRowContainerCtrl)return;void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),r=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),s.setContainerTranslateX(i),o.setContainerTranslateX(i),r.setContainerTranslateX(i);const c=this.centerRowContainerCtrl.getViewportElement();Em(this.eLastHScroll===c?a.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl)}isControllingHScroll(e){return this.eLastHScroll?e===this.eLastHScroll:(this.eLastHScroll=e,!0)}isControllingVScroll(e){return this.eLastVScroll?e===this.eLastVScroll:(this.eLastVScroll=e,!0)}onFakeHScroll(){const e=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(e)&&this.onHScrollCommon(e)}onHScroll(){const e=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(e)&&this.onHScrollCommon(e)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:i}=t;this.shouldBlockScrollUpdate("horizontal",i,!0)||(this.doHorizontalScroll(Math.round(fu(e,this.enableRtl))),this.resetLastHScrollDebounced())}onFakeVScroll(){const e=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(e)&&this.onVScrollCommon(e)}onVScroll(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)}onVScrollCommon(e){const t=e.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===this.eBodyViewport?this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=t:this.eBodyViewport.scrollTop=t,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const i=fu(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())}fireScrollEvent(e){const t={type:v.EVENT_BODY_SCROLL,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const i=Object.assign(Object.assign({},t),{type:v.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(i)},100)}shouldBlockScrollUpdate(e,t,i=!1){return!(i&&!Zr())&&("vertical"===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=hu(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&pu()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent("vertical")}onHorizontalViewportChanged(){this.centerRowContainerCtrl.onHorizontalViewportChanged()}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e){this.ctrlsService.getFakeHScrollComp().getGui();const i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&pu()?e>0?0:i:Math.min(Math.max(e,0),i)),Em(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let o=-1;for(let r=0;r<i;r++){const s=this.rowModel.getRow(r);if("function"==typeof e){if(s&&e(s)){o=r;break}}else if(e===s||e===s.data){o=r;break}}o>=0&&this.ensureIndexVisible(o,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(e);let c;do{const d=l.rowTop,u=l.rowHeight,h=this.paginationProxy.getPixelOffset(),p=l.rowTop-h,g=p+l.rowHeight,m=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),_=m.top+C,b=m.bottom+C,y=b-_,R=this.heightScaler.getScrollPositionForPixel(p),M=this.heightScaler.getScrollPositionForPixel(g-y),V=Math.min((R+M)/2,p);let Ze=null;"top"===t?Ze=R:"bottom"===t?Ze=M:"middle"===t?Ze=V:_+a>p?Ze=R-a:b<g&&(Ze=M),null!==Ze&&(this.setVerticalScrollPosition(Ze),this.rowRenderer.redrawAfterScroll()),c=d!==l.rowTop||u!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getGridColumn(e);if(!i||i.isPinned()||!this.columnModel.isColumnDisplayed(i))return;const o=this.getPositionedHorizontalScroll(i,t);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:o}=this.isColumnOutsideViewport(e),r=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let l=(a?i:o)||r,c=a?o:i;"auto"!==t&&(l="start"===t,c="end"===t);const d="middle"===t;if(l||c||d){const{colLeft:u,colMiddle:h,colRight:p}=this.getColumnBounds(e);return d?h-s/2:l?a?p:u:a?u-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:o,colRight:r}=this.getColumnBounds(e),s=this.enableRtl;return{columnBeforeStart:s?t>r:i<r,columnAfterEnd:s?i<o:t>o}}getColumnBounds(e){const t=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,a=t?i-r:r;return{colLeft:a,colMiddle:a+o/2*s,colRight:a+o*s}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}}ts([f("ctrlsService")],Sr.prototype,"ctrlsService",void 0),ts([f("animationFrameService")],Sr.prototype,"animationFrameService",void 0),ts([f("paginationProxy")],Sr.prototype,"paginationProxy",void 0),ts([f("rowModel")],Sr.prototype,"rowModel",void 0),ts([f("rowContainerHeightService")],Sr.prototype,"heightScaler",void 0),ts([f("rowRenderer")],Sr.prototype,"rowRenderer",void 0),ts([f("columnModel")],Sr.prototype,"columnModel",void 0),ts([P],Sr.prototype,"postConstruct",null);class aQ{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const o=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<o.left+r,this.tickRight=e.clientX>o.right-r,this.tickUp=e.clientY<o.top+r&&!i,this.tickDown=e.clientY>o.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}}var Fn=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class an extends T{constructor(e){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const e=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,()=>{e()}),e(),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new aQ({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!en(e)}getContainer(){return this.eContainer}isInterestedIn(e){return e===st.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?De.ICON_NOT_ALLOWED:De.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.is("rowDragMultiRow"),i=[...this.selectionService.getSelectedNodes()].sort((r,s)=>null==r.rowIndex||null==s.rowIndex?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s)),o=e.dragItem.rowNode;return t&&-1!==i.indexOf(o)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[o])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(v.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:o}=e;return!i.contains(o)}onEnterOrDragging(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),o=this.gridOptionsService.is("rowDragManaged"),r=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){return parseInt(He(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===Vi.Below,o=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(e))r.forEach(a=>{a.rowTop<o&&(s-=1)}),this.moveRows(r,o,s);else{const a=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(o)+1;this.clientSideRowModel.getHighlightPosition(o)===Vi.Above&&l--,this.clientSideRowModel.updateRowData({add:r.map(c=>c.data).filter(c=>!this.clientSideRowModel.getRowNode(a?a({data:c,level:0}):c.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void xe(()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided"),"add-drop-zone-empty-target");if(this.dragAndDropService.findExternalZone(e))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,t=e):(e.onDragEnter&&(t.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_ENTER,i))}),e.onDragLeave&&(t.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_LEAVE,i))}),e.onDragging&&(t.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_MOVE,i))}),e.onDragStop&&(t.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:i=>i===st.RowDrag,getIconName:()=>De.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?a=>{i(a),e.onDragEnter(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_ENTER,a))}:i,onDragLeave:e.onDragLeave?a=>{o(a),e.onDragLeave(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_LEAVE,a))}:o,onDragging:e.onDragging?a=>{r(a),e.onDragging(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_MOVE,a))}:r,onDragStop:e.onDragStop?a=>{s(a),e.onDragStop(this.draggingToRowDragEvent(v.EVENT_ROW_DRAG_END,a))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:i,onDragLeave:o,onDragging:r,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y;let s,a,r=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(r)),t.vDirection){case ao.Down:a="down";break;case ao.Up:a="up";break;default:a=null}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:s,y:i,vDirection:a}}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}}Fn([f("dragAndDropService")],an.prototype,"dragAndDropService",void 0),Fn([f("rowModel")],an.prototype,"rowModel",void 0),Fn([f("paginationProxy")],an.prototype,"paginationProxy",void 0),Fn([f("columnModel")],an.prototype,"columnModel",void 0),Fn([f("focusService")],an.prototype,"focusService",void 0),Fn([f("sortController")],an.prototype,"sortController",void 0),Fn([f("filterManager")],an.prototype,"filterManager",void 0),Fn([f("selectionService")],an.prototype,"selectionService",void 0),Fn([f("mouseEventService")],an.prototype,"mouseEventService",void 0),Fn([f("ctrlsService")],an.prototype,"ctrlsService",void 0),Fn([Ie("rangeService")],an.prototype,"rangeService",void 0),Fn([P],an.prototype,"postConstruct",null);var ln=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Er=(()=>((Er=Er||{}).ANIMATION_ON="ag-row-animation",Er.ANIMATION_OFF="ag-row-no-animation",Er))();const tL="ag-force-vertical-scroll";class Hi extends T{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,o,r,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=o,this.eBottom=r,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Am(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Sr(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",i=>{const{target:o}=i,r=Xs(o,"ag-root",t);t.classList.toggle("ag-has-focus",!r)}),this.addManagedListener(t,"focusout",i=>{const{target:o,relatedTarget:r}=i,s=t.contains(r),a=Xs(r,"ag-root",t);Xs(o,"ag-root",t)||(!s||a)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const o=`calc(100% + ${(e&&this.gridOptionsService.getScrollbarWidth()||0)+(Bl()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(o))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const o=i.relatedTarget;if(null===bm(o))return void this.rowRenderer.stopEditing();let r=t.some(s=>s.contains(o))&&this.mouseEventService.isElementInThisGrid(o);if(!r){const s=this.popupService;r=s.getActivePopups().some(a=>a.contains(o))||s.isElementWithinCustomPopup(o)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(i=>this.addManagedListener(i,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===t?-1:e+t)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")}isVerticalScrollShowing(){const e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?tL:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&mN(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(t?Er.ANIMATION_ON:Er.ANIMATION_OFF,t)};e(),this.addManagedListener(this.eventService,v.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",i=>this.onFullWidthContainerWheel(i,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:o}=e||t;if(o===this.eBodyViewport||o===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}mockContextMenuForIPad(e){if(!Zr())return;const t=new on(this.eBodyViewport);this.addManagedListener(t,on.EVENT_LONG_TAP,o=>{e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new an(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight();t&&(t+=1);let i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(e){const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}else this.comp.setStickyTopWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight();let o=0;t>0&&(o+=t+1),i>0&&(o+=i+1),this.comp.setStickyTopTop(`${o}px`)}sizeColumnsToFit(e,t){const o=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=wm(this.eGridBody)-o;s>0?this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):100===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):500===t?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}}ln([f("animationFrameService")],Hi.prototype,"animationFrameService",void 0),ln([f("rowContainerHeightService")],Hi.prototype,"rowContainerHeightService",void 0),ln([f("ctrlsService")],Hi.prototype,"ctrlsService",void 0),ln([f("columnModel")],Hi.prototype,"columnModel",void 0),ln([f("scrollVisibleService")],Hi.prototype,"scrollVisibleService",void 0),ln([Ie("contextMenuFactory")],Hi.prototype,"contextMenuFactory",void 0),ln([f("headerNavigationService")],Hi.prototype,"headerNavigationService",void 0),ln([f("dragAndDropService")],Hi.prototype,"dragAndDropService",void 0),ln([f("pinnedRowModel")],Hi.prototype,"pinnedRowModel",void 0),ln([f("rowRenderer")],Hi.prototype,"rowRenderer",void 0),ln([f("popupService")],Hi.prototype,"popupService",void 0),ln([f("mouseEventService")],Hi.prototype,"mouseEventService",void 0),ln([f("rowModel")],Hi.prototype,"rowModel",void 0);var xr=(()=>((xr=xr||{})[xr.FILL=0]="FILL",xr[xr.RANGE=1]="RANGE",xr))(),lo=(()=>((lo=lo||{})[lo.VALUE=0]="VALUE",lo[lo.DIMENSION=1]="DIMENSION",lo))();const Mu="ag-cell-range-selected";class CQ{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Mu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Mu}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Mu}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Mu}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${Mu}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Hl(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.right,r=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&e.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>Rn([lo.DIMENSION,lo.VALUE],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.is("enableRtl");let t=!1,i=!1,o=!1,r=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:l}=this.beans;let c,d;e?(c=l.getDisplayedColAfter(s),d=l.getDisplayedColBefore(s)):(c=l.getDisplayedColBefore(s),d=l.getDisplayedColAfter(s));const u=a.getCellRanges().filter(h=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));c||(r=!0),d||(i=!0);for(let h=0;h<u.length&&!(t&&i&&o&&r);h++){const p=u[h],g=a.getRangeStartRow(p),m=a.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(t=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!r&&c&&p.columns.indexOf(c)<0&&(r=!0),!i&&d&&p.columns.indexOf(d)<0&&(i=!0)}return{top:t,right:i,bottom:o,left:r}}refreshHandle(){if(!this.beans.rangeService)return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=t.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;const r=He(i),s=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.is("enableRangeHandle");let c=1===o&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){const u=i[0].type===lo.DIMENSION&&t.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",u),c=r.type===lo.VALUE}return c&&null!=r.endRow&&t.isContiguousRange(r)&&t.isBottomRightCell(r,s)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,i=He(t.getCellRanges()).type,r=e.is("enableFillHandle")&&q(i)?xr.FILL:xr.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}class bQ extends T{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const e=this.getColSpanningList();Yr(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let i=this.column;const o=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),i&&!q(i)&&o===i.getPinned());r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?He(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?t+this.beans.columnModel.getBodyContainerWidth()+(e||0):t+(e||0)}applyRowSpan(){if(1===this.rowSpan)return;const t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}}class _Q extends T{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,t,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1))}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"==typeof e.cellStyle){const i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};t=(0,e.cellStyle)(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}}class Lw extends T{constructor(e,t){super(),this.ctrl=e,this.beans=t}setComp(e){this.comp=e,this.setupTooltip()}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new yr({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()}),this.beans.context))}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,i=e.getColDef?e.getColDef():void 0,o=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}}var re=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let te=class{postConstruct(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};re([f("resizeObserverService")],te.prototype,"resizeObserverService",void 0),re([f("paginationProxy")],te.prototype,"paginationProxy",void 0),re([f("context")],te.prototype,"context",void 0),re([f("columnApi")],te.prototype,"columnApi",void 0),re([f("gridApi")],te.prototype,"gridApi",void 0),re([f("gridOptionsService")],te.prototype,"gridOptionsService",void 0),re([f("expressionService")],te.prototype,"expressionService",void 0),re([f("environment")],te.prototype,"environment",void 0),re([f("rowRenderer")],te.prototype,"rowRenderer",void 0),re([f("templateService")],te.prototype,"templateService",void 0),re([f("valueService")],te.prototype,"valueService",void 0),re([f("eventService")],te.prototype,"eventService",void 0),re([f("columnModel")],te.prototype,"columnModel",void 0),re([f("headerNavigationService")],te.prototype,"headerNavigationService",void 0),re([f("navigationService")],te.prototype,"navigationService",void 0),re([f("columnAnimationService")],te.prototype,"columnAnimationService",void 0),re([Ie("rangeService")],te.prototype,"rangeService",void 0),re([f("focusService")],te.prototype,"focusService",void 0),re([Ie("contextMenuFactory")],te.prototype,"contextMenuFactory",void 0),re([f("popupService")],te.prototype,"popupService",void 0),re([f("valueFormatterService")],te.prototype,"valueFormatterService",void 0),re([f("stylingService")],te.prototype,"stylingService",void 0),re([f("columnHoverService")],te.prototype,"columnHoverService",void 0),re([f("userComponentFactory")],te.prototype,"userComponentFactory",void 0),re([f("userComponentRegistry")],te.prototype,"userComponentRegistry",void 0),re([f("animationFrameService")],te.prototype,"animationFrameService",void 0),re([f("dragService")],te.prototype,"dragService",void 0),re([f("dragAndDropService")],te.prototype,"dragAndDropService",void 0),re([f("sortController")],te.prototype,"sortController",void 0),re([f("filterManager")],te.prototype,"filterManager",void 0),re([f("rowContainerHeightService")],te.prototype,"rowContainerHeightService",void 0),re([f("frameworkOverrides")],te.prototype,"frameworkOverrides",void 0),re([f("cellPositionUtils")],te.prototype,"cellPositionUtils",void 0),re([f("rowPositionUtils")],te.prototype,"rowPositionUtils",void 0),re([f("selectionService")],te.prototype,"selectionService",void 0),re([Ie("selectionHandleFactory")],te.prototype,"selectionHandleFactory",void 0),re([f("rowCssClassCalculator")],te.prototype,"rowCssClassCalculator",void 0),re([f("rowModel")],te.prototype,"rowModel",void 0),re([f("ctrlsService")],te.prototype,"ctrlsService",void 0),re([f("ctrlsFactory")],te.prototype,"ctrlsFactory",void 0),re([f("agStackComponentsRegistry")],te.prototype,"agStackComponentsRegistry",void 0),re([f("valueCache")],te.prototype,"valueCache",void 0),re([f("rowNodeEventThrottle")],te.prototype,"rowNodeEventThrottle",void 0),re([f("localeService")],te.prototype,"localeService",void 0),re([f("valueParserService")],te.prototype,"valueParserService",void 0),re([P],te.prototype,"postConstruct",null),te=re([G("beans")],te);class yQ extends te{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Lo(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:i,gridOptionsService:o}=this.beans;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,v.EVENT_CELL_CLICKED);t.dispatchEvent(s);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>a.onCellClicked(s),0),(o.is("singleClickEdit")||a.singleClickEdit)&&!o.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Zr()||Oy("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),i=this.cellCtrl.createEvent(e,v.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof t.onCellDoubleClicked&&window.setTimeout(()=>t.onCellDoubleClicked(i),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:o}=e,r=e.target,{eventService:s,rangeService:a}=this.beans;if(this.isRightClickInExistingRange(e))return;const l=a&&0!=a.getCellRanges().length;if(!o||!l){const c=io()&&!this.cellCtrl.isEditing()&&!ow(r);this.cellCtrl.focusCell(c)}if(o&&l&&e.preventDefault(),!this.containsWidget(r)){if(a){const c=this.cellCtrl.getCellPosition();o?a.extendLatestRangeToCell(c):a.setRangeToCell(c,t||i)}s.dispatchEvent(this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;return!(!t||!t.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)}containsWidget(e){return Xs(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),o=t.contains(e.relatedTarget);return i&&o}destroy(){}}class wQ extends T{constructor(e,t,i,o,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=o,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case x.ENTER:this.onEnterKeyDown(e);break;case x.F2:this.onF2KeyDown(e);break;case x.ESCAPE:this.onEscapeKeyDown(e);break;case x.TAB:this.onTabKeyDown(e);break;case x.BACKSPACE:case x.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case x.DOWN:case x.UP:case x.RIGHT:case x.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:o,rowNode:r}=this,{gridOptionsService:s,rangeService:a,eventService:l}=o;i.isEditing()||(l.dispatchEvent({type:v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),yN(e,s.is("enableCellEditingOnBackspace"))?a&&s.isEnableRangeSelection()?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&r.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(e,t),l.dispatchEvent({type:v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.is("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?x.UP:x.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(x.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(x.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const o=e.key;" "===o?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const i=this.rowNode.isSelected(),o=!i;if(o||!t.is("suppressRowDeselection")){const r=this.beans.gridOptionsService.is("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});void 0===i&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}}class iL extends ae{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(wt("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),t?t({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):(()=>{try{const o=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o)}catch{}})()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],iL.prototype,"postConstruct",null);let FQ=0,la=(()=>{class n extends T{constructor(t,i,o,r){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=t,this.rowNode=i,this.beans=o,this.rowCtrl=r,this.instanceId=t.getId()+"-"+FQ++,this.createCellPosition(),this.addFeatures()}addFeatures(){this.cellPositionFeature=new bQ(this,this.beans),this.addDestroyFunc(()=>{var i;null===(i=this.cellPositionFeature)||void 0===i||i.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new _Q(this,this.beans),this.addDestroyFunc(()=>{var i;null===(i=this.cellCustomStyleFeature)||void 0===i||i.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new yQ(this,this.beans,this.column),this.addDestroyFunc(()=>{var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new wQ(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.destroy(),this.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new CQ(this.beans,this),this.addDestroyFunc(()=>{var i;null===(i=this.cellRangeFeature)||void 0===i||i.destroy(),this.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){this.tooltipFeature=new Lw({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const o=this.column.getColDef(),r=this.rowNode.data;if(o.tooltipField&&D(r))return Ys(r,o.tooltipField,this.column.isTooltipFieldContainsDots());const s=o.tooltipValueGetter;return s?s({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted},this.beans),this.addDestroyFunc(()=>{var o;null===(o=this.tooltipFeature)||void 0===o||o.destroy(),this.tooltipFeature=null})}setComp(t,i,o,r,s){var a,l,c,d;this.cellComp=t,this.eGui=i,this.printLayout=r,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),o&&this.setupAutoHeight(o),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);const u=ko(this.column.getId());this.cellComp.setColId(u),this.cellComp.setRole("gridcell"),null===(a=this.cellPositionFeature)||void 0===a||a.setComp(i),null===(l=this.cellCustomStyleFeature)||void 0===l||l.setComp(t),null===(c=this.tooltipFeature)||void 0===c||c.setComp(t),null===(d=this.cellKeyboardListenerFeature)||void 0===d||d.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(h=>h()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(!this.column.isAutoHeight())return;const i=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=l=>{if(this.editing||!this.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:h}=Js(i),m=t.offsetHeight+(c+d+u+h);if(l<5){const _=this.beans.gridOptionsService.getDocument();if(!_||!_.contains(t)||0==m)return void this.beans.frameworkOverrides.setTimeout(()=>r(l+1),0)}const C=Math.max(m,o);this.rowNode.setRowAutoHeight(C,this.column)},s=()=>r(0);s();const a=this.beans.resizeObserverService.observeResize(t,s);this.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getInstanceId(){return this.instanceId}showValue(t=!1){const i=null!=this.valueFormatted?this.valueFormatted:this.value,o=this.createCellRendererParams(),r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o);this.cellComp.setRenderDetails(r,i,t),this.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return null==this.rowNode.rowPinned&&("function"==typeof t||!0===t)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),o=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource);return i||o||r}startEditing(t=null,i=!1,o=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,o)});const r=this.createCellEditorParams(t,i),s=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(s,r),l=null!=a?.popupFromSelector?a.popupFromSelector:!!s.cellEditorPopup,c=null!=a?.popupPositionFromSelector?a.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,l,c);const d=this.createEvent(o,v.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}setEditing(t){this.editing!==t&&(this.editing=t,this.refreshHandle())}stopRowOrCellEdit(t=!1){"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(t){const i={newValueExists:!1};if(t)return i;const o=this.cellComp.getCellEditor();return!o||o.isCancelAfterEnd&&o.isCancelAfterEnd()?i:{newValue:o.getValue(),newValueExists:!0}}saveNewValue(t,i){if(i===t)return!1;this.suppressRefreshCell=!0;const o=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,o}stopEditing(t=!1){if(!this.editing)return!1;const{newValue:i,newValueExists:o}=this.takeValueFromCellEditor(t),r=this.rowNode.getValueFromValueService(this.column);let s=!1;return o&&(s=this.saveNewValue(r,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,i,!t&&!!s),s}dispatchEditingStoppedEvent(t,i,o){const r=Object.assign(Object.assign({},this.createEvent(null,v.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:i,valueChanged:o});this.beans.eventService.dispatchEvent(r)}createCellEditorParams(t,i){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:i,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,o,r,s)=>this.registerRowDragger(i,o,s)}}parseValue(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}onCellChanged(t){this.cellComp&&t.column===this.column&&this.refreshCell({})}refreshCell(t){var i,o,r;if(this.suppressRefreshCell||this.editing||!this.cellComp)return;const s=this.column.getColDef(),a=null!=t&&!!t.newData,l=null!=t&&!!t.suppressFlash||!!s.suppressCellFlash,d=t&&t.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||a,u=this.updateAndFormatValue();if(d||u){this.showValue(a);const p=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!p&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyUserStyles(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyClassesFromColDef()}this.refreshToolTip(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyCellClassRules()}stopEditingAndFocus(t=!1,i=!1){this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(i)}navigateAfterEdit(t){this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,t?x.UP:x.DOWN,this.getCellPosition(),!1)}flashCell(t){this.animateCell("data-changed",t&&t.flashDelay,t&&t.fadeDelay)}animateCell(t,i,o){var r,s;const a=`ag-cell-${t}`,l=`ag-cell-${t}-animation`,{gridOptionsService:c}=this.beans;i||(i=null!==(r=c.getNum("cellFlashDelay"))&&void 0!==r?r:500),D(o)||(o=null!==(s=c.getNum("cellFadeDelay"))&&void 0!==s?s:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.cellComp.addOrRemoveCssClass(l,!0),this.eGui.style.transition=`background-color ${o}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(l,!1),this.eGui.style.transition="")},o))},i)}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t=!1){const i=this.value,o=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!t||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=o}valuesAreEqual(t,i){const o=this.column.getColDef();return o.equals?o.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const t=this.getGui();this.beans.gridOptionsService.setDomData(t,n.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(t,n.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return{type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}}processCharacter(t){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.processCharacter(t)}onKeyDown(t){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyDown(t)}onMouseEvent(t,i){var o;null===(o=this.cellMouseListenerFeature)||void 0===o||o.onMouseEvent(t,i)}getGui(){return this.eGui}refreshToolTip(){var t;null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&(null===(t=this.cellPositionFeature)||void 0===t||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&this.setAriaColIndex()}setAriaColIndex(){const t=this.beans.columnModel.getAriaColumnIndex(this.column);Wy(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return null===(t=this.cellPositionFeature)||void 0===t?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(t){this.eGui.appendChild(t)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}onCellFocused(t){if(!this.cellComp||this.beans.gridOptionsService.is("suppressCellFocus"))return;const i=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});const o="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!o&&this.editing&&this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:qr(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}onColDefChanged(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),o=this.createEvent(t,v.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),i.onCellContextMenu&&window.setTimeout(()=>i.onCellContextMenu(o),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Mm;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new iL(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,o){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(t,i);const r=this.createRowDragComp(t,i,o);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,o){const r=this.beans.gridOptionsService.is("pagination"),s=this.beans.gridOptionsService.is("rowDragManaged"),a=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!a)return void xe(()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model"),"CellComp.addRowDragging");if(r)return void xe(()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination"),"CellComp.addRowDragging")}const l=new oa(()=>this.value,this.rowNode,this.column,t,i,o);return this.beans.context.createBean(l),l}}return n.DOM_DATA_KEY_CELL_CTRL="cellCtrl",n})();var xi=(()=>(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"}(xi||(xi={})),xi))();let PQ=0,ca=(()=>{class n extends T{constructor(t,i,o,r,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.updateColumnListsPending=!1,this.businessKeySanitised=null,this.beans=i,this.gridOptionsService=i.gridOptionsService,this.rowNode=t,this.paginationPage=i.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=r,this.printLayout=s,this.instanceId=t.id+"-"+PQ++,this.setAnimateFlags(o),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ko(t)}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(t,i,o){const r={rowComp:t,element:i,containerType:o};this.allRowGuis.push(r),o===St.LEFT?this.leftGui=r:o===St.RIGHT?this.rightGui=r:o===St.FULL_WIDTH?this.fullWidthGui=r:this.centerGui=r,this.initialiseRowComp(r),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),t===St.LEFT?this.leftGui=void 0:t===St.RIGHT?this.rightGui=void 0:t===St.FULL_WIDTH&&(this.fullWidthGui=void 0)}isCacheable(){return this.rowType===xi.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(o=>o.element.style.display=i)}initialiseRowComp(t){const i=this.gridOptionsService;this.listenOnDomOrder(t),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const o=t.rowComp;o.setRole("row"),this.getInitialRowClasses(t.containerType).forEach(s=>o.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&to(t.element,1==this.rowNode.expanded),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&o.setTabIndex(-1),i.setDomData(t.element,n.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>i.setDomData(t.element,n.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)}setRowCompRowId(t){const i=ko(this.rowNode.id);null!=i&&t.setRowId(i)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(Dy(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(Dy(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(this.gridOptionsService.isEnableRangeSelection())return void xe(()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");const i=this.beans.localeService.getLocaleTextFunc(),o=new oa(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(o,this.beans.context)}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType),o=this.createFullWidthParams(t.element,i);if(this.rowType==xi.FullWidthDetail&&!Y.assertRegistered(F.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let r;switch(this.rowType){case xi.FullWidthDetail:r=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(o);break;case xi.FullWidthGroup:r=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(o);break;case xi.FullWidthLoading:r=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(o);break;default:r=this.beans.userComponentFactory.getFullWidthCellRendererDetails(o)}t.rowComp.showFullWidth(r)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var t,i;return null===(i=null===(t=this.fullWidthGui)||void 0===t?void 0:t.rowComp)||void 0===i?void 0:i.getFullWidthCellRenderer()}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){var t;const i=this.gridOptionsService.getCallback("processRowPostCreate");i&&this.areAllContainersReady()&&i({eRow:null===(t=this.centerGui)||void 0===t?void 0:t.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,o=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&i&&o}setRowType(){const t=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),o=this.beans.doingMasterDetail&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(r);this.rowType=t?xi.FullWidthLoading:o?xi.FullWidthDetail:i?xi.FullWidth:a?xi.FullWidthGroup:xi.Normal}updateColumnLists(t=!1,i=!1){this.isFullWidth()||(t||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(i):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(t,i,o=null){const r={list:[],map:{}},s=(a,l)=>{r.list.push(l),r.map[a]=l};return i.forEach(a=>{const l=a.getInstanceId();let c=t.map[l];c||(c=new la(a,this.rowNode,this.beans,this)),s(l,c)}),t.list.forEach(a=>{null==r.map[a.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(a,o)?a.destroy():s(a.getColumn().getInstanceId(),a))}),r}updateColumnListsImpl(t=!1){this.updateColumnListsPending=!1;const i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const o=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);const r=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const s=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}this.allRowGuis.forEach(o=>{o.rowComp.setCellCtrls((o.containerType===St.LEFT?this.leftCellCtrls:o.containerType===St.RIGHT?this.rightCellCtrls:this.centerCellCtrls).list,t)})}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition());if(a||l){const d=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(d)>=0)}return!0}listenOnDomOrder(t){const i=()=>{const o=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");t.rowComp.setDomOrder(o||r)};this.addManagedPropertyListener("domLayout",i),i()}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=D(this.rowNode.oldRowTop),o=this.beans.columnModel.isPinningLeft(),r=this.beans.columnModel.isPinningRight();i?(this.slideInAnimation.center=!0,this.slideInAnimation.left=o,this.slideInAnimation.right=r):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=o,this.fadeInAnimation.right=r)}isEditing(){return this.editingRow}stopRowEditing(t){this.stopEditing(t)}isFullWidth(){return this.rowType!==xi.Normal}getRowType(){return this.rowType}refreshFullWidth(){const t=(l,c)=>{if(!l)return!0;const d=l.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;const u=this.createFullWidthParams(l.element,c);return d.refresh(u)},i=t(this.fullWidthGui,null),o=t(this.centerGui,null),r=t(this.leftGui,"left"),s=t(this.rightGui,"right");return i&&o&&r&&s}addListeners(){this.addManagedListener(this.rowNode,me.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,me.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,me.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,me.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const t=this.beans.eventService;this.addManagedListener(t,v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,v.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,v.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,v.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(t,v.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(t,v.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,v.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,v.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,me.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())}),this.addManagedListener(this.rowNode,me.EVENT_CELL_CHANGED,t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))})}onRowNodeDataChanged(t){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss())}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const r=t===Vi.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",t===Vi.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(o=>{o.rowComp.addOrRemoveCssClass("ag-row-group",t),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),to(o.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:qr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const i=this.allRowGuis.find(c=>c.element.contains(t.target));if((i?i.element:null)!==t.target)return;const s=this.rowNode,a=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column},!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Lo(t))return;const i=this.allRowGuis.find(a=>a.element.contains(t.target)),o=i?i.element:null,r=o===t.target;let s=null;r||(s=this.beans.focusService.findNextFocusableElement(o,!1,t.shiftKey)),(this.isFullWidth()&&r||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}onFullWidthRowFocused(t){var i;const o=this.rowNode,r=!!t&&this.isFullWidth()&&t.rowIndex===o.rowIndex&&t.rowPinned==o.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",r),r&&s.focus({preventScroll:!0}))}refreshCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()}removeCellCtrl(t,i){const o={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(o.list.push(r),o.map[r.getInstanceId()]=r)}),o}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}}createRowEvent(t,i){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:i}}createRowEventWithSource(t,i){const o=this.createRowEvent(t,i);return o.source=this,o}onRowDblClick(t){if(Lo(t))return;const i=this.createRowEventWithSource(v.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(i)}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Xs(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode,o=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:o.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}onRowClick(t){if(Lo(t)||this.lastMouseDownOnDragger)return;const o=this.createRowEventWithSource(v.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(o);const r=t.ctrlKey||t.metaKey,s=t.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const l=this.gridOptionsService.is("rowMultiSelectWithClick"),c=!this.gridOptionsService.is("suppressRowDeselection"),d="rowClicked";this.rowNode.isSelected()?l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):r?c&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!r,rangeSelect:s,event:t,source:d})}setupDetailRowAutoHeight(t){if(this.rowType!==xi.FullWidthDetail||!this.gridOptionsService.is("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;null!=r&&r>0&&this.beans.frameworkOverrides.setTimeout(()=>{this.rowNode.setRowHeight(r),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(o),i()}createFullWidthParams(t,i){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,s,a,l)=>this.addFullWidthRowDragging(r,s,a,l)}}addFullWidthRowDragging(t,i,o="",r){if(!this.isFullWidth())return;const s=new oa(()=>o,this.rowNode,void 0,t,i,r);this.createManagedBean(s,this.beans.context)}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(o,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){if(this.stoppingRowEdit)return;const i=this.getAllCellCtrls(),o=this.editingRow;this.stoppingRowEdit=!0;let r=!1;for(const s of i){const a=s.stopEditing(t);o&&!t&&!r&&a&&(r=!0)}if(r){const s=this.createRowEvent(v.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(s)}o&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(t){this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=this.createRowEvent(t?v.EVENT_ROW_EDITING_STARTED:v.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)}startRowEditing(t=null,i=null,o=null){this.editingRow||this.getAllCellCtrls().reduce((s,a)=>{const l=a===i;return a.startEditing(l?t:null,l,o),!!s||a.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t){const i=this.processStylesFromGridOptions();this.forEachGui(t,o=>o.rowComp.setUserStyles(i))}getPinnedForContainer(t){return t===St.LEFT?"left":t===St.RIGHT?"right":null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)}processStylesFromGridOptions(){const t=this.gridOptionsService.get("rowStyle");if(t&&"function"==typeof t)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const i=this.gridOptionsService.getCallback("getRowStyle");let o;return i&&(o=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},t,o)}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,o=>{o.rowComp.addOrRemoveCssClass("ag-row-selected",i),Hl(o.element,!!i||void 0);const r=this.createAriaLabel();Qr(o.element,r??"")})}createAriaLabel(){const t=this.rowNode.isSelected();return t&&this.gridOptionsService.is("suppressRowDeselection")?void 0:this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(t){this.active&&(this.addManagedListener(t,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,me.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.is("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,me.EVENT_MOUSE_LEAVE,()=>{t.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(t){const o=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.applyPaginationOffset(o.top,!0)-100,s=this.applyPaginationOffset(o.bottom,!0)+100;return Math.min(Math.max(r,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){(t?[t]:this.allRowGuis).forEach(i)}onRowHeightChanged(t){if(null==this.rowNode.rowHeight)return;const i=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(o,s)-2+"px":void 0;this.forEachGui(t,l=>{l.element.style.height=`${i}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const t=this.createRowEvent(v.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}setupRemoveAnimation(){if(!this.isSticky())if(null!=this.rowNode.rowTop){const i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0))}destroySecondPass(){this.allRowGuis.length=0;const t=i=>(i.list.forEach(o=>o.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){return this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)}setRowTop(t){if(!this.printLayout&&D(t)){const i=this.applyPaginationOffset(t),r=`${this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(r)}}getInitialRowTop(t){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";let i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{const o=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,r=this.applyPaginationOffset(o);i=this.rowNode.isRowPinned()?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}return i+"px"}setRowTopStyle(t){const i=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(o=>i?o.rowComp.setTop(t):o.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(o=>{o.getColumn()==t&&(i=o)}),null!=i||this.getAllCellCtrls().forEach(o=>{o.getColSpanningList().indexOf(t)>=0&&(i=o)}),i}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(t){const i=this.rowNode.getRowIndexString(),o=this.beans.headerNavigationService.getHeaderRowCount(),r=this.rowNode.rowIndex%2==0,s=o+this.rowNode.rowIndex+1;this.forEachGui(t,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),Uy(a.element,s)})}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}}return n.DOM_DATA_KEY_ROW_CTRL="renderedRow",n})();var cn=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Bi extends T{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Oy("touchstart")?"touchstart":"mousedown"].forEach(i=>{const o=this.processMouseEvent.bind(this,i);this.addManagedListener(this.element,i,o)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Lo(t))return;const i=this.getRowForEvent(t),o=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,i,o):(o&&o.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Zr())return;const e=new on(this.element);this.addManagedListener(e,on.EVENT_LONG_TAP,i=>{const o=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(null,i.touchEvent,o,r)}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=this.gridOptionsService.getDomData(t,ca.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,o){const r=i?i.getRowNode():null,s=o?o.getColumn():null;let a=null;s&&(o.dispatchCellContextMenuEvent(e||t),a=this.valueService.getValue(s,r));const l=this.ctrlsService.getGridBodyCtrl(),c=o?o.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,r,s,a,c)}getControlsForEventTarget(e){return{cellCtrl:lm(this.gridOptionsService,e,la.DOM_DATA_KEY_CELL_CTRL),rowCtrl:lm(this.gridOptionsService,e,ca.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:o}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,e,t))}processCellKeyboardEvent(e,t,i){const o=e.getRowNode(),r=e.getColumn(),s=e.isEditing();if(!xm(this.gridOptionsService,i,o,r,s)&&"keydown"===t&&(!s&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),pw(i)&&e.processCharacter(i)),"keydown"===t){const l=e.createEvent(i,v.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(e,t,i){const o=e.getRowNode(),r=this.focusService.getFocusedCell();if(!xm(this.gridOptionsService,i,o,r&&r.column,!1)&&"keydown"===t)switch(i.key){case x.PAGE_HOME:case x.PAGE_END:this.navigationService.handlePageScrollingKey(i);break;case x.UP:case x.DOWN:e.onKeyboardNavigate(i);break;case x.TAB:e.onTabKeyDown(i)}if("keydown"===t){const l=e.createRowEvent(v.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(l)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=_N(e);return i===x.A?this.onCtrlAndA(e):i===x.C?this.onCtrlAndC(e):i===x.D?this.onCtrlAndD(e):i===x.V?this.onCtrlAndV(e):i===x.X?this.onCtrlAndX(e):i===x.Y?this.onCtrlAndY():i===x.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:i,rangeService:o}=this;if(o&&i.isRowsToRender()){const[r,s]=[t.isEmpty("top"),t.isEmpty("bottom")],a=r?null:"top";let l,c;s?(l=null,c=this.paginationProxy.getRowCount()-1):(l="bottom",c=t.getPinnedBottomRowData().length-1);const d=this.columnModel.getAllDisplayedColumns();if(en(d))return;o.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l,columnStart:d[0],columnEnd:He(d)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}}cn([f("mouseEventService")],Bi.prototype,"mouseEventService",void 0),cn([f("valueService")],Bi.prototype,"valueService",void 0),cn([Ie("contextMenuFactory")],Bi.prototype,"contextMenuFactory",void 0),cn([f("ctrlsService")],Bi.prototype,"ctrlsService",void 0),cn([f("navigationService")],Bi.prototype,"navigationService",void 0),cn([f("focusService")],Bi.prototype,"focusService",void 0),cn([f("undoRedoService")],Bi.prototype,"undoRedoService",void 0),cn([f("columnModel")],Bi.prototype,"columnModel",void 0),cn([f("paginationProxy")],Bi.prototype,"paginationProxy",void 0),cn([f("pinnedRowModel")],Bi.prototype,"pinnedRowModel",void 0),cn([Ie("rangeService")],Bi.prototype,"rangeService",void 0),cn([Ie("clipboardService")],Bi.prototype,"clipboardService",void 0),cn([P],Bi.prototype,"postConstruct",null);var Im=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Au extends T{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=hu(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:v.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}}Im([f("ctrlsService")],Au.prototype,"ctrlsService",void 0),Im([f("columnModel")],Au.prototype,"columnModel",void 0),Im([f("scrollVisibleService")],Au.prototype,"scrollVisibleService",void 0),Im([P],Au.prototype,"postConstruct",null);var nL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class kw extends T{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth();_e(this.element,e>0),In(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}}nL([f("pinnedWidthService")],kw.prototype,"pinnedWidthService",void 0),nL([P],kw.prototype,"postConstruct",null);var oL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Gw extends T{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth();_e(this.element,e>0),In(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}}oL([f("pinnedWidthService")],Gw.prototype,"pinnedWidthService",void 0),oL([P],Gw.prototype,"postConstruct",null);var rL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Om extends T{constructor(e,t){super(),this.eContainer=e,this.eWrapper=t}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)}}rL([f("rowContainerHeightService")],Om.prototype,"maxDivHeightScaler",void 0),rL([P],Om.prototype,"postConstruct",null);var Vw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Fm extends T{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.gridOptionsService.isEnableRangeSelection()||q(this.rangeService))return;const e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc(()=>this.dragService.removeDragSource(e))}}Vw([Ie("rangeService")],Fm.prototype,"rangeService",void 0),Vw([f("dragService")],Fm.prototype,"dragService",void 0),Vw([P],Fm.prototype,"postConstruct",null);var Hw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Xl extends T{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),r=e.getDisplayedColumnsRightWidth();let s;t?s=i+o+r:(s=i,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?o:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}}Hw([f("columnModel")],Xl.prototype,"columnModel",void 0),Hw([f("scrollVisibleService")],Xl.prototype,"scrollVisibleService",void 0),Hw([P],Xl.prototype,"postConstruct",null);var is=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},w=(()=>((w=w||{}).LEFT="left",w.RIGHT="right",w.CENTER="center",w.FULL_WIDTH="fullWidth",w.TOP_LEFT="topLeft",w.TOP_RIGHT="topRight",w.TOP_CENTER="topCenter",w.TOP_FULL_WIDTH="topFullWidth",w.STICKY_TOP_LEFT="stickyTopLeft",w.STICKY_TOP_RIGHT="stickyTopRight",w.STICKY_TOP_CENTER="stickyTopCenter",w.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",w.BOTTOM_LEFT="bottomLeft",w.BOTTOM_RIGHT="bottomRight",w.BOTTOM_CENTER="bottomCenter",w.BOTTOM_FULL_WIDTH="bottomFullWidth",w))(),St=(()=>((St=St||{}).LEFT="left",St.RIGHT="right",St.CENTER="center",St.FULL_WIDTH="fullWidth",St))();const LQ=br([[w.CENTER,"ag-center-cols-container"],[w.LEFT,"ag-pinned-left-cols-container"],[w.RIGHT,"ag-pinned-right-cols-container"],[w.FULL_WIDTH,"ag-full-width-container"],[w.TOP_CENTER,"ag-floating-top-container"],[w.TOP_LEFT,"ag-pinned-left-floating-top"],[w.TOP_RIGHT,"ag-pinned-right-floating-top"],[w.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[w.STICKY_TOP_CENTER,"ag-sticky-top-container"],[w.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[w.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[w.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[w.BOTTOM_CENTER,"ag-floating-bottom-container"],[w.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[w.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[w.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),kQ=br([[w.CENTER,"ag-center-cols-viewport"],[w.TOP_CENTER,"ag-floating-top-viewport"],[w.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[w.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),GQ=br([[w.CENTER,"ag-center-cols-clipper"]]);class Pn extends T{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name===w.TOP_FULL_WIDTH||this.name===w.STICKY_TOP_FULL_WIDTH||this.name===w.BOTTOM_FULL_WIDTH||this.name===w.FULL_WIDTH}static getRowContainerCssClasses(e){return{container:LQ.get(e),viewport:kQ.get(e),wrapper:GQ.get(e)}}static getPinned(e){switch(e){case w.BOTTOM_LEFT:case w.TOP_LEFT:case w.STICKY_TOP_LEFT:case w.LEFT:return"left";case w.BOTTOM_RIGHT:case w.TOP_RIGHT:case w.STICKY_TOP_RIGHT:case w.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([w.CENTER],()=>this.viewportSizeFeature=this.createManagedBean(new Au(this)))}registerWithCtrlsService(){switch(this.name){case w.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case w.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case w.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case w.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case w.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case w.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case w.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case w.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case w.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case w.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case w.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case w.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i,o){this.comp=e,this.eContainer=t,this.eViewport=i,this.eWrapper=o,this.createManagedBean(new Bi(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const c=[w.TOP_CENTER,w.TOP_LEFT,w.TOP_RIGHT,w.BOTTOM_CENTER,w.BOTTOM_LEFT,w.BOTTOM_RIGHT,w.CENTER,w.LEFT,w.RIGHT,w.STICKY_TOP_CENTER,w.STICKY_TOP_LEFT,w.STICKY_TOP_RIGHT],d=[w.CENTER,w.LEFT,w.RIGHT,w.FULL_WIDTH],u=[w.CENTER,w.TOP_CENTER,w.STICKY_TOP_CENTER,w.BOTTOM_CENTER],p=[w.RIGHT,w.BOTTOM_RIGHT,w.TOP_RIGHT,w.STICKY_TOP_RIGHT];this.forContainers([w.LEFT,w.BOTTOM_LEFT,w.TOP_LEFT,w.STICKY_TOP_LEFT],()=>{this.pinnedWidthFeature=this.createManagedBean(new kw(this.eContainer)),this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(p,()=>{this.pinnedWidthFeature=this.createManagedBean(new Gw(this.eContainer)),this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(d,()=>this.createManagedBean(new Om(this.eContainer,this.eWrapper))),this.forContainers(c,()=>this.createManagedBean(new Fm(this.eContainer))),this.forContainers(u,()=>this.createManagedBean(new Xl(g=>this.comp.setContainerWidth(`${g}px`)))),Bl()&&(this.forContainers([w.CENTER],()=>{this.addManagedListener(this.eventService,this.enableRtl?v.EVENT_LEFT_PINNED_WIDTH_CHANGED:v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.refreshPaddingForFakeScrollbar())}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl:e,columnModel:t,name:i,eWrapper:o,eContainer:r}=this,s=e?w.LEFT:w.RIGHT;this.forContainers([w.CENTER,s],()=>{const a=t.getContainerWidth(s),l=e?"marginLeft":"marginRight";i===w.CENTER?o.style[l]=a?"0px":"16px":r.style[l]=a?"16px":"0px"})}addListeners(){this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,()=>this.onScrollVisibilityChanged()),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([w.STICKY_TOP_CENTER,w.STICKY_TOP_LEFT,w.STICKY_TOP_RIGHT,w.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const i=()=>{const o=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(o||r)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers([w.TOP_CENTER,w.STICKY_TOP_CENTER,w.BOTTOM_CENTER],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers([w.CENTER],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers([w.CENTER],()=>this.onHorizontalViewportChanged())}onScrollVisibilityChanged(){const e=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===w.CENTER){const i=this.scrollVisibleService.isHorizontalScrollShowing()?e:0,o=0==i?"100%":`calc(100% + ${i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setViewportHeight(o))}if(this.name===w.FULL_WIDTH){const i=`calc(100% - ${Bl()?16:0}px)`;this.eContainer.style.setProperty("width",i)}}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(){const e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}getCenterWidth(){return wm(this.eViewport)}getCenterViewportScrollLeft(){return fu(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportVisible(){return Wl(this.eViewport)}getViewportScrollLeft(){return fu(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||fN(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Em(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!Pn.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),Bl()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(e=!1){if(this.visible){const t=this.gridOptionsService.isDomLayout("print"),i=r=>{const s=r.isFullWidth(),a=this.embedFullWidthRows||t;return this.isFullWithContainer?!a&&s:a||!s},o=this.getRowCtrls().filter(i);this.comp.setRowCtrls(o,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case w.TOP_CENTER:case w.TOP_LEFT:case w.TOP_RIGHT:case w.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case w.STICKY_TOP_CENTER:case w.STICKY_TOP_LEFT:case w.STICKY_TOP_RIGHT:case w.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case w.BOTTOM_CENTER:case w.BOTTOM_LEFT:case w.BOTTOM_RIGHT:case w.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}}}is([f("scrollVisibleService")],Pn.prototype,"scrollVisibleService",void 0),is([f("dragService")],Pn.prototype,"dragService",void 0),is([f("ctrlsService")],Pn.prototype,"ctrlsService",void 0),is([f("columnModel")],Pn.prototype,"columnModel",void 0),is([f("resizeObserverService")],Pn.prototype,"resizeObserverService",void 0),is([f("animationFrameService")],Pn.prototype,"animationFrameService",void 0),is([f("rowRenderer")],Pn.prototype,"rowRenderer",void 0),is([P],Pn.prototype,"postConstruct",null);var jo=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const VQ=`<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="${w.TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="${w.TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="${w.TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="${w.TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="${w.LEFT}"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="${w.CENTER}"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="${w.RIGHT}"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="${w.FULL_WIDTH}"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="${w.STICKY_TOP_LEFT}"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="${w.STICKY_TOP_CENTER}"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="${w.STICKY_TOP_RIGHT}"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="${w.STICKY_TOP_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="${w.BOTTOM_LEFT}"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="${w.BOTTOM_CENTER}"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="${w.BOTTOM_RIGHT}"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="${w.BOTTOM_FULL_WIDTH}"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>`;class co extends ae{constructor(){super(VQ)}init(){const e=(i,o)=>{const r=`${i}px`;o.style.minHeight=r,o.style.height=r},t={setRowAnimationCssOnBodyViewport:(i,o)=>this.setRowAnimationCssOnBodyViewport(i,o),setColumnCount:i=>eN(this.getGui(),i),setRowCount:i=>JP(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setColumnMovingCss:(i,o)=>this.addOrRemoveCssClass(i,o),updateLayoutClasses:(i,o)=>{[this.eBodyViewport.classList,this.eBodyClipper.classList,this.eBody.classList].forEach(s=>{s.toggle(at.AUTO_HEIGHT,o.autoHeight),s.toggle(at.NORMAL,o.normal),s.toggle(at.PRINT,o.print)}),this.addOrRemoveCssClass(at.AUTO_HEIGHT,o.autoHeight),this.addOrRemoveCssClass(at.NORMAL,o.normal),this.addOrRemoveCssClass(at.PRINT,o.print)},setAlwaysVerticalScrollClass:(i,o)=>this.eBodyViewport.classList.toggle(tL,o),registerBodyViewportResizeListener:i=>{const o=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>o())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,o)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(r=>r.classList.toggle(i,o))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Hi),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&XP(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const i=this.eBodyViewport.classList;i.toggle(Er.ANIMATION_ON,t),i.toggle(Er.ANIMATION_OFF,!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}}jo([f("resizeObserverService")],co.prototype,"resizeObserverService",void 0),jo([Ie("rangeService")],co.prototype,"rangeService",void 0),jo([N("eBodyViewport")],co.prototype,"eBodyViewport",void 0),jo([N("eStickyTop")],co.prototype,"eStickyTop",void 0),jo([N("eTop")],co.prototype,"eTop",void 0),jo([N("eBottom")],co.prototype,"eBottom",void 0),jo([N("gridHeader")],co.prototype,"headerRootComp",void 0),jo([N("eBodyClipper")],co.prototype,"eBodyClipper",void 0),jo([N("eBody")],co.prototype,"eBody",void 0),jo([P],co.prototype,"init",null);var Bw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Iu=class extends T{postConstruct(){this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e)return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:v.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};Bw([f("ctrlsService")],Iu.prototype,"ctrlsService",void 0),Bw([P],Iu.prototype,"postConstruct",null),Iu=Bw([G("scrollVisibleService")],Iu);var Ou,sL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Jl=Ou=class extends T{constructor(){super(...arguments),this.gridInstanceId=Ou.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[Ou.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return lm(this.gridOptionsService,e.target,la.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const i=t[Ou.GRID_DOM_KEY];if(D(i))return i===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal");let o,r;if(null!=e.clientX||null!=e.clientY?(o=e.clientX,r=e.clientY):(o=e.x,r=e.y),t){const s=this.ctrlsService.getGridBodyCtrl(),a=s.getScrollFeature().getVScrollPosition();o+=s.getScrollFeature().getHScrollPosition().left,r+=a.top}return{x:o,y:r}}};Jl.gridInstanceSequence=new zl,Jl.GRID_DOM_KEY="__ag_grid_instance",sL([f("ctrlsService")],Jl.prototype,"ctrlsService",void 0),Jl=Ou=sL([G("mouseEventService")],Jl);var ji=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ui=class extends T{constructor(){super(),this.onPageDown=Ry(this.onPageDown,100),this.onPageUp=Ry(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e){const t=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(t){case x.PAGE_HOME:case x.PAGE_END:!o&&!i&&(this.onHomeOrEndKey(t),a=!0);break;case x.LEFT:case x.RIGHT:case x.UP:case x.DOWN:if(!s)return!1;o&&!i&&!r&&(this.onCtrlUpDownLeftRight(t,s),a=!0);break;case x.PAGE_DOWN:if(!s)return!1;!o&&!i&&(this.onPageDown(s),a=!0);break;case x.PAGE_UP:if(!s)return!1;!o&&!i&&(this.onPageUp(s),a=!0)}return a&&e.preventDefault(),a}navigateTo(e){const{scrollIndex:t,scrollType:i,scrollColumn:o,focusIndex:r,focusColumn:s}=e;D(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),D(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),r=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRowIndexAtPixel(i.top+o+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=this.paginationProxy.getRowIndexAtPixel(i.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,i=!1){const o=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),c=i?l?.rowHeight-o-a:o-a;let h,u=this.paginationProxy.getRowIndexAtPixel(l?.rowTop+c+a);u===e.rowIndex&&(t=u=e.rowIndex+(i?-1:1)),i?(h="bottom",u<r&&(u=r),t<r&&(t=r)):(h="top",u>s&&(u=s),t>s&&(t=s)),this.isRowTallerThanView(u)&&(t=u,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:u,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const o=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var i;const o=t?-1:1,r=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=s;){const c=this.paginationProxy.getRow(l);if(c){const d=null!==(i=c.rowHeight)&&void 0!==i?i:0;if(a+d>r)break;a+=d}l+=o}return Math.max(0,Math.min(l,s))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth();let o=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const i=t.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:o,column:r}=i;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:o,focusColumn:r})}onHomeOrEndKey(e){const t=e===x.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=t?i[0]:He(i),r=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o})}onTabKeyDown(e,t){const i=t.shiftKey;if(this.tabToNextCellCommon(e,i,t))t.preventDefault();else if(i){const{rowIndex:r,rowPinned:s}=e.getRowPosition();(s?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusLastHeader(t)))}else e instanceof la&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let o=this.getCellByPosition(i);return!!(o||(o=this.rowRenderer.getRowByPosition(i),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,i){let r,o=e.isEditing();if(!o&&e instanceof la){const a=e.getRowCtrl();a&&(o=a.isEditing())}return r=o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,t,i):this.moveToNextEditingCell(e,t,i):this.moveToNextCellNotEditing(e,t),r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const o=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(o,t,!0);return null!=r&&(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const o=e.getCellPosition(),r=this.findNextCellToFocusOn(o,t,!0);if(null==r)return!1;const s=r.getCellPosition(),a=this.isCellEditable(o),l=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;return a&&e.setFocusOutOnEditor(),c||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),l?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.columnModel.getAllDisplayedColumns();let o;o=e instanceof ca?Object.assign(Object.assign({},e.getRowPosition()),{column:t?i[0]:He(i)}):e.getCellPosition();const r=this.findNextCellToFocusOn(o,t,!1);if(r instanceof la)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return D(r)}findNextCellToFocusOn(e,t,i){let o=e;for(;;){e!==o&&(e=o),t||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,t);const r=this.gridOptionsService.getCallback("tabToNextCell");if(D(r)){const c=r({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:o||null});D(c)?(c.floating&&(xe(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),o={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+o.rowIndex,column:o.column}}),null}const s="fullRow"===this.gridOptionsService.get("editType");if(i&&!s&&!this.isCellEditable(o))continue;this.ensureCellVisible(o);const a=this.getCellByPosition(o);if(!a){const l=this.rowRenderer.getRowByPosition(o);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,i,o){let r=i,s=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gridOptionsService.is("enableRtl")?t===x.LEFT&&(r=this.getLastCellOfColSpan(r)):t===x.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),s=q(r);if(s&&e&&e.key===x.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),o){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(D(l)){const d=l({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});D(d)?(d.floating&&(xe(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),d.rowPinned=d.floating),r={rowPinned:d.rowPinned,rowIndex:d.rowIndex,column:d.column}):r=null}}if(!r)return;if(r.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+r.rowIndex,column:i.column},event:e||void 0})}const a=this.getNormalisedPosition(r);a?this.focusPosition(a):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?He(i):i[0])};this.focusPosition(s);const a=null!=r&&this.rowPositionUtils.before(s,r);return this.eventService.dispatchEvent({type:v.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:a}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:He(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&q(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};ji([f("mouseEventService")],ui.prototype,"mouseEventService",void 0),ji([f("paginationProxy")],ui.prototype,"paginationProxy",void 0),ji([f("focusService")],ui.prototype,"focusService",void 0),ji([Ie("rangeService")],ui.prototype,"rangeService",void 0),ji([f("columnModel")],ui.prototype,"columnModel",void 0),ji([f("rowModel")],ui.prototype,"rowModel",void 0),ji([f("ctrlsService")],ui.prototype,"ctrlsService",void 0),ji([f("rowRenderer")],ui.prototype,"rowRenderer",void 0),ji([f("headerNavigationService")],ui.prototype,"headerNavigationService",void 0),ji([f("rowPositionUtils")],ui.prototype,"rowPositionUtils",void 0),ji([f("cellNavigationService")],ui.prototype,"cellNavigationService",void 0),ji([f("pinnedRowModel")],ui.prototype,"pinnedRowModel",void 0),ji([P],ui.prototype,"postConstruct",null),ui=ji([G("navigationService")],ui);let aL=(()=>{class n extends ql{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),n.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),i=this.params;this.addManagedListener(t,"keydown",r=>{xm(this.gridOptionsService,r,i.node,i.column,!0)||i.onKeyDown(r)})}}return n.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],aL.prototype,"postConstruct",null);class BQ extends ae{constructor(e,t,i,o,r){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=o,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const s=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(c,d,u)=>{const h=u||s;null!=d&&""!=d?h.setAttribute(c,d):h.removeAttribute(c)},l={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>dw(s,c),getFocusableElement:()=>this.getFocusableElement(),setTabIndex:c=>a("tabindex",c.toString()),setRole:c=>$t(s,c),setColId:c=>a("col-id",c),setTitle:c=>a("title",c),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,u)=>this.setRenderDetails(c,d,u),setEditDetails:(c,d,u)=>this.setEditDetails(c,d,u),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};this.cellCtrl=t,t.setComp(l,this.getGui(),this.eCellWrapper,i,r)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!r&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,o=i&&null==this.eCellWrapper;o&&(this.eCellWrapper=ei('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const r=!i&&null!=this.eCellWrapper;r&&(_r(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const s=!e&&i,a=s&&null==this.eCellValue;a&&(this.eCellValue=ei('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const l=!s&&null!=this.eCellValue;l&&(_r(this.eCellValue),this.eCellValue=void 0);const c=o||r||a||l;return c&&this.removeControls(),e||t&&this.addControls(),c}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){const o=this.editorVersion,r=e.newAgStackInstance();if(!r)return;const{params:s}=e;r.then(l=>this.afterCellEditorCreated(o,l,s,t,i)),q(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();nn(t);const i=null!=e?ko(e):null;null!=i&&(t.innerHTML=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),_r(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),_r(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t}createCellRendererInstance(e){const i=!this.beans.gridOptionsService.is("suppressAnimationFrame"),o=this.rendererVersion,{componentClass:r}=e,s=()=>{if(this.rendererVersion!==o||!this.isAlive())return;const l=e.newAgStackInstance(),c=this.afterCellRendererCreated.bind(this,o,r);l&&l.then(c)};i&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const r=this.getParentOfValue();nn(r),r.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)}afterCellEditorCreated(e,t,i,o,r){if(e!==this.editorVersion)return void this.beans.context.destroyBean(t);if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();const l=o||void 0!==t.isPopup&&t.isPopup();l?this.addPopupCellEditor(i,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null===(i=this.rowCtrl)||void 0===i||i.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new aL(e));const o=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&o.appendChild(this.cellEditorGui);const r=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=t??(i.getPopupPosition?i.getPopupPosition():"over"),l=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:o,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},d=r.positionPopupByComponent.bind(r,c),u=this.beans.localeService.getLocaleTextFunc(),h=r.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:d,ariaLabel:u("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&Cm()&&e.focus({preventScroll:!0}),nn(this.getParentOfValue())}}class jQ extends ae{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(i)}"/>`);const o=this.getGui(),r=o.style;e.setComp({setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>dw(o,a),setTop:a=>r.top=a,setTransform:a=>r.transform=a,setRowIndex:a=>o.setAttribute("row-index",a),setRole:a=>$t(o,a),setRowId:a=>o.setAttribute("row-id",a),setRowBusinessKey:a=>o.setAttribute("row-business-key",a),setTabIndex:a=>o.setAttribute("tabindex",a.toString())},this.getGui(),i),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e),i=this.rowCtrl.getInitialRowTop(e);return t?`transform: ${t}`:`top: ${i}`}showFullWidth(e){const i=e.newAgStackInstance();i&&i.then(o=>{if(this.isAlive()){const r=o.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(o)}else this.beans.context.destroyBean(o)})}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(o=>{const r=o.getInstanceId();null==this.cellComps[r]?this.newCellComp(o):t[r]=null});const i=Po(t).filter(o=>null!=o);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(i=>{const o=this.cellComps[i.getInstanceId()];o&&t.push(o.getGui())}),cw(this.getGui(),t)}newCellComp(e){const t=new BQ(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Po(this.cellComps).filter(t=>null!=t);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const i=t.getCtrl().getInstanceId();this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}}var ec=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class da extends ae{constructor(){super(function UQ(){const n=ae.elementGettingCreated.getAttribute("name"),e=Pn.getRowContainerCssClasses(n);let t;return t=n===w.CENTER?`<div class="${e.wrapper}" ref="eWrapper" role="presentation">\n                <div class="${e.viewport}" ref="eViewport" role="presentation">\n                    <div class="${e.container}" ref="eContainer"></div>\n                </div>\n            </div>`:n===w.TOP_CENTER||n===w.STICKY_TOP_CENTER||n===w.BOTTOM_CENTER?`<div class="${e.viewport}" ref="eViewport" role="presentation">\n                <div class="${e.container}" ref="eContainer"></div>\n            </div>`:`<div class="${e.container}" ref="eContainer"></div>`,t}()),this.rowComps={},this.name=ae.elementGettingCreated.getAttribute("name"),this.type=function NQ(n){switch(n){case w.CENTER:case w.TOP_CENTER:case w.STICKY_TOP_CENTER:case w.BOTTOM_CENTER:return St.CENTER;case w.LEFT:case w.TOP_LEFT:case w.STICKY_TOP_LEFT:case w.BOTTOM_LEFT:return St.LEFT;case w.RIGHT:case w.TOP_RIGHT:case w.STICKY_TOP_RIGHT:case w.BOTTOM_RIGHT:return St.RIGHT;case w.FULL_WIDTH:case w.TOP_FULL_WIDTH:case w.STICKY_TOP_FULL_WIDTH:case w.BOTTOM_FULL_WIDTH:return St.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const e={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:i=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new Pn(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(o=>{const r=o.getInstanceId(),s=t[r];if(s)this.rowComps[r]=s,delete t[r],this.ensureDomOrder(s.getGui());else{const a=new jQ(o,this.beans,this.type);this.rowComps[r]=a,this.appendRow(a.getGui())}}),Po(t).forEach(o=>{this.eContainer.removeChild(o.getGui()),o.destroy()}),$t(this.eContainer,e.length?"rowgroup":"presentation")}appendRow(e){this.domOrder?pN(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(lw(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}}ec([f("beans")],da.prototype,"beans",void 0),ec([N("eViewport")],da.prototype,"eViewport",void 0),ec([N("eContainer")],da.prototype,"eContainer",void 0),ec([N("eWrapper")],da.prototype,"eWrapper",void 0),ec([P],da.prototype,"postConstruct",null),ec([zt],da.prototype,"preDestroy",null);var lL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class jw{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?De.ICON_PINNED:De.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}}lL([f("columnModel")],jw.prototype,"columnModel",void 0),lL([f("gridOptionsService")],jw.prototype,"gridOptionsService",void 0);var Fu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class tc{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!D(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?De.ICON_PINNED:De.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===st.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const o=e.dragItem.visibleState,r=(t||[]).filter(s=>o[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i="api"){if(e){const o=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColumnsVisible(o,t,i)}}setColumnsPinned(e,t,i="api"){if(e){const o=e.filter(r=>!r.getColDef().lockPinned);this.columnModel.setColumnsPinned(o,t,i)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(e){return this.gridOptionsService.is("enableRtl")&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,o=!1){var r;if(o){if(this.lastMovedInfo){const{columns:d,toIndex:u}=this.lastMovedInfo;this.moveColumns(d,u,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,q(e.hDirection))return;const s=this.normaliseX(e.x);t||this.checkCenterForScrolling(s);const a=this.normaliseDirection(e.hDirection),l=e.dragSource.type,c=(null===(r=e.dragSource.getDragItem().columns)||void 0===r?void 0:r.filter(d=>!d.getColDef().lockPinned||d.getPinned()==this.pinned))||[];this.attemptMoveColumns({dragSourceType:l,allMovingColumns:c,hDirection:a,mouseX:s,fromEnter:t,fakeEvent:i})}normaliseDirection(e){if(!this.gridOptionsService.is("enableRtl"))return e;switch(e){case Ei.Left:return Ei.Right;case Ei.Right:return Ei.Left;default:console.error(`AG Grid: Unknown direction ${e}`)}}attemptMoveColumns(e){const{dragSourceType:t,hDirection:i,mouseX:o,fromEnter:r,fakeEvent:s}=e,a=i===Ei.Left,l=i===Ei.Right;let{allMovingColumns:c}=e;if(t===st.HeaderCell){let b=[];c.forEach(y=>{let R=null,M=y.getParent();for(;null!=M&&1===M.getDisplayedLeafColumns().length;)R=M,M=M.getParent();null!=R?R.getProvidedColumnGroup().getLeafColumns().forEach($=>{b.includes($)||b.push($)}):b.includes(y)||b.push(y)}),c=b}const d=c.slice();this.columnModel.sortColumnsLikeGridColumns(d);const u=this.calculateValidMoves(d,l,o),h=this.calculateOldIndex(d);if(0===u.length)return;const p=u[0];let g=null!==h&&!r;if(t==st.HeaderCell&&(g=null!==h),g&&!s&&(a&&p>=h||l&&p<=h))return;const m=this.columnModel.getAllDisplayedColumns();let C=[],_=null;for(let b=0;b<u.length;b++){const y=u[b],R=this.columnModel.getProposedColumnOrder(d,y);if(!this.columnModel.doesOrderPassRules(R))continue;const M=R.filter($=>m.includes($));if(null===_)_=M;else if(!X.areEqual(M,_))break;const V=this.groupFragCount(R);C.push({move:y,fragCount:V})}0!==C.length&&(C.sort((b,y)=>b.fragCount-y.fragCount),this.moveColumns(c,C[0].move,"uiColumnMoved",!1))}calculateOldIndex(e){const t=this.columnModel.getAllGridColumns(),i=IP(e.map(l=>t.indexOf(l))),o=i[0];return He(i)-o!=i.length-1?null:o}moveColumns(e,t,i,o){this.columnModel.moveColumns(e,t,i,o),this.lastMovedInfo=o?null:{columns:e,toIndex:t}}groupFragCount(e){function t(o){let r=[],s=o.getOriginalParent();for(;null!=s;)r.push(s),s=s.getOriginalParent();return r}let i=0;for(let o=0;o<e.length-1;o++){let r=t(e[o]),s=t(e[o+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(a=>{-1===s.indexOf(a)&&i++})}return i}calculateValidMoves(e,t,i){if(this.gridOptionsService.is("suppressMovableColumns")||e.some(m=>m.getColDef().suppressMovable))return[];const r=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=r.filter(m=>Rn(e,m)),l=r.filter(m=>!Rn(e,m)),c=s.filter(m=>!Rn(e,m));let h,d=0,u=i;if(t){let m=0;a.forEach(C=>m+=C.getActualWidth()),u-=m}if(u>0){for(let m=0;m<l.length&&(u-=l[m].getActualWidth(),!(u<0));m++)d++;t&&d++}d>0?h=c.indexOf(l[d-1])+1:(h=c.indexOf(l[0]),-1===h&&(h=0));const p=[h],g=(m,C)=>m-C;if(t){let m=h+1;const C=s.length-1;for(;m<=C;)p.push(m),m++;p.sort(g)}else{let m=h;const C=s.length-1;let _=s[m];for(;m<=C&&this.isColumnHidden(r,_);)m++,p.push(m),_=s[m];m=h-1;const b=0;for(;m>=b;)p.push(m),m--;p.sort(g).reverse()}return p}isColumnHidden(e,t){return e.indexOf(t)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?De.ICON_LEFT:De.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(De.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const r=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);r.length>0&&(this.dragAndDropService.setGhostIcon(De.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(r,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}}Fu([f("columnModel")],tc.prototype,"columnModel",void 0),Fu([f("dragAndDropService")],tc.prototype,"dragAndDropService",void 0),Fu([f("gridOptionsService")],tc.prototype,"gridOptionsService",void 0),Fu([f("ctrlsService")],tc.prototype,"ctrlsService",void 0),Fu([P],tc.prototype,"init",null);var Pu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class ic extends T{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}})}isInterestedIn(e){return e===st.HeaderCell||e===st.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new tc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new jw(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===st.ToolPanel}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}}Pu([f("dragAndDropService")],ic.prototype,"dragAndDropService",void 0),Pu([f("columnModel")],ic.prototype,"columnModel",void 0),Pu([f("ctrlsService")],ic.prototype,"ctrlsService",void 0),Pu([P],ic.prototype,"postConstruct",null),Pu([P],ic.prototype,"init",null);class cL{static getHeaderClassesFromColDef(e,t,i,o){return q(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,o)}static getToolPanelClassesFromColDef(e,t,i,o){return q(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,o)}static getClassParams(e,t,i,o){return{colDef:e,column:i,columnGroup:o,api:t.api,columnApi:t.columnApi,context:t.context}}static getColumnClassesFromCollDef(e,t,i,o,r){if(q(e))return[];let s;return s="function"==typeof e?e(this.getClassParams(t,i,o,r)):e,"string"==typeof s?[s]:Array.isArray(s)?[...s]:[]}}var Pm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Nu=(()=>{class n extends Nw{constructor(t){super(n.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const t=this.getGui(),i=(s,a,l)=>{const c=l||t;null!=a&&""!=a?c.setAttribute(s,a):c.removeAttribute(s)};this.ctrl.setComp({setWidth:s=>t.style.width=s,addOrRemoveCssClass:(s,a)=>this.addOrRemoveCssClass(s,a),setColId:s=>i("col-id",s),setTitle:s=>i("title",s),setAriaDescription:s=>KP(t,s),setAriaSort:s=>s?iN(t,s):nN(t),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerComp},this.getGui(),this.eResize,this.eHeaderCompWrapper);const r=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",r)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const i=this.headerCompVersion;t.newAgStackInstance().then(o=>this.afterCompCreated(i,o))}afterCompCreated(t,i){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)}}return n.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',n})();Pm([N("eResize")],Nu.prototype,"eResize",void 0),Pm([N("eHeaderCompWrapper")],Nu.prototype,"eHeaderCompWrapper",void 0),Pm([P],Nu.prototype,"postConstruct",null),Pm([zt],Nu.prototype,"destroyHeaderComp",null);var Uw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Nm=(()=>{class n extends Nw{constructor(t){super(n.TEMPLATE,t)}postConstruct(){const t=this.getGui(),i=(r,s)=>null!=s?t.setAttribute(r,s):t.removeAttribute(r);this.ctrl.setComp({addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setResizableDisplayed:r=>_e(this.eResize,r),setWidth:r=>t.style.width=r,setColId:r=>t.setAttribute("col-id",r),setAriaExpanded:r=>i("aria-expanded",r),setTitle:r=>i("title",r),setUserCompDetails:r=>this.setUserCompDetails(r)},t,this.eResize)}setUserCompDetails(t){t.newAgStackInstance().then(i=>this.afterHeaderCompCreated(i))}afterHeaderCompCreated(t){const i=()=>this.destroyBean(t);if(!this.isAlive())return void i();const o=this.getGui(),r=t.getGui();o.appendChild(r),this.addDestroyFunc(i),this.ctrl.setDragSource(o)}}return n.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',n})();Uw([f("userComponentFactory")],Nm.prototype,"userComponentFactory",void 0),Uw([N("eResize")],Nm.prototype,"eResize",void 0),Uw([P],Nm.prototype,"postConstruct",null);var dL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Et=(()=>((Et=Et||{}).COLUMN_GROUP="group",Et.COLUMN="column",Et.FLOATING_FILTER="filter",Et))();class Ww extends ae{constructor(e){super(),this.headerComps={};const t=e.getType()==Et.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==Et.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.setTemplate(`<div class="ag-header-row ${t}" role="row"></div>`),this.ctrl=e}init(){this.ctrl.setComp({setTransform:t=>this.getGui().style.transform=t,setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:t=>this.setHeaderCtrls(t),setWidth:t=>this.getGui().style.width=t,setAriaRowIndex:t=>Uy(this.getGui(),t)})}destroyHeaderCtrls(){this.setHeaderCtrls([])}setHeaderCtrls(e){if(!this.isAlive())return;const t=this.headerComps;this.headerComps={},e.forEach(r=>{const s=r.getInstanceId();let a=t[s];delete t[s],null==a&&(a=this.createHeaderComp(r),this.getGui().appendChild(a.getGui())),this.headerComps[s]=a}),it(t,(r,s)=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)});const i=this.gridOptionsService.is("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");if(i||o){const r=Po(this.headerComps);r.sort((a,l)=>a.getCtrl().getColumnGroupChild().getLeft()-l.getCtrl().getColumnGroupChild().getLeft());const s=r.map(a=>a.getGui());cw(this.getGui(),s)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case Et.COLUMN_GROUP:t=new Nm(e);break;case Et.FLOATING_FILTER:t=new Zl(e);break;default:t=new Nu(e)}return this.createBean(t),t.setParentComponent(this),t}}dL([P],Ww.prototype,"init",null),dL([zt],Ww.prototype,"destroyHeaderCtrls",null);var zw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let WQ=0,ua=(()=>{class n extends T{constructor(t,i){super(),this.lastFocusEvent=null,this.columnGroupChild=t,this.parentRowCtrl=i,this.instanceId=t.getUniqueId()+"-"+WQ++}shouldStopEventPropagation(t){const{headerRowIndex:i,column:o}=this.focusService.getFocusedHeader();return bN(this.gridOptionsService,t,i,o)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(t){this.eGui=t,this.addDomData()}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case x.PAGE_DOWN:case x.PAGE_UP:case x.PAGE_HOME:case x.PAGE_END:i&&t.preventDefault()}}addDomData(){const t=n.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}}return n.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",n})();zw([f("focusService")],ua.prototype,"focusService",void 0),zw([f("beans")],ua.prototype,"beans",void 0),zw([f("userComponentFactory")],ua.prototype,"userComponentFactory",void 0);class Lm extends T{constructor(e,t,i,o){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=o,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?He(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Ve.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=D(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),o=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(o),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return t;const o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?o+this.beans.columnModel.getBodyContainerWidth()+t:o+t}setLeft(e){let t;if(D(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof Ve)t=this.columnOrGroup;else{const r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&tN(this.ariaEl,r.length),t=r[0]}const i=this.beans.columnModel.getAriaColumnIndex(t);Wy(this.ariaEl,i)}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],Lm.prototype,"postConstruct",null);var uL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Lu extends T{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}}uL([f("columnHoverService")],Lu.prototype,"columnHoverService",void 0),uL([P],Lu.prototype,"postConstruct",null);var $w=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class km extends ua{constructor(e,t){super(e,t),this.iconCreated=!1,this.column=e}setComp(e,t,i,o){super.setGui(t),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Ve.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=wt("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new Vo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Qr(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const r=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(r)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void r.focus();const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let i=this.column;do{if(i=e?t.getDisplayedColBefore(i):t.getDisplayedColAfter(i),!i)break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case x.UP:case x.DOWN:t||e.preventDefault();case x.LEFT:case x.RIGHT:if(t)return;e.stopPropagation();case x.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case x.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Xs(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){const s=this.lastFocusEvent;s&&s&&s.key===x.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(){this.createManagedBean(new Lu([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new Lm(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){const e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton}setupUserComp(){if(!this.active)return;const e=this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const e=t=>{const i=this.comp.getFloatingFilterComp();i&&i.then(o=>{if(o){const r=this.filterManager.getCurrentFloatingFilterParentModel(this.column);o.onParentModelChanged(r,t)}})};this.destroySyncListener=this.addManagedListener(this.column,Ve.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,Ve.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Ve.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var e,t;const i=this.active;this.setupActive();const o=!i&&this.active;i&&!this.active&&(null===(e=this.destroySyncListener)||void 0===e||e.call(this),null===(t=this.destroyFilterChangedListener)||void 0===t||t.call(this));const r=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();s&&r?s.then(a=>{var l;(!a||(null===(l=this.userCompDetails)||void 0===l?void 0:l.componentClass)!==r.componentClass)&&this.updateCompDetails(r,o)}):this.updateCompDetails(r,o)}updateCompDetails(e,t){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}}$w([f("filterManager")],km.prototype,"filterManager",void 0),$w([f("columnHoverService")],km.prototype,"columnHoverService",void 0),$w([f("menuFactory")],km.prototype,"menuFactory",void 0);var Kw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Gm extends T{constructor(e,t,i,o,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=o,this.ctrl=r}postConstruct(){const e=this.column.getColDef(),t=[];let i,o;const r=()=>{if(_e(this.eResize,i),!i)return;const l=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(l),o){const c=this.gridOptionsService.is("skipHeaderOnAutoSize"),d=()=>{this.columnModel.autoSizeColumn(this.column,c,"uiColumnResized")};this.eResize.addEventListener("dblclick",d);const u=new on(this.eResize);u.addEventListener(on.EVENT_DOUBLE_TAP,d),this.addDestroyFunc(()=>{this.eResize.removeEventListener("dblclick",d),u.removeEventListener(on.EVENT_DOUBLE_TAP,d),u.destroy()})}},s=()=>{t.forEach(l=>l()),t.length=0},a=()=>{const l=this.column.isResizable(),c=!this.gridOptionsService.is("suppressAutoSize")&&!e.suppressAutoSize;(l!==i||c!==o)&&(i=l,o=c,s(),r())};a(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(a)}onResizing(e,t){const i=this.normaliseResizeAmount(t);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+i}],this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(e){let t=e;const i="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?i&&(t*=-1):o&&(t*=-1),t}}Kw([f("horizontalResizeService")],Gm.prototype,"horizontalResizeService",void 0),Kw([f("columnModel")],Gm.prototype,"columnModel",void 0),Kw([P],Gm.prototype,"postConstruct",null);var Vm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class ku extends T{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e;const t=e.getColDef();this.filteredOnly=!!t?.headerCheckboxSelectionFilteredOnly,this.currentPageOnly=!!t?.headerCheckboxSelectionCurrentPageOnly}onSpaceKeyDown(e){const t=this.cbSelectAll,i=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(i.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Jr),this.cbSelectAll.addCssClass("ag-header-select-all"),$t(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Jr.EVENT_CHANGED,this.onCbSelectAll.bind(this)),fm(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${o} (${i})`:null),this.cbSelectAll.setInputAriaLabel(`${o} (${i})`),this.headerCellCtrl.refreshAriaDescription()}checkRightRowModelType(e){const t=this.rowModel.getType();return"clientSide"===t||"serverSide"===t||(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue();let t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");const i={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!e&&this.checkRightRowModelType("headerCheckboxSelection")}}Vm([f("gridApi")],ku.prototype,"gridApi",void 0),Vm([f("columnApi")],ku.prototype,"columnApi",void 0),Vm([f("rowModel")],ku.prototype,"rowModel",void 0),Vm([f("selectionService")],ku.prototype,"selectionService",void 0);var Dr=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Uo extends ua{constructor(e,t){super(e,t),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,o){super.setGui(t),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Gm(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new Lu([this.column],t)),this.createManagedBean(new Lm(this.column,t,this.beans)),this.createManagedBean(new Vo(t,{shouldStopEventPropagation:r=>this.shouldStopEventPropagation(r),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,Ve.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){const e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:i=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,i)},progressSort:i=>{this.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,o)=>{this.sortController.setSortForColumn(this.column,i,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new ku(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===x.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===x.ENTER&&this.onEnterKeyDown(e)}onEnterKeyDown(e){const t=this.comp.getUserCompInstance();t&&(e.ctrlKey||e.metaKey?this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}isMenuEnabled(){return this.menuEnabled}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const t=this.createManagedBean(new Lw({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},this.beans));t.setComp(this.comp),this.refreshFunctions.push(()=>t.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=cL.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),o=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{o.has(r)?o.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),o.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:st.HeaderCell,eElement:e,defaultIconName:t?De.ICON_HIDE:De.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>this.column.setMoving(!0,"uiColumnMoved"),onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:i=>{var o;if(t){const r=(null===(o=i?.columns)||void 0===o?void 0:o.filter(s=>!s.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(r,!0,"uiColumnMoved")}},onGridExit:i=>{var o;if(t){const r=(null===(o=i?.columns)||void 0===o?void 0:o.filter(s=>!s.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(r,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!(!t||!t.refresh)&&t.refresh(e)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,Ve.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Ve.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Ve.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,Ve.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,columnModel:o,gridOptionsService:r}=this;if(!t.isSpanHeaderHeight())return;const{numberOfParents:s,isSpanningTotal:a}=this.getColumnGroupPaddingInfo();if(i.addOrRemoveCssClass("ag-header-span-height",s>0),0===s)return;i.addOrRemoveCssClass("ag-header-span-total",a);const c=r.is("pivotMode")?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight(),d=o.getColumnHeaderRowHeight(),u=s*c;e.style.setProperty("top",-u+"px"),e.style.setProperty("height",`${d+u}px`)}getColumnGroupPaddingInfo(){let e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}setupAutoHeight(e){const t=l=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:d,borderBottomWidth:u,borderTopWidth:h}=Js(this.getGui()),m=e.offsetHeight+(c+d+u+h);if(l<5){const C=this.beans.gridOptionsService.getDocument();if(!C||!C.contains(e)||0==m)return void this.beans.frameworkOverrides.setTimeout(()=>t(l+1),0)}this.columnModel.setColumnHeaderHeight(this.column,m)};let o,i=!1;const r=()=>{const l=this.column.isAutoHeaderHeight();l&&!i&&s(),!l&&i&&a()},s=()=>{i=!0,t(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),o=this.resizeObserverService.observeResize(e,()=>t(0))},a=()=>{i=!1,o&&o(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),o=void 0};r(),this.addDestroyFunc(()=>a()),this.addManagedListener(this.column,Ve.EVENT_WIDTH_CHANGED,()=>i&&t(0)),this.addManagedListener(this.eventService,Ve.EVENT_SORT_CHANGED,()=>{i&&this.beans.frameworkOverrides.setTimeout(()=>t(0))}),this.addRefreshFunction(r)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(WP(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}refreshAriaDescription(){const e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupFilterCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,Ve.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupColId(){this.comp.setColId(this.column.getColId())}addActiveHeaderMouseListeners(){const e=t=>this.setActiveHeader("mouseenter"===t.type);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}}Dr([f("columnModel")],Uo.prototype,"columnModel",void 0),Dr([f("columnHoverService")],Uo.prototype,"columnHoverService",void 0),Dr([f("sortController")],Uo.prototype,"sortController",void 0),Dr([f("menuFactory")],Uo.prototype,"menuFactory",void 0),Dr([f("dragAndDropService")],Uo.prototype,"dragAndDropService",void 0),Dr([f("resizeObserverService")],Uo.prototype,"resizeObserverService",void 0),Dr([f("gridApi")],Uo.prototype,"gridApi",void 0),Dr([f("columnApi")],Uo.prototype,"columnApi",void 0),Dr([zt],Uo.prototype,"removeDragSource",null);var Hm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Gu extends T{constructor(e,t,i,o){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=o}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){const t=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnModel.autoSizeColumns({columns:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){this.calculateInitialValues();let t=null;if(e&&(t=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),t){const i=t.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(o=>o.isResizable()),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(o=>this.resizeTakeFromStartWidth+=o.getActualWidth()),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(o=>this.resizeTakeFromRatios.push(o.getActualWidth()/this.resizeTakeFromStartWidth))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(e,t,i="uiColumnResized"){const o=this.normaliseDragChange(t);this.resizeColumns(this.resizeStartWidth+o,i,e)}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,e,!0)}resizeColumns(e,t,i=!0){const o=[];o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:o,finished:i,source:t}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter(t=>t.isResizable()),this.resizeStartWidth=0,this.resizeCols.forEach(t=>this.resizeStartWidth+=t.getActualWidth()),this.resizeRatios=[],this.resizeCols.forEach(t=>this.resizeRatios.push(t.getActualWidth()/this.resizeStartWidth))}normaliseDragChange(e){let t=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}}Hm([f("horizontalResizeService")],Gu.prototype,"horizontalResizeService",void 0),Hm([f("autoWidthCalculator")],Gu.prototype,"autoWidthCalculator",void 0),Hm([f("columnModel")],Gu.prototype,"columnModel",void 0),Hm([P],Gu.prototype,"postConstruct",null);class hL extends T{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Si.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],hL.prototype,"postConstruct",null);var Bm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Vu extends ua{constructor(e,t){super(e,t),this.columnGroup=e}setComp(e,t,i){super.setGui(t),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const o=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Lu(r,t)),this.createManagedBean(new Lm(this.columnGroup,t,this.beans)),this.createManagedBean(new hL(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Gu(e,i,o,this.columnGroup)),this.createManagedBean(new Vo(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.displayName;const t={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:o=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),o,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){let o=this.columnGroup;const r=o.getLeafColumns();for(;o.getParent()&&o.getParent().getLeafColumns().length===r.length;)o=o.getParent();const s=o.getColGroupDef();s&&(e=s.headerName),e||(e=r?this.columnModel.getDisplayNameForColumn(r[0],"header",!0):"")}const i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}setupTooltip(){const e=this.columnGroup.getColGroupDef(),t={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>e&&e.headerTooltip};e&&(t.getColDef=()=>e),this.createManagedBean(new Lw(t,this.beans)).setComp(this.comp)}setupExpandable(){const e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,pt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,pt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.columnGroup;this.expandable=e.isExpandable();const t=e.isExpanded();this.comp.setAriaExpanded(this.expandable?t?"true":"false":void 0)}addAttributes(){this.comp.setColId(this.columnGroup.getUniqueId())}addClasses(){const e=this.columnGroup.getColGroupDef(),t=cL.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(t.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(o=>o.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(){const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());t.forEach(o=>{this.addManagedListener(o,Ve.EVENT_MOVING_CHANGED,i)}),i()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===x.ENTER){const i=this.columnGroup,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}}setDragSource(e){if(this.isSuppressMoving())return;const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),o={type:st.HeaderCell,eElement:e,defaultIconName:i?De.ICON_HIDE:De.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>t.forEach(r=>r.setMoving(!0,"uiColumnDragged")),onDragStopped:()=>t.forEach(r=>r.setMoving(!1,"uiColumnDragged")),onGridEnter:r=>{var s;if(i){const a=(null===(s=r?.columns)||void 0===s?void 0:s.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:r=>{var s;if(i){const a=(null===(s=r?.columns)||void 0===s?void 0:s.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(o))}getDragItemForGroup(){const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach(o=>t[o.getId()]=o.isVisible());const i=[];return this.columnModel.getAllDisplayedColumns().forEach(o=>{e.indexOf(o)>=0&&(i.push(o),di(e,o))}),e.forEach(o=>i.push(o)),{columns:i,visibleState:t}}isSuppressMoving(){let e=!1;return this.columnGroup.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")}}Bm([f("columnModel")],Vu.prototype,"columnModel",void 0),Bm([f("dragAndDropService")],Vu.prototype,"dragAndDropService",void 0),Bm([f("gridApi")],Vu.prototype,"gridApi",void 0),Bm([f("columnApi")],Vu.prototype,"columnApi",void 0);var pL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let KQ=0;class Hu extends T{constructor(e,t,i){super(),this.instanceId=KQ++,this.headerCellCtrls={},this.rowIndex=e,this.pinned=t,this.type=i}getInstanceId(){return this.instanceId}setComp(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),io()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)}addEventListeners(){this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){return Ll(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){let e=this.columnModel.getHeaderRowCount();const t=[];let i=0;this.columnModel.hasFloatingFilters()&&(e++,i=1);const o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),a=e-(1+i);for(let d=0;d<a;d++)t.push(o);t.push(r);for(let d=0;d<i;d++)t.push(this.columnModel.getFloatingFiltersHeight());let l=0;for(let d=0;d<this.rowIndex;d++)l+=t[d];const c=t[this.rowIndex]+"px";this.comp.setTop(l+"px"),this.comp.setHeight(c)}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){const e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(r=>{if(r.isEmptyGroup())return;const s=r.getUniqueId();let a=e[s];if(delete e[s],a&&a.getColumnGroupChild()!=r&&(this.destroyBean(a),a=void 0),null==a)switch(this.type){case Et.FLOATING_FILTER:a=this.createBean(new km(r,this));break;case Et.COLUMN_GROUP:a=this.createBean(new Vu(r,this));break;default:a=this.createBean(new Uo(r,this))}this.headerCellCtrls[s]=a});const i=r=>!!this.focusService.isHeaderWrapperFocused(r)&&this.columnModel.isDisplayed(r.getColumnGroupChild());it(e,(r,s)=>{i(s)?this.headerCellCtrls[r]=s:this.destroyBean(s)});const o=Po(this.headerCellCtrls);this.comp.setHeaderCtrls(o)}getColumnsInViewport(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth();return["left",null,"right"].forEach(i=>{const o=this.columnModel.getVirtualHeaderGroupRow(i,t);e=e.concat(o)}),e}getActualDepth(){return this.type==Et.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){const o=Po(this.headerCellCtrls).find(r=>r.getColumnGroupChild()==e);return!!o&&(o.focus(t),!0)}destroy(){it(this.headerCellCtrls,(e,t)=>{this.destroyBean(t)}),this.headerCellCtrls={},super.destroy()}}pL([f("columnModel")],Hu.prototype,"columnModel",void 0),pL([f("focusService")],Hu.prototype,"focusService",void 0);var Bu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class nc extends T{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new ic(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new zl,i=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let c=0;c<l;c++){const d=this.createBean(new Hu(t.next(),this.pinned,Et.COLUMN_GROUP));this.groupsRowCtrls.push(d)}})(),(()=>{const l=t.next(),c=!(this.hidden||null!=this.columnsRowCtrl&&e&&this.columnsRowCtrl.getRowIndex()===l);(c||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),c&&(this.columnsRowCtrl=this.createBean(new Hu(l,this.pinned,Et.COLUMN)))})(),(()=>{this.includeFloatingFilter=this.columnModel.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void l();const c=t.next();if(this.filtersRowCtrl){const d=this.filtersRowCtrl.getRowIndex()!==c;(!e||d)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Hu(c,this.pinned,Et.FLOATING_FILTER)))})();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(i)}restoreFocusOnHeader(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.columnModel.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new Xl(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const i=()=>{const o=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==o)return;const r=0==o,s=this.hidden!==r,a=this.gridOptionsService.is("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),d=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&t)?o+l:o;this.comp.setPinnedContainerWidth(`${d}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}getHeaderCtrlForColumn(e){if(e instanceof Ve)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return!!r&&r.focusHeader(t,i)}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}}Bu([f("ctrlsService")],nc.prototype,"ctrlsService",void 0),Bu([f("scrollVisibleService")],nc.prototype,"scrollVisibleService",void 0),Bu([f("pinnedWidthService")],nc.prototype,"pinnedWidthService",void 0),Bu([f("columnModel")],nc.prototype,"columnModel",void 0),Bu([f("focusService")],nc.prototype,"focusService",void 0);var qw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let oc=(()=>{class n extends ae{constructor(t){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=t}init(){this.selectAndSetTemplate();const t={setDisplayed:o=>this.setDisplayed(o),setCtrls:o=>this.setCtrls(o),setCenterWidth:o=>this.eCenterContainer.style.width=o,setViewportScrollLeft:o=>this.getGui().scrollLeft=o,setPinnedContainerWidth:o=>{const r=this.getGui();r.style.width=o,r.style.maxWidth=o,r.style.minWidth=o}};this.createManagedBean(new nc(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?n.PINNED_LEFT_TEMPLATE:"right"==this.pinned?n.PINNED_RIGHT_TEMPLATE:n.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const i=this.headerRowComps;let o;this.headerRowComps={},this.rowCompsList=[];const r=s=>{const a=s.getGui();a.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(a),o&&lw(this.eRowContainer,a,o),o=a};t.forEach(s=>{const a=s.getInstanceId(),l=i[a];delete i[a];const c=l||this.createBean(new Ww(s));this.headerRowComps[a]=c,this.rowCompsList.push(c),r(c)}),Po(i).forEach(s=>this.destroyRowComp(s))}}return n.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',n.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',n.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',n})();qw([N("eCenterContainer")],oc.prototype,"eCenterContainer",void 0),qw([P],oc.prototype,"init",null),qw([zt],oc.prototype,"destroyRowComps",null);var ju=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Ht=(()=>((Ht=Ht||{})[Ht.UP=0]="UP",Ht[Ht.DOWN=1]="DOWN",Ht[Ht.LEFT=2]="LEFT",Ht[Ht.RIGHT=3]="RIGHT",Ht))();let ha=class extends T{postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:o,column:r}=t,s=this.getHeaderRowCount(),a=e===Ht.UP;let{nextRow:l,nextFocusColumn:c}=a?this.headerPositionUtils.getColumnVisibleParent(r,o):this.headerPositionUtils.getColumnVisibleChild(r,o),d=!1;return l<0&&(l=0,c=r,d=!0),l>=s&&(l=-1),!(!d&&!c)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:c},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){const o=this.focusService.getFocusedHeader();let a,l;return e===Ht.LEFT!==this.gridOptionsService.is("enableRtl")?(l="Before",a=this.headerPositionUtils.findHeader(o,l)):(l="After",a=this.headerPositionUtils.findHeader(o,l)),a||!t?this.focusService.focusHeaderPosition({headerPosition:a,direction:l,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,l,i)}focusNextHeaderRow(e,t,i){const o=e.headerRowIndex;let s,r=null;return"Before"===t?o>0&&(s=o-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),this.focusService.focusHeaderPosition({headerPosition:r,direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(e instanceof Si){const o=e.getDisplayedLeafColumns();i="Before"===t?He(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}};ju([f("focusService")],ha.prototype,"focusService",void 0),ju([f("headerPositionUtils")],ha.prototype,"headerPositionUtils",void 0),ju([f("ctrlsService")],ha.prototype,"ctrlsService",void 0),ju([P],ha.prototype,"postConstruct",null),ha=ju([G("headerNavigationService")],ha);var jm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Uu extends T{setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new Vo(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let o,t=0,i=e.getHeaderRowCount();e.hasFloatingFilters()&&(i++,t=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),c=i-(1+t);o=t*e.getFloatingFiltersHeight(),o+=c*s,o+=a,this.headerHeight!==o&&(this.headerHeight=o,this.comp.setHeightAndMinHeight(`${o+1}px`),this.eventService.dispatchEvent({type:v.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==t?Ht.LEFT:Ht.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case x.LEFT:t=Ht.LEFT;case x.RIGHT:D(t)||(t=Ht.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case x.UP:t=Ht.UP;case x.DOWN:D(t)||(t=Ht.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:i}=e;!i&&this.eGui.contains(t.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()}}jm([f("headerNavigationService")],Uu.prototype,"headerNavigationService",void 0),jm([f("focusService")],Uu.prototype,"focusService",void 0),jm([f("columnModel")],Uu.prototype,"columnModel",void 0),jm([f("ctrlsService")],Uu.prototype,"ctrlsService",void 0);let fL=(()=>{class n extends ae{constructor(){super(n.TEMPLATE)}postConstruct(){const t={addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setHeightAndMinHeight:r=>{this.getGui().style.height=r,this.getGui().style.minHeight=r}};this.createManagedBean(new Uu).setComp(t,this.getGui(),this.getFocusableElement());const o=r=>{this.createManagedBean(r),this.appendChild(r)};o(new oc("left")),o(new oc(null)),o(new oc("right"))}}return n.TEMPLATE='<div class="ag-header" role="presentation"/>',n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],fL.prototype,"postConstruct",null);var Yw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Wu=class extends T{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(t,!0),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};Yw([f("dragService")],Wu.prototype,"dragService",void 0),Yw([f("ctrlsService")],Wu.prototype,"ctrlsService",void 0),Wu=Yw([G("horizontalResizeService")],Wu);var zu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let pa=class extends T{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t){this.showPopup(e,i=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:i})},"columnMenu",t.target)}showMenuAfterButtonClick(e,t,i){this.showPopup(e,o=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:o,keepWithinBounds:!0,position:"under",column:e})},i,t)}showPopup(e,t,i,o){const r=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");let a;$t(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",p=>this.trapFocusWithin(p,s)),r.guiPromise.then(p=>s.appendChild(p));const c=o||this.ctrlsService.getGridBodyCtrl().getGui(),u=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:p=>{e.setMenuVisible(!1,"contextMenu");const g=p instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),g&&o&&Wl(o)){const m=this.focusService.findTabbableParent(o);m&&m.focus()}(()=>{var p;null===(p=r.filterPromise)||void 0===p||p.then(g=>{var m;return null===(m=g?.afterGuiDetached)||void 0===m?void 0:m.call(g)})})()},positionCallback:()=>t(s),anchorToElement:c,ariaLabel:u("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=a=h.hideFunc),r.filterPromise.then(p=>{t(s),p.afterGuiAttached&&p.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu")}trapFocusWithin(e,t){e.key!==x.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}isMenuEnabled(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};zu([f("filterManager")],pa.prototype,"filterManager",void 0),zu([f("popupService")],pa.prototype,"popupService",void 0),zu([f("focusService")],pa.prototype,"focusService",void 0),zu([f("ctrlsService")],pa.prototype,"ctrlsService",void 0),pa=zu([G("menuFactory")],pa);var Um=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class rc extends ae{constructor(e){super(rc.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e,e.items&&e.items.forEach(t=>this.addItem(t))}postConstruct(){this.createManagedBean(new Vo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(()=>{var e,t,i;return null===(i=null===(t=null===(e=this.activeItem)||void 0===e?void 0:e.tabbedItem)||void 0===t?void 0:t.afterDetachedCallback)||void 0===i?void 0:i.call(t)})}static getTemplate(e){return`<div class="ag-tabs ${e}">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ${e?`${e}-header`:""}"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>\n        </div>`}handleKeyDown(e){const t=this.gridOptionsService.getDocument();switch(e.key){case x.RIGHT:case x.LEFT:if(!this.eHeader.contains(t.activeElement))return;const i=e.key===x.RIGHT,o=this.gridOptionsService.is("enableRtl"),r=this.items.indexOf(this.activeItem),s=i!==o?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===s)return;e.preventDefault();const a=this.items[s];this.showItemWrapper(a),a.eHeaderButton.focus();break;case x.UP:case x.DOWN:e.stopPropagation()}}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,eHeader:i,eBody:o,activeItem:r}=this,a=this.gridOptionsService.getDocument().activeElement,l=e.target;if(e.preventDefault(),i.contains(a))return void t.focusInto(o,e.shiftKey);let c=null;t.isTargetUnderManagedComponent(o,l)&&(e.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(o,l)),c||(c=r.eHeaderButton)),!c&&o.contains(a)&&(c=t.findNextFocusableElement(o,!1,e.shiftKey),c||(c=r.eHeaderButton)),c&&c.focus()}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=document.createElement("span");$t(t,"tab"),t.setAttribute("tabIndex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),Qr(t,e.titleLabel);const i={tabbedItem:e,eHeaderButton:t};this.items.push(i),t.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(e){const t=this.items.find(i=>i.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,i;const{tabbedItem:o,eHeaderButton:r}=e;this.params.onItemClicked&&this.params.onItemClicked({item:o}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),nn(this.eBody),o.bodyPromise.then(s=>{this.eBody.appendChild(s);const a=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,a),o.afterAttachedCallback&&o.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const l=o.getScrollableContainer&&o.getScrollableContainer()||s;this.lastScrollListener=this.addManagedListener(l,"scroll",()=>{this.tabbedItemScrollMap.set(o.name,l.scrollTop)});const c=this.tabbedItemScrollMap.get(o.name);void 0!==c&&setTimeout(()=>{l.scrollTop=c},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(i=(t=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===i||i.call(t)),r.classList.add("ag-tab-selected"),this.activeItem=e):xP(this.params.onActiveItemClicked)}}Um([f("focusService")],rc.prototype,"focusService",void 0),Um([N("eHeader")],rc.prototype,"eHeader",void 0),Um([N("eBody")],rc.prototype,"eBody",void 0),Um([P],rc.prototype,"postConstruct",null);let Qw=class extends T{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const i=this.gridOptionsService.getWindow(),s=this.gridOptionsService.is("suppressBrowserResizeObserver");return i.ResizeObserver&&!s?(()=>{const l=new i.ResizeObserver(t);return l.observe(e),()=>l.disconnect()})():(()=>{let l=aw(e),c=sw(e),d=!0;const u=()=>{if(d){const h=aw(e),p=sw(e);(h!==l||p!==c)&&(l=h,c=p,t()),this.doNextPolyfillTurn(u)}};return u(),()=>d=!1})()}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(i=>i())},50))}};Qw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("resizeObserverService")],Qw);var Wm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let sc=class extends T{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const o={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,o)=>i.index!==o.index?t*(o.index-i.index):o.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,o=this.createTasksP2,r=o.list,s=this.destroyTasks,a=(new Date).getTime();let l=(new Date).getTime()-a;const c=e<=0,d=this.ctrlsService.getGridBodyCtrl();for(;c||l<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){let h;if(i.length)this.sortTaskList(t),h=i.pop().task;else if(r.length)this.sortTaskList(o),h=r.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}h=s.pop()}this.cancelledTasks.has(h)||h()}l=(new Date).getTime()-a}i.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask(()=>{t=!1,e()})):this.getFrameworkOverrides().setTimeout(e,0)}}};Wm([f("ctrlsService")],sc.prototype,"ctrlsService",void 0),Wm([f("paginationProxy")],sc.prototype,"paginationProxy",void 0),Wm([P],sc.prototype,"init",null),sc=Wm([G("animationFrameService")],sc);var $u=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let fa=class extends T{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const o=this.rowRenderer.getAllCellsForColumn(e);return t||o.push(i),this.addElementsToContainerAndGetWidth(o)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();i.appendChild(t),e.forEach(s=>this.cloneItemIntoDummy(s,t));const o=t.offsetWidth;return i.removeChild(t),o+this.getAutoSizePadding()}getAutoSizePadding(){const e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const o=i.getHtmlElementForColumnHeader(e);null!=o&&(t=o)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const o=document.createElement("div"),r=o.classList;["ag-header-cell","ag-header-group-cell"].some(l=>i.classList.contains(l))?(r.add("ag-header","ag-header-row"),o.style.position="static"):r.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(c=>a.classList.contains(c))){for(let c=0;c<a.classList.length;c++){const d=a.classList[c];"ag-row-position-absolute"!=d&&r.add(d)}break}a=a.parentElement}o.appendChild(i),t.appendChild(o)}};$u([f("rowRenderer")],fa.prototype,"rowRenderer",void 0),$u([f("ctrlsService")],fa.prototype,"ctrlsService",void 0),$u([f("rowCssClassCalculator")],fa.prototype,"rowCssClassCalculator",void 0),$u([P],fa.prototype,"postConstruct",null),fa=$u([G("autoWidthCalculator")],fa);var zm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Ku extends T{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return void this.refreshNodesAndContainerHeight([],e);const t=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),o=r=>{var s,a,l;let c;if(t.push(r),this.isClientSide){let u=r;for(;u.expanded;)if(u.master)u=u.detailNode;else if(u.childrenAfterSort){if(0===u.childrenAfterSort.length)break;u=He(u.childrenAfterSort)}c=u.rowTop+u.rowHeight}else if(r.master)c=r.detailNode.rowTop+r.detailNode.rowHeight;else{const u=null===(s=r.childStore)||void 0===s?void 0:s.getStoreBounds();c=(null!==(a=u?.heightPx)&&void 0!==a?a:0)+(null!==(l=u?.topPx)&&void 0!==l?l:0)}const d=i+e+r.rowHeight;r.stickyRowTop=c<d?e+(c-d):e,e=0,t.forEach(u=>{const h=u.stickyRowTop+u.rowHeight;e<h&&(e=h)})};for(;;){const r=i+e,s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s);if(null==a||a.level<0)break;const l=[];let c=a.parent;for(;c.level>=0;)l.push(c),c=c.parent;const d=l.reverse().find(u=>t.indexOf(u)<0&&u.displayed);if(d)o(d);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<r))break;o(a)}}this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let i=0;i<this.stickyRowCtrls.length;i++){const o=this.stickyRowCtrls[i].getRowNode();o!==e&&t.push(o)}this.refreshNodesAndContainerHeight(t,this.containerHeight),this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){const i=this.stickyRowCtrls.filter(a=>-1===e.indexOf(a.getRowNode())),o=e.filter(a=>-1===this.stickyRowCtrls.findIndex(l=>l.getRowNode()===a)),r={};i.forEach(a=>{r[a.getRowNode().id]=a,this.stickyRowCtrls=this.stickyRowCtrls.filter(l=>l!==a)});for(const a of Object.values(r))a.getRowNode().sticky=!1;this.destroyRowCtrls(r,!1);const s=o.map(a=>(a.sticky=!0,this.createRowCon(a,!1,!1)));this.stickyRowCtrls.push(...s),this.stickyRowCtrls.forEach(a=>a.setRowTop(a.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t))}}zm([f("rowModel")],Ku.prototype,"rowModel",void 0),zm([f("rowRenderer")],Ku.prototype,"rowRenderer",void 0),zm([f("ctrlsService")],Ku.prototype,"ctrlsService",void 0),zm([P],Ku.prototype,"postConstruct",null);var uo=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let dn=class extends T{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new Ku(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new XQ(e??3)}}getKeepDetailRowsCount(){const e=this.gridOptionsService.getNum("keepDetailRowsCount");return D(e)&&e>0?e:10}getRowCtrls(){return this.allRowCtrls}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Po(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(t||i)&&e.sort((s,a)=>s.getRowNode().rowIndex-a.getRowNode.rowIndex);const o=Po(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=[...e,...o,...r]}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,v.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(i=>i.onFlashCells(t))}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,v.EVENT_RANGE_SELECTION_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRangeSelectionChanged())}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.columnModel.getAllGridColumns();e&&e.forEach(t=>{const i=c=>{this.getAllCellCtrls().forEach(d=>{d.getColumn()===t&&c(d)})},o=()=>{i(c=>c.onLeftChanged())},r=()=>{i(c=>c.onWidthChanged())},s=()=>{i(c=>c.onFirstRightPinnedChanged())},a=()=>{i(c=>c.onLastLeftPinnedChanged())},l=()=>{i(c=>c.onColDefChanged())};t.addEventListener("leftChanged",o),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",o),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const o=i.getCellElement(e);o&&t.push(o)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(i=>{i.destroyFirstPass(),i.destroySecondPass()}),e.length=0,t&&t.forEach(i=>{const o=new ca(i,this.beans,!1,!1,this.printLayout);e.push(o)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}getRenderedIndexesForRowNodes(e){const t=[];return q(e)||it(this.rowCtrlsByRowIndex,(i,o)=>{const r=o.getRowNode();e.indexOf(r)>=0&&t.push(i)}),t}redrawRows(e){const t=null!=e&&e.length>0;if(t){const i=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:t})}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const o=this.gridOptionsService.getDocument().activeElement,r=this.gridOptionsService.getDomData(o,la.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,ca.DOM_DATA_KEY_ROW_CTRL);return r||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),r=i?this.recycleRows():null;i||this.removeAllRowComps(),this.redraw(r,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");t&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let o=0;o<i;o++){const r=t[o].getAllCellCtrls(),s=r.length;for(let a=0;a<s;a++)e.push(r[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const i of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[i]);return t}addRenderedRowListener(e,t,i){const o=this.rowCtrlsByRowIndex[t];o&&o.addEventListener(e,i)}flashCells(e={}){const{flashDelay:t,fadeDelay:i}=e;this.getCellCtrls(e.rowNodes,e.columns).forEach(o=>o.flashCell({flashDelay:t,fadeDelay:i}))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{if(i.refreshShouldDestroy()){const o=i.getRowCtrl();o&&o.refreshCell(i)}else i.refreshCell(t)}),this.refreshFullWidthRows(e.rowNodes)}getCellRendererInstances(e){var t;const i=this.getCellCtrls(e.rowNodes,e.columns).map(s=>s.getCellRenderer()).filter(s=>null!=s);if(null!==(t=e.columns)&&void 0!==t&&t.length)return i;const o=[],r=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(r&&!this.isRowInMap(s.getRowNode(),r)||!s.isFullWidth())return;const a=s.getFullWidthCellRenderer();a&&o.push(a)}),[...o,...i]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const o=i.getCellEditor();o&&t.push(o)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const o=i.id;"top"===i.rowPinned?t.top[o]=i:"bottom"===i.rowPinned?t.bottom[o]=i:t.normal[o]=i}),t}isRowInMap(e,t){const i=e.id,o=e.rowPinned;return"bottom"===o?null!=t.bottom[i]:"top"===o?null!=t.top[i]:null!=t.normal[i]}getCellCtrls(e,t){const i=this.mapRowNodes(e),o=[];let r;D(t)&&(r={},t.forEach(a=>{const l=this.columnModel.getGridColumn(a);D(l)&&(r[l.getId()]=!0)}));const s=a=>{const l=a.getRowNode();null!=i&&!this.isRowInMap(l,i)||a.getAllCellCtrls().forEach(c=>{const d=c.getColumn().getId();r&&!r[d]||o.push(c)})};return this.getAllRowCtrls().forEach(a=>s(a)),o}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}recycleRows(){const e=[];it(this.rowCtrlsByRowIndex,(i,o)=>{null==o.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);const t={};return it(this.rowCtrlsByRowIndex,(i,o)=>{const r=o.getRowNode();t[r.id]=o}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){e.forEach(t=>{const i=this.rowCtrlsByRowIndex[t];i&&(i.destroyFirstPass(),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[t]})}onBodyScroll(e){"vertical"===e.direction&&this.redrawAfterScroll()}redrawAfterScroll(){let e;if(this.stickyRowFeature&&Cm()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(!0),null!=e){const t=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==t&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}}removeRowCompsNotToDraw(e){const t={};e.forEach(r=>t[r]=!0);const o=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!t[r]);this.removeRowCtrls(o)}calculateIndexesToDraw(e){let t=dN(this.firstRenderedRow,this.lastRenderedRow);const i=(o,r)=>{const s=r.getRowNode().rowIndex;null!=s&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(s)};return it(this.rowCtrlsByRowIndex,i),it(e,i),t.sort((o,r)=>o-r),t=t.filter(o=>{const r=this.paginationProxy.getRow(o);return r&&!r.sticky}),t}redraw(e,t=!1,i=!1){this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();const o=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(o),this.printLayout&&(t=!1),o.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,i)}),e&&(!i||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,t):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:v.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const o=i.getRowNode();return!(null!=t&&!this.isRowInMap(o,t))})}refreshFullWidthRow(e){this.refreshFullWidthRows([e])}refreshFullWidthRows(e){const t=this.getFullWidthRowCtrls(e);let i=!1;const o=[];t.forEach(r=>{if(r.refreshFullWidth())return;const a=r.getRowNode();a.sticky?this.stickyRowFeature.refreshStickyNode(a):o.push(a.rowIndex),i=!0}),o.length>0&&this.removeRowCtrls(o),i&&this.redrawAfterScroll()}createOrUpdateRowCtrl(e,t,i,o){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.paginationProxy.getRow(e),D(r)&&D(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s){if(r||(r=this.paginationProxy.getRow(e)),!D(r))return;s=this.createRowCon(r,i,o)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const i=[];it(e,(o,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable())return void this.cachedRowCtrls.addRow(r);r.destroyFirstPass(),t?(this.zombieRowCtrls[r.getInstanceId()]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[r.getInstanceId()]})):r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),wP(i))}getRowBuffer(){let e=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof e?e<0&&(xe(()=>console.warn("AG Grid: rowBuffer should not be negative"),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e}getRowBufferInPixels(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let e,t;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),d=this.gridOptionsService.is("suppressRowVirtualisation");let h,p,u=!1;do{const b=this.paginationProxy.getPixelOffset(),{pageFirstPixel:y,pageLastPixel:R}=this.paginationProxy.getCurrentPagePixelRange(),M=this.rowContainerHeightService.getDivStretchOffset(),V=c.getScrollFeature().getVScrollPosition(),$=V.top,Me=V.bottom;d?(h=y+M,p=R+M):(h=Math.max($+b-l,y)+M,p=Math.min(Me+b+l,R)+M),this.firstVisibleVPixel=Math.max($+b,y)+M,u=this.ensureAllRowsInRangeHaveHeightsCalculated(h,p)}while(u);let g=this.paginationProxy.getRowIndexAtPixel(h),m=this.paginationProxy.getRowIndexAtPixel(p);const C=this.paginationProxy.getPageFirstRow(),_=this.paginationProxy.getPageLastRow();g<C&&(g=C),m>_&&(m=_),e=g,t=m}else e=0,t=-1;const i=this.gridOptionsService.isDomLayout("normal"),o=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!o&&t-e>r&&(t=e+r),e===this.firstRenderedRow&&t===this.lastRenderedRow||(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:v.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:v.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const i=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return i&&this.updateContainerHeights(),i}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const o=e.getRowNode(),r=this.focusService.isRowNodeFocused(o),s=e.isEditing();return!!(r||s||o.detail)&&!!this.paginationProxy.isRowPresent(o)}createRowCon(e,t,i){const o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;const r=this.gridOptionsService.is("suppressAnimationFrame");return new ca(e,this.beans,t,i&&!r&&!this.printLayout,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(o=>o.getRowNode().rowIndex===i)||null)}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){return null!=e&&null!=t&&!(t<this.firstRenderedRow||e>this.lastRenderedRow)}};uo([f("animationFrameService")],dn.prototype,"animationFrameService",void 0),uo([f("paginationProxy")],dn.prototype,"paginationProxy",void 0),uo([f("columnModel")],dn.prototype,"columnModel",void 0),uo([f("pinnedRowModel")],dn.prototype,"pinnedRowModel",void 0),uo([f("rowModel")],dn.prototype,"rowModel",void 0),uo([f("focusService")],dn.prototype,"focusService",void 0),uo([f("beans")],dn.prototype,"beans",void 0),uo([f("rowContainerHeightService")],dn.prototype,"rowContainerHeightService",void 0),uo([f("ctrlsService")],dn.prototype,"ctrlsService",void 0),uo([P],dn.prototype,"postConstruct",null),dn=uo([G("rowRenderer")],dn);class XQ{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],di(this.entriesList,e)}getEntries(){return this.entriesList}}var mL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let $m=class extends T{formatValue(e,t,i,o,r=!0){let a,s=null;const l=e.getColDef();if(o?a=o:r&&(a=l.valueFormatter),a){const c={value:i,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s="function"==typeof a?a(c):this.expressionService.evaluate(a,c)}else if(l.refData)return l.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s}};mL([f("expressionService")],$m.prototype,"expressionService",void 0),$m=mL([G("valueFormatterService")],$m);var Zw=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let qu=class extends T{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(e){return en("top"===e?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const i="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(en(i))return 0;for(let o=0;o<i.length;o++){const r=i[o];if(r.rowTop+r.rowHeight-1>=e)return o}return i.length-1}setPinnedTopRowData(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:v.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:v.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(e,t){const i=[];if(e){let o=0;e.forEach((r,s)=>{const a=new me(this.beans);a.data=r,a.id=(t?me.ID_PREFIX_TOP_PINNED:me.ID_PREFIX_BOTTOM_PINNED)+s,a.rowPinned=t?"top":"bottom",a.setRowTop(o),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(s),o+=a.rowHeight,i.push(a)})}return i}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){en(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){en(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||0===e.length)return 0;const t=He(e);return t.rowTop+t.rowHeight}};Zw([f("beans")],qu.prototype,"beans",void 0),Zw([P],qu.prototype,"init",null),qu=Zw([G("pinnedRowModel")],qu);class Xw{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let o=0;o<e.childrenAfterGroup.length;o++){const r=e.childrenAfterGroup[o];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[o],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},i++,t=t.parent;return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(o=>this.nodeIdsToColumns[i.id][o.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let o=0;o<t;o++){const r=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}}let Jw=(()=>{class n extends T{constructor(t){super(),this.state=n.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=n.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=n.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=n.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,i){this.successCommon(t,i)}pageLoaded(t,i,o){this.successCommon(t,{rowData:i,rowCount:o})}isRequestMostRecentAndLive(t){const i=t===this.version,o=this.isAlive();return i&&o}successCommon(t,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=n.STATE_LOADED,this.processServerResult(i))}dispatchLoadCompleted(t=!0){this.dispatchEvent({type:n.EVENT_LOAD_COMPLETE,success:t,block:this})}}return n.EVENT_LOAD_COMPLETE="loadComplete",n.STATE_WAITING_TO_LOAD="needsLoading",n.STATE_LOADING="loading",n.STATE_LOADED="loaded",n.STATE_FAILED="failed",n})();var qm,Km=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ns=qm=class extends T{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=X.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener(Jw.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){X.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:qm.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:qm.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()===Jw.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:o}=t.getBlockStateJson();e[i]=o}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};ns.BLOCK_LOADED_EVENT="blockLoaded",ns.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Km([f("rowModel")],ns.prototype,"rowModel",void 0),Km([P],ns.prototype,"postConstruct",null),Km([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],ns.prototype,"setBeans",null),ns=qm=Km([G("rowNodeBlockLoader")],ns);var eS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Yu=class extends T{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,i,o){const r=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r}isPaginateChildRows(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows})}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})}goToPage(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:v.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return q(this.topRowBounds)||q(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),i=this.getPageLastRow();for(let o=t;o<=i;o++){const r=this.getRow(o);r&&e(r)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(D(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};eS([f("rowModel")],Yu.prototype,"rowModel",void 0),eS([P],Yu.prototype,"postConstruct",null),Yu=eS([G("paginationProxy")],Yu);var gL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Ym=class extends T{processAllCellClasses(e,t,i,o){this.processClassRules(e.cellClassRules,t,i,o),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,o){if(null==e)return;const r=Object.keys(e),s={},a={};for(let l=0;l<r.length;l++){const c=r[l],d=e[c];let u;"string"==typeof d?u=this.expressionService.evaluate(d,t):"function"==typeof d&&(u=d(t)),c.split(" ").forEach(h=>{null==h||""==h.trim()||(u?s[h]=!0:a[h]=!0)})}o&&Object.keys(a).forEach(o),Object.keys(s).forEach(i)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let o;return o="function"==typeof i?i(t):i,"string"==typeof o&&(o=[o]),o||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}};gL([f("expressionService")],Ym.prototype,"expressionService",void 0),Ym=gL([G("stylingService")],Ym);class eZ extends Jr{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}}class tZ extends so{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}class iZ extends ta{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=io();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}setMin(e){var t;const i=e instanceof Date?null!==(t=An(e??null,!1))&&void 0!==t?t:void 0:e;return this.min===i||(this.min=i,Xr(this.eInput,"min",i)),this}setMax(e){var t;const i=e instanceof Date?null!==(t=An(e??null,!1))&&void 0!==t?t:void 0:e;return this.max===i||(this.max=i,Xr(this.eInput,"max",i)),this}setStep(e){return this.step===e||(this.step=e,Xr(this.eInput,"step",e)),this}getDate(){var e;if(this.eInput.validity.valid)return null!==(e=no(this.getValue()))&&void 0!==e?e:void 0}setDate(e,t){this.setValue(An(e??null,!1),t)}}class nZ extends so{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:i}=this.config;null!=e&&this.setMinValue(e),null!=t&&this.setMaxValue(t),this.setStep(i||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{this.setValue(e.target.value)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());const i=super.setValue(e,t);return this.eInput.value=e,i}}var Qm=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Qu=(()=>{class n extends yw{constructor(t){super(t,n.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(t){const i=$l.EVENT_CHANGED;return this.addManagedListener(this.eText,i,()=>{const o=parseFloat(this.eText.getValue());this.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,i,()=>{const o=this.eSlider.getValue();this.eText.setValue(o,!0),t(parseFloat(o))}),this}setSliderWidth(t){return this.eSlider.setWidth(t),this}setTextFieldWidth(t){return this.eText.setWidth(t),this}setMinValue(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this}setMaxValue(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this}getValue(){return this.eText.getValue()}setValue(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:$l.EVENT_CHANGED})),this}setStep(t){return this.eSlider.setStep(t),this.eText.setStep(t),this}}return n.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',n})();Qm([N("eLabel")],Qu.prototype,"eLabel",void 0),Qm([N("eSlider")],Qu.prototype,"eSlider",void 0),Qm([N("eText")],Qu.prototype,"eText",void 0),Qm([P],Qu.prototype,"init",null);var os=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Rr=(()=>{class n extends ae{constructor(t={}){super(n.getTemplate(t)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title:i,enabled:o,items:r,suppressEnabledCheckbox:s,suppressOpenCloseIcons:a}=t;this.title=i,this.cssIdentifier=t.cssIdentifier||"default",this.enabled=o??!0,this.items=r||[],this.alignItems=t.alignItems||"center",null!=s&&(this.suppressEnabledCheckbox=s),null!=a&&(this.suppressOpenCloseIcons=a)}static getTemplate(t){const i=t.cssIdentifier||"default";return`<div class="ag-group ag-${i}-group" role="presentation">\n            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-${i}-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-${t.direction||"vertical"} ag-${i}-group-container"></div>\n        </div>`}postConstruct(){if(this.items.length){const i=this.items;this.items=[],this.addItems(i)}const t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(On("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(On("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",()=>this.toggleGroupExpand()),this.addManagedListener(this.eTitleBar,"keydown",t=>{switch(t.key){case x.ENTER:case x.SPACE:t.preventDefault(),this.toggleGroupExpand();break;case x.RIGHT:case x.LEFT:t.preventDefault(),this.toggleGroupExpand(t.key===x.RIGHT)}})}refreshAriaStatus(){this.suppressOpenCloseIcons||to(this.eTitleBar,this.expanded)}refreshChildDisplay(){const t=!this.suppressOpenCloseIcons;_e(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),_e(this.eGroupOpenedIcon,t&&this.expanded),_e(this.eGroupClosedIcon,t&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(t){return this.alignItems!==t&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=t,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),_e(this.eContainer,!0),this):(this.expanded===(t=t??!this.expanded)||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),_e(this.eContainer,t),this.dispatchEvent({type:this.expanded?n.EVENT_EXPANDED:n.EVENT_COLLAPSED})),this)}addItems(t){t.forEach(i=>this.addItem(i))}addItem(t){const i=this.eContainer,o=t instanceof ae?t.getGui():t;o.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),i.appendChild(o),this.items.push(o)}hideItem(t,i){_e(this.items[i],!t)}setTitle(t){return this.eTitle.innerText=t,this}addCssClassToTitleBar(t){this.eTitleBar.classList.add(t)}setEnabled(t,i){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),i||this.cbGroupEnabled.setValue(t),this}isEnabled(){return this.enabled}onEnableChange(t){return this.cbGroupEnabled.onValueChange(i=>{this.setEnabled(i,!0),t(i)}),this}hideEnabledCheckbox(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}}return n.EVENT_EXPANDED="expanded",n.EVENT_COLLAPSED="collapsed",n})();os([N("eTitleBar")],Rr.prototype,"eTitleBar",void 0),os([N("eGroupOpenedIcon")],Rr.prototype,"eGroupOpenedIcon",void 0),os([N("eGroupClosedIcon")],Rr.prototype,"eGroupClosedIcon",void 0),os([N("eToolbar")],Rr.prototype,"eToolbar",void 0),os([N("cbGroupEnabled")],Rr.prototype,"cbGroupEnabled",void 0),os([N("eTitle")],Rr.prototype,"eTitle",void 0),os([N("eContainer")],Rr.prototype,"eContainer",void 0),os([P],Rr.prototype,"postConstruct",null);var vL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},Wo=(()=>((Wo=Wo||{}).TAB_GUARD="ag-tab-guard",Wo.TAB_GUARD_TOP="ag-tab-guard-top",Wo.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",Wo))();class tS extends T{constructor(e){super(),this.skipTabGuardFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:o,focusInnerElement:r,onFocusIn:s,onFocusOut:a,shouldStopEventPropagation:l,onTabKeyDown:c,handleKeyDown:d,eFocusableElement:u}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=o,this.providedFocusInnerElement=r,this.eFocusableElement=u,this.providedFocusIn=s,this.providedFocusOut=a,this.providedShouldStopEventPropagation=l,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=d}postConstruct(){this.createManagedBean(new Vo(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){this.comp.setTabIndex(this.getGridTabIndex())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}onFocusIn(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()}onFocusOut(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}getGridTabIndex(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()}}vL([f("focusService")],tS.prototype,"focusService",void 0),vL([P],tS.prototype,"postConstruct",null);class Zm extends ae{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:o=>{t.forEach(r=>null!=o?r.setAttribute("tabIndex",o):r.removeAttribute("tabIndex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new tS({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))}createTabGuard(e){const t=document.createElement("div");return t.classList.add(Wo.TAB_GUARD,"top"===e?Wo.TAB_GUARD_TOP:Wo.TAB_GUARD_BOTTOM),$t(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];nn(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){gu(e)||(e=e.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}}var CL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class ma extends Zm{constructor(e=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}onTabKeyDown(e){const t=this.getParentComponent(),i=t&&t.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case x.UP:case x.RIGHT:case x.DOWN:case x.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case x.ESCAPE:const t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui())}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e?.forEach(t=>{"separator"===t?this.addSeparator():"string"==typeof t?console.warn(`AG Grid: unrecognised menu item ${t}`):this.addItem(t)})}addItem(e){const t=this.createManagedBean(new ga(Object.assign(Object.assign({},e),{isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen())})));t.setParentComponent(this),QP(t.getGui(),this.level),this.menuItems.push(t),this.appendChild(t.getGui()),this.addManagedListener(t,ga.EVENT_MENU_ITEM_SELECTED,i=>{this.dispatchEvent(i)}),this.addManagedListener(t,ga.EVENT_MENU_ITEM_ACTIVATED,i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem})}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}addSeparator(){this.appendChild(ei('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))}findTopMenu(){let e=this.getParentComponent();if(!e&&this instanceof ma)return this;for(;;){const t=e&&e.getParentComponent&&e.getParentComponent();if(!t||!(t instanceof ma||t instanceof ga))break;e=t}return e instanceof ma?e:void 0}handleNavKey(e){switch(e){case x.UP:case x.DOWN:const i=this.findNextItem(e===x.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsService.is("enableRtl")?x.RIGHT:x.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();t&&t instanceof ga&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(r=>!r.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?He(t):t[0];e&&t.reverse();let i,o=!1;for(let r=0;r<t.length;r++){const s=t[r];if(o){i=s;break}s===this.activeMenuItem&&(o=!0)}return i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}}CL([f("focusService")],ma.prototype,"focusService",void 0),CL([P],ma.prototype,"postConstruct",null);class bL extends Zm{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===x.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],bL.prototype,"postConstruct",null);var _L=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ga=(()=>{class n extends ae{constructor(t){super(),this.params=t,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Hy(t,!0)):(this.addGuiEventListener("click",i=>this.onItemSelected(i)),this.addGuiEventListener("keydown",i=>{(i.key===x.ENTER||i.key===x.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}),this.addGuiEventListener("mousedown",i=>{i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",()=>this.onMouseEnter()),this.addGuiEventListener("mouseleave",()=>this.onMouseLeave())),this.params.cssClasses&&this.params.cssClasses.forEach(i=>this.addCssClass(i))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const i=ei('<div class="ag-menu" role="presentation"></div>');let o;if(this.params.subMenu instanceof Array){const c=zP(this.getGui()),d=isNaN(c)?1:c+1,u=this.createBean(new ma(d));u.setParentComponent(this),u.addMenuItems(this.params.subMenu),i.appendChild(u.getGui()),this.addManagedListener(u,n.EVENT_MENU_ITEM_SELECTED,h=>this.dispatchEvent(h)),u.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),o=()=>this.destroyBean(u),t&&setTimeout(()=>u.activateFirstItem(),0)}else{const{subMenu:c}=this.params,d=this.createBean(new bL(c));d.setParentComponent(this);const u=d.getGui(),h="mouseenter",p=()=>this.cancelDeactivate();u.addEventListener(h,p),o=()=>u.removeEventListener(h,p),i.appendChild(u),c.afterGuiAttached&&setTimeout(()=>c.afterGuiAttached(),0)}const r=this.getGui(),s=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:r,ePopup:i}),a=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:s,anchorToElement:r,ariaLabel:a("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,to(r,!0),this.hideSubMenu=()=>{l&&l.hideFunc(),this.subMenuIsOpen=!1,to(r,!1),o()}}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,to(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(t){this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const t=ei(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?t.appendChild(wt("check",this.gridOptionsService)):this.params.icon&&(gu(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}addName(){if(!this.params.name&&this.params.isCompact)return;const t=ei(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(t)}addTooltip(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new yr(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const t=ei(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(t)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const t=ei(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),i=this.getGui();if(this.params.subMenu){const o=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";to(i,!1),t.appendChild(wt(o,this.gridOptionsService))}i.appendChild(t)}onItemSelected(t){this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:n.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t})}onItemActivated(){this.dispatchEvent({type:n.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),n.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),n.ACTIVATION_DELAY):this.deactivate()}getClassName(t){const i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?`${i}-${t}`:i}}return n.EVENT_MENU_ITEM_SELECTED="menuItemSelected",n.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",n.ACTIVATION_DELAY=80,n})();_L([f("popupService")],ga.prototype,"popupService",void 0),_L([P],ga.prototype,"init",null);var Zu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let va=(()=>{class n extends ae{constructor(t){super(n.getTemplate(t)),this.closable=!0,this.config=t}static getTemplate(t){const i=t&&t.cssIdentifier||"default";return`<div class="ag-panel ag-${i}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${i}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${i}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${i}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${i}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:t,closable:i,hideTitleBar:o,title:r,minWidth:s=250,width:a,minHeight:l=250,height:c,centered:d,popup:u,x:h,y:p}=this.config;this.positionableFeature=new vu(this.getGui(),{minWidth:s,width:a,minHeight:l,height:c,centered:d,x:h,y:p,popup:u,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const g=this.getGui();t&&this.setBodyComponent(t),o?_e(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",m=>{const C=this.gridOptionsService.getDocument();if(g.contains(m.relatedTarget)||g.contains(C.activeElement)||this.eTitleBarButtons.contains(m.target))return void m.preventDefault();const _=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");_&&_.focus()}),(!u||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const t=this.getGui();t.focus(),this.close=()=>{t.parentElement.removeChild(t),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(t){this.positionableFeature.setHeight(t)}getWidth(){return this.positionableFeature.getWidth()}setWidth(t){this.positionableFeature.setWidth(t)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const i=this.closeButtonComp=new ae(n.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);const o=i.getGui(),r=wt("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(r),this.addTitleBarButton(i),i.addManagedListener(o,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())}addTitleBarButton(t,i){const o=this.eTitleBarButtons,r=o.children,s=r.length;null==i&&(i=s),i=Math.max(0,Math.min(i,s)),t.addCssClass("ag-panel-title-bar-button");const a=t.getGui();0===i?o.insertAdjacentElement("afterbegin",a):i===s?o.insertAdjacentElement("beforeend",a):r[i-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)}getBodyHeight(){return hu(this.eContentWrapper)}getBodyWidth(){return wm(this.eContentWrapper)}setTitle(t){this.eTitle.innerText=t}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const t=this.getGui();t&&t.offsetParent&&this.close(),super.destroy()}}return n.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',n})();Zu([N("eContentWrapper")],va.prototype,"eContentWrapper",void 0),Zu([N("eTitleBar")],va.prototype,"eTitleBar",void 0),Zu([N("eTitleBarButtons")],va.prototype,"eTitleBarButtons",void 0),Zu([N("eTitle")],va.prototype,"eTitle",void 0),Zu([P],va.prototype,"postConstruct",null);class yL extends va{constructor(e){super(Object.assign(Object.assign({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:i,maximizable:o}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",r=>{e.contains(r.relatedTarget)||this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),o&&this.setMaximizable(o),i&&this.setResizable(i)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:i,title:o}=this.config,r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:t,ariaLabel:o||r("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:i,width:o,height:r}=this.lastPosition;this.setWidth(o),this.setHeight(r),this.positionableFeature.offsetElement(t,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){_e(this.maximizeIcon,!this.isMaximized),_e(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new ae('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=wt("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=wt("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}}!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([f("popupService")],yL.prototype,"popupService",void 0);var hi,zo=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Bt=hi=class extends T{static addKeyboardModeEvents(e,t){const i=hi.instancesMonitored.get(e);i&&i.length>0?-1===i.indexOf(t)&&i.push(t):(hi.instancesMonitored.set(e,[t]),e.addEventListener("keydown",hi.toggleKeyboardMode),e.addEventListener("mousedown",hi.toggleKeyboardMode))}static removeKeyboardModeEvents(e,t){const i=hi.instancesMonitored.get(e);let o=[];i&&i.length&&(o=[...i].filter(r=>r!==t),hi.instancesMonitored.set(e,o)),0===o.length&&(e.removeEventListener("keydown",hi.toggleKeyboardMode),e.removeEventListener("mousedown",hi.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=hi.keyboardModeActive,i="keydown"===e.type;if(i&&(e.ctrlKey||e.metaKey||e.altKey)||t&&i||!t&&!i)return;hi.keyboardModeActive=i;const o=e.target.ownerDocument;if(!o)return;const r=hi.instancesMonitored.get(o);r&&r.forEach(s=>{s.dispatchEvent({type:i?v.EVENT_KEYBOARD_FOCUS:v.EVENT_MOUSE_FOCUS})})}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl;const i=this.gridOptionsService.getDocument();hi.addKeyboardModeEvents(i,this.gridCtrl),this.addDestroyFunc(()=>this.unregisterGridCompController(this.gridCtrl))})}unregisterGridCompController(e){const t=this.gridOptionsService.getDocument();hi.removeKeyboardModeEvents(t,e)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return hi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,ca.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,ua.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let i=e;for(;i;){if(this.gridOptionsService.getDomData(i,t))return!1;i=i.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:i}=this.focusedCellPosition,o={rowIndex:e,rowPinned:t,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return r&&(o.isFullWidthCell=r.isFullWidth()),o}clearFocusedCell(){if(null==this.focusedCellPosition)return;const e=Object.assign({type:v.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:i,rowPinned:o,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1}=e,a=this.columnModel.getGridColumn(t);if(!a)return void(this.focusedCellPosition=null);this.focusedCellPosition=a?{rowIndex:i,rowPinned:qr(o),column:a}:null;const l=Object.assign(Object.assign({type:v.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:r,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(e){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),i=e.getRowIndex(),o=e.getPinned(),{column:r,headerRowIndex:s}=this.focusedHeaderPosition;return t===r&&i===s&&o==r.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){const{direction:t,fromTab:i,allowUserOverride:o,event:r}=e;let{headerPosition:s}=e;if(o){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(i){const u=this.gridOptionsService.getCallback("tabToNextHeader");u&&(s=u({backwards:"Before"===t,previousHeaderPosition:c,nextHeaderPosition:s,headerRowCount:d}))}else{const u=this.gridOptionsService.getCallback("navigateToNextHeader");u&&r&&(s=u({key:r.key,previousHeaderPosition:c,nextHeaderPosition:s,headerRowCount:d,event:r}))}}return!!s&&(-1===s.headerRowIndex?this.focusGridView(s.column):(this.headerNavigationService.scrollToColumn(s.column,t),this.ctrlsService.getHeaderRowContainerCtrl(s.column.getPinned()).focusHeader(s.headerRowIndex,s.column,r)))}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}}))}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,i=He(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},event:e})}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===qr(t)}findFocusableElements(e,t,i=!1){let r=nw;t&&(r+=", "+t),i&&(r+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(uN)),a=Array.prototype.slice.apply(e.querySelectorAll(r));return a.length?(d=a,s.filter(u=>-1===d.indexOf(u))):s;var d}focusInto(e,t=!1,i=!1){const o=this.findFocusableElements(e,null,i),r=t?He(o):o[0];return!!r&&(r.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const i=this.findFocusableElements(e),o=i.indexOf(t);if(-1===o)return null;let r=-1;for(let s=o-1;s>=0;s--)if(i[s].classList.contains(Wo.TAB_GUARD_TOP)){r=s;break}return r<=0?null:i[r-1]}findNextFocusableElement(e=this.eGridDiv,t,i){const o=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let a;a=t?o.findIndex(c=>c.contains(s)):o.indexOf(s);const l=a+(i?-1:1);return l<0||l>=o.length?null:o[l]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const i=e.querySelectorAll(`.${Vo.FOCUS_MANAGED_CLASS}`);if(!i.length)return!1;for(let o=0;o<i.length;o++)if(i[o].contains(t))return!0;return!1}findTabbableParent(e,t=5){let i=0;for(;e&&null===bm(e)&&++i<=t;)e=e.parentElement;return null===bm(e)?null:e}focusGridView(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:o,rowPinned:r}=i,s=this.getFocusedHeader();return!e&&s&&(e=s.column),!(null==o||!e)&&(this.navigationService.ensureCellVisible({rowIndex:o,column:e,rowPinned:r}),this.setFocusedCell({rowIndex:o,column:e,rowPinned:qr(r),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:o,rowPinned:r,column:e}),!0)}focusNextGridCoreContainer(e,t=!1){return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}};Bt.AG_KEYBOARD_FOCUS="ag-keyboard-focus",Bt.keyboardModeActive=!1,Bt.instancesMonitored=new Map,zo([f("eGridDiv")],Bt.prototype,"eGridDiv",void 0),zo([f("columnModel")],Bt.prototype,"columnModel",void 0),zo([f("headerNavigationService")],Bt.prototype,"headerNavigationService",void 0),zo([f("rowRenderer")],Bt.prototype,"rowRenderer",void 0),zo([f("rowPositionUtils")],Bt.prototype,"rowPositionUtils",void 0),zo([Ie("rangeService")],Bt.prototype,"rangeService",void 0),zo([f("navigationService")],Bt.prototype,"navigationService",void 0),zo([f("ctrlsService")],Bt.prototype,"ctrlsService",void 0),zo([P],Bt.prototype,"init",null),Bt=hi=zo([G("focusService")],Bt);var iS,Xu=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},un=(()=>((un=un||{})[un.vertical=0]="vertical",un[un.horizontal=1]="horizontal",un))();let sZ=0,rs=iS=class extends T{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl,this.addManagedListener(this.gridCtrl,v.EVENT_KEYBOARD_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.add(Bt.AG_KEYBOARD_FOCUS))}),this.addManagedListener(this.gridCtrl,v.EVENT_MOUSE_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.remove(Bt.AG_KEYBOARD_FOCUS))})})}getPopupParent(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(e){const t=e.eventSource.getBoundingClientRect(),i=this.getParentRect(),o=this.keepXYWithinBounds(e.ePopup,t.top-i.top,un.vertical),r=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=`${r}px`;const a=i.right-i.left-r;let l;function c(){return t.right-i.left-2}function d(){return t.left-i.left-r}this.gridOptionsService.is("enableRtl")?(l=d(),l<0&&(l=c()),l>a&&(l=0)):(l=c(),l>a&&(l=d()),l<0&&(l=0)),e.ePopup.style.left=`${l}px`,e.ePopup.style.top=`${o}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:o,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:o,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const t=e.eventSource.getBoundingClientRect(),i=e.alignSide||"left",o=e.position||"over",r=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:e.keepWithinBounds,updatePosition:()=>{let a=t.left-r.left;return"right"===i&&(a-=e.ePopup.offsetWidth-t.width),{x:a,y:"over"===o?t.top-r.top:t.top-r.top+t.height}},postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)})}callPostProcessPopup(e,t,i,o,r,s){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:r,rowNode:s,ePopup:t,type:e,eventSource:i,mouseEvent:o})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:o,nudgeY:r,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},c=(d=!1)=>{let{x:u,y:h}=a();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,o&&(u+=o),r&&(h+=r),i&&(u=this.keepXYWithinBounds(t,u,un.horizontal),h=this.keepXYWithinBounds(t,h,un.vertical)),t.style.left=`${u}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!s){const d=this.resizeObserverService.observeResize(t,()=>c(!0));setTimeout(()=>d(),iS.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent);const i=getComputedStyle(t),o=t.getBoundingClientRect();return{top:o.top+parseFloat(i.borderTopWidth)||0,left:o.left+parseFloat(i.borderLeftWidth)||0,right:o.right+parseFloat(i.borderRightWidth)||0,bottom:o.bottom+parseFloat(i.borderBottomWidth)||0}}keepXYWithinBounds(e,t,i){const o=i===un.vertical,r=o?"clientHeight":"clientWidth",s=o?"top":"left",a=o?"offsetHeight":"offsetWidth",l=o?"scrollTop":"scrollLeft",c=this.gridOptionsService.getDocument(),d=c.documentElement,u=this.getPopupParent(),h=u.getBoundingClientRect(),p=c.documentElement.getBoundingClientRect(),g=u===c.body,m=e[a];let _=g?(o?rw:Sm)(d)+d[l]:u[r];g&&(_-=Math.abs(p[s]-h[s]));const b=_-m;return Math.min(Math.max(t,0),Math.abs(b))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:i,ariaLabel:o,alwaysOnTop:r,positionCallback:s,anchorToElement:a}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.popupList.findIndex(u=>u.element===i);if(-1!==l)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(i);const c=this.createPopupWrapper(i,o,!!r),d=this.addEventListenersToPopup(Object.assign(Object.assign({},e),{wrapperEl:c}));return s&&s(),this.addPopupToPopupList(i,c,d,a),{hideFunc:d}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();D(e.style.top)||(e.style.top=-1*i.top+"px"),D(e.style.left)||(e.style.left=-1*i.left+"px")}createPopupWrapper(e,t,i){const o=this.getPopupParent(),r=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&r.classList.add(...s),r.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||$t(e,"dialog"),Qr(e,t),this.focusService.isKeyboardMode()&&e.classList.add(Bt.AG_KEYBOARD_FOCUS),r.appendChild(e),o.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),i=this.getPopupParent(),{wrapperEl:o,eChild:r,click:s,closedCallback:a,afterGuiAttached:l,closeOnEsc:c,modal:d}=e;let u=!1;const h=C=>{o.contains(t.activeElement)&&C.key===x.ESCAPE&&m({keyboardEvent:C})},p=C=>m({mouseEvent:C}),g=C=>m({touchEvent:C}),m=(C={})=>{const{mouseEvent:_,touchEvent:b,keyboardEvent:y}=C;this.isEventFromCurrentPopup({mouseEvent:_,touchEvent:b},r)||this.isEventSameChainAsOriginalEvent({originalMouseEvent:s,mouseEvent:_,touchEvent:b})||u||(u=!0,i.removeChild(o),t.removeEventListener("keydown",h),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",g),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener(v.EVENT_DRAG_STARTED,p),a&&a(_||b||y),this.removePopupFromPopupList(r))};return l&&l({hidePopup:m}),window.setTimeout(()=>{c&&t.addEventListener("keydown",h),d&&(t.addEventListener("mousedown",p),this.eventService.addEventListener(v.EVENT_DRAG_STARTED,p),t.addEventListener("touchstart",g),t.addEventListener("contextmenu",p))},0),m}addPopupToPopupList(e,t,i,o){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:sZ++,isAnchored:!!o}),o&&this.setPopupPositionRelatedToElement(e,o)}setPopupPositionRelatedToElement(e,t){const i=this.popupList.find(r=>r.element===e);if(!i||(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(r=>r&&r()),i.stopAnchoringPromise=void 0,!t))return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=o,o}removePopupFromPopupList(e){this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:o,ePopup:r}=e,s=o.getBoundingClientRect(),a=i.top-s.top,l=i.left-s.left;let c=a,d=l;const u=r.style.top,h=parseInt(u.substring(0,u.length-1),10),p=r.style.left,g=parseInt(p.substring(0,p.length-1),10);return new Kt(m=>{this.getFrameworkOverrides().setInterval(()=>{const C=t.getBoundingClientRect(),_=o.getBoundingClientRect();if(0==_.top&&0==_.left&&0==_.height&&0==_.width)return void e.hidePopup();const y=C.top-_.top;if(y!=c){const M=this.keepXYWithinBounds(r,h+a-y,un.vertical);r.style.top=`${M}px`}c=y;const R=C.left-_.left;if(R!=d){const M=this.keepXYWithinBounds(r,g+l-R,un.horizontal);r.style.left=`${M}px`}d=R},200).then(C=>{m(()=>{null!=C&&window.clearInterval(C)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:o}=e,r=i||o;if(!r)return!1;const s=this.popupList.findIndex(a=>a.element===t);if(-1===s)return!1;for(let a=s;a<this.popupList.length;a++)if(cm(this.popupList[a].element,r))return!0;return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}isEventSameChainAsOriginalEvent(e){const{originalMouseEvent:t,mouseEvent:i,touchEvent:o}=e;let r=null;if(i?r=i:o&&(r=o.touches[0]),r&&t){const a=i?i.screenY:0,l=Math.abs(t.screenX-(i?i.screenX:0))<5,c=Math.abs(t.screenY-a)<5;if(l&&c)return!0}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),o=i.length,r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),s=r.length,a=this.getWrapper(e);if(!a||o<=1||!t.contains(e))return;const l=i.indexOf(a),c=a.querySelectorAll("div"),d=[];for(c.forEach(h=>{0!==h.scrollTop&&d.push([h,h.scrollTop])}),s?a.classList.contains("ag-always-on-top")?l!==o-1&&He(r).insertAdjacentElement("afterend",a):l!==o-s-1&&r[0].insertAdjacentElement("beforebegin",a):l!==o-1&&He(i).insertAdjacentElement("afterend",a);d.length;){const h=d.pop();h[0].scrollTop=h[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:a})}};rs.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Xu([f("focusService")],rs.prototype,"focusService",void 0),Xu([f("ctrlsService")],rs.prototype,"ctrlsService",void 0),Xu([f("resizeObserverService")],rs.prototype,"resizeObserverService",void 0),Xu([P],rs.prototype,"postConstruct",null),rs=iS=Xu([G("popupService")],rs);var nS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class Ju extends Zm{constructor(e="default",t="listbox",i){super(Ju.getTemplate(e)),this.cssIdentifier=e,this.ariaRole=t,this.listName=i,this.renderedRows=new Map,this.rowHeight=20}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;$t(i,this.ariaRole),Qr(i,t)}addResizeObserver(){const t=this.resizeObserverService.observeResize(this.getGui(),()=>this.drawVirtualRows());this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=$P(t)-1),!1}onFocusOut(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(e){switch(e.key){case x.UP:case x.DOWN:this.navigate(e.key===x.UP)&&e.preventDefault()}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Cr(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(null==this.lastFocusedRowIndex)return!1;const t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount()||(this.focusRow(t),0))}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()},10)}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,i)=>e(t.rowComponent,i))}static getTemplate(e){return`\n            <div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(e){const t=this.model.getRowCount();if("number"!=typeof e||e<0||e>=t)return void console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);const i=e*this.rowHeight,o=i+this.rowHeight,r=this.getGui(),s=r.scrollTop,a=r.offsetHeight,d=s+a<o;s>i?r.scrollTop=i:d&&(r.scrollTop=o-a)}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.rowHeight=e,this.refresh()}refresh(e){if(null==this.model||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",EP(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive())return;const t=this.getGui(),i=t.scrollTop,o=i+t.offsetHeight,r=Math.floor(i/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(r,s,e)}ensureRowsRendered(e,t,i){this.renderedRows.forEach((o,r)=>{(r<e||r>t)&&r!==this.lastFocusedRowIndex&&this.removeRow(r)}),i&&this.refreshRows();for(let o=e;o<=t;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)}insertRow(e){const t=this.model.getRow(e),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),$t(i,"tree"===this.ariaRole?"treeitem":"option"),By(i,this.model.getRowCount()),jy(i,e+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){const r=this.model.isRowSelected(e);Hl(i,!!r),oN(i,r)}i.style.height=`${this.rowHeight}px`,i.style.top=this.rowHeight*e+"px";const o=this.componentCreator(t,i);o.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(o.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:o,eDiv:i,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,i)=>{var o,r;if(i>=e)this.removeRow(i);else{const s=this.model.getRow(i);null!==(r=(o=this.model).areRowsEqual)&&void 0!==r&&r.call(o,t.value,s)?this.componentUpdater(s,t.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}}nS([f("resizeObserverService")],Ju.prototype,"resizeObserverService",void 0),nS([N("eContainer")],Ju.prototype,"eContainer",void 0),nS([P],Ju.prototype,"postConstruct",null);const aZ=["mouseover","mouseout","mouseenter","mouseleave"],lZ=["touchstart","touchend","touchmove","touchcancel"];class wL{constructor(){this.isOutsideAngular=e=>Rn(aZ,e)}setTimeout(e,t){window.setTimeout(e,t)}setInterval(e,t){return new Kt(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,o){const r=Rn(lZ,t);e.addEventListener(t,i,{capture:!!o,passive:r})}dispatchEvent(e,t,i=!1){t()}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}}var ac=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ss=class extends T{getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===x.UP,r=e===x.LEFT;let s,a;if(i||e===x.DOWN)a=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=t.column;else{const l=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.is("enableRtl");a=t.rowIndex,s=r!==c?l[0]:He(l)}return{rowIndex:a,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,o=!1;for(;!o;){switch(e){case x.UP:i=this.getCellAbove(i);break;case x.DOWN:i=this.getCellBelow(i);break;case x.RIGHT:i=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case x.LEFT:i=this.gridOptionsService.is("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}o=!i||this.isCellGoodToFocusOn(i)}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!t.isSuppressNavigable(i)}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const o=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),o=t?-1:1,r=i.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),s=i[r+o];return s?{rowIndex:s.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return"top"===t?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===t?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned;if(i?0===t:t===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const r=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(r,!0)||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,o=e.rowPinned,r=this.columnModel.getDisplayedColAfter(e.column);if(!r){r=t[0];const s=this.getRowBelow(e);if(q(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let i=e.rowIndex,o=e.rowPinned,r=this.columnModel.getDisplayedColBefore(e.column);if(!r){r=He(t);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(q(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:r,rowPinned:o}}};ac([f("columnModel")],ss.prototype,"columnModel",void 0),ac([f("rowModel")],ss.prototype,"rowModel",void 0),ac([f("rowRenderer")],ss.prototype,"rowRenderer",void 0),ac([f("pinnedRowModel")],ss.prototype,"pinnedRowModel",void 0),ac([f("paginationProxy")],ss.prototype,"paginationProxy",void 0),ss=ac([G("cellNavigationService")],ss);var eh=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Ca=class extends T{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){if(this.consuming)return;const t=this.gridOptionsService.get("alignedGrids");t&&t.forEach(i=>{if(i.api){const o=i.api.__getAlignedGridService();e(o)}})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(i=>{t.push(i.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case v.EVENT_COLUMN_MOVED:case v.EVENT_COLUMN_VISIBLE:case v.EVENT_COLUMN_PINNED:case v.EVENT_COLUMN_RESIZED:this.processColumnEvent(e);break;case v.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(e);break;case v.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(e){const t=e.columnGroup;let i=null;if(t){const o=t.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}t&&!i||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(i,t.isExpanded(),"alignedGridChanged"))}processColumnEvent(e){var t;const i=e.column;let o=null;if(i&&(o=this.columnModel.getPrimaryColumn(i.getColId())),i&&!o)return;const r=this.getMasterColumns(e);switch(e.type){case v.EVENT_COLUMN_MOVED:{const u=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId}));this.columnModel.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${u.toIndex}`)}break;case v.EVENT_COLUMN_VISIBLE:{const u=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId,hide:g.hide}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${u.visible}`)}break;case v.EVENT_COLUMN_PINNED:{const u=e,p=e.columnApi.getColumnState().map(g=>({colId:g.colId,pinned:g.pinned}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${u.pinned}`)}break;case v.EVENT_COLUMN_RESIZED:const c=e,d={};r.forEach(u=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${u.getActualWidth()}`),d[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),null===(t=c.flexColumns)||void 0===t||t.forEach(u=>{d[u.getId()]&&delete d[u.getId()]}),this.columnModel.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged")}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),l=this.gridOptionsService.get("alignedGrids");l&&l.forEach(c=>{c.api&&c.api.setAlwaysShowVerticalScroll(a)})}};eh([f("columnModel")],Ca.prototype,"columnModel",void 0),eh([f("ctrlsService")],Ca.prototype,"ctrlsService",void 0),eh([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],Ca.prototype,"setBeans",null),eh([P],Ca.prototype,"init",null),Ca=eh([G("alignedGridsService")],Ca);var th=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ba=class extends T{setBeans(e){this.logger=e.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",e=>this.groupSelectsChildren=e.currentValue),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",e=>this.rowSelection=e.currentValue),this.addManagedListener(this.eventService,v.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(e){var t;if(0===e.nodes.length)return 0;const{newValue:i,clearSelection:o,suppressFinishActions:r,rangeSelect:s,source:l="api"}=e;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const c=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,d=e.nodes.map(h=>h.footer?h.sibling:h);if(s){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const h=this.getLastSelectedNode();if(h){const p=d[0];if(h!==p&&this.isMultiselect()){const m=this.selectRange(p,h,e.newValue,l);return this.setLastSelectedNode(p),m}}}let u=0;for(let h=0;h<d.length;h++){const p=d[h];c&&p.group||p.selectThisNode(i,e.event,l)&&u++,this.groupSelectsChildren&&null!==(t=p.childrenAfterGroup)&&void 0!==t&&t.length&&(u+=this.selectChildren(p,i,c,l))}return r||(i&&(o||!this.isMultiselect())&&(u+=this.clearOtherNodes(d[0],l)),u>0&&(this.updateGroupsFromChildrenSelections(l),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:l})),i&&this.setLastSelectedNode(d[d.length-1])),u}selectRange(e,t,i=!0,o){const r=this.rowModel.getNodesInRangeForSelection(e,t);let s=0;return r.forEach(l=>{l.group&&this.groupSelectsChildren||!1===i&&e===l||l.selectThisNode(i,void 0,o)&&s++}),this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:o}),s}selectChildren(e,t,i,o){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return X.missing(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:r})}setLastSelectedNode(e){this.lastSelectedNode=e}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const e=[];return it(this.selectedNodes,(t,i)=>{i&&e.push(i)}),e}getSelectedRows(){const e=[];return it(this.selectedNodes,(t,i)=>{i&&i.data&&e.push(i.data)}),e}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(e){const t={};Object.entries(this.selectedNodes).forEach(([i,o])=>{o&&e(o)&&(t[i]=o)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const o=this.rowModel.getRootNode();t||(t=new Xw(!0,o)).setInactive();let r=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==o){const a=s.calculateSelectedFromChildren();r=s.selectThisNode(null!==a&&a,void 0,e)||r}}),r}clearOtherNodes(e,t){const i={};let o=0;return it(this.selectedNodes,(r,s)=>{s&&s.id!==e.id&&(o+=this.selectedNodes[s.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&(i[s.parent.id]=s.parent))}),it(i,(r,s)=>{const a=s.calculateSelectedFromChildren();s.selectThisNode(null!==a&&a,void 0,t)}),o}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:delete this.selectedNodes[t.id])}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){D(t)&&e.id!==t.id&&t&&this.selectedNodes[t.id]==e&&(this.selectedNodes[t.id]=t)}syncInNewRowNode(e){D(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const t=this.rowModel.getTopLevelNodes();if(null===t)return;const i=[];return function o(r){for(let s=0,a=r.length;s<a;s++){const l=r[s];l.isSelected()?i.push(l):l.group&&l.children&&o(l.children)}}(t),i}isEmpty(){let e=0;return it(this.selectedNodes,(t,i)=>{i&&e++}),0===e}deselectAllRowNodes(e){const t=l=>l.selectThisNode(!1,void 0,o),i="clientSide"===this.rowModel.getType(),{source:o,justFiltered:r,justCurrentPage:s}=e;if(s||r){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,s).forEach(t)}else it(this.selectedNodes,(l,c)=>{c&&t(c)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:o})}getSelectAllState(e,t){let i=0,o=0;return this.getNodesToSelect(e,t).forEach(s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&o++)}),(0!==i||0!==o)&&(i>0&&o>0?null:i>0)}getNodesToSelect(e=!1,t=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const i=[];if(t)return this.paginationProxy.forEachNodeOnPage(r=>{if(r.group)if(r.expanded)this.groupSelectsChildren||i.push(r);else{const s=a=>{var l;i.push(a),null!==(l=a.childrenAfterFilter)&&void 0!==l&&l.length&&a.childrenAfterFilter.forEach(s)};s(r)}else i.push(r)}),i;const o=this.rowModel;return e?(o.forEachNodeAfterFilter(r=>{i.push(r)}),i):(o.forEachNode(r=>{i.push(r)}),i)}selectAllRowNodes(e){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:i,justCurrentPage:o}=e;this.getNodesToSelect(i,o).forEach(a=>a.selectThisNode(!0,void 0,t)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:t})}getServerSideSelectionState(){return null}setServerSideSelectionState(e){}};th([f("rowModel")],ba.prototype,"rowModel",void 0),th([f("paginationProxy")],ba.prototype,"paginationProxy",void 0),th([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],ba.prototype,"setBeans",null),th([P],ba.prototype,"init",null),ba=th([G("selectionService")],ba);var oS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ih=class{sizeColumnsToFit(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.columnModel.setColumnVisible(e,t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.columnModel.setColumnPinned(e,t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.columnModel.moveColumn(e,t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t)}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t)}setColumnWidth(e,t,i=!0,o){this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,o)}setColumnWidths(e,t=!0,i){this.columnModel.setColumnWidths(e,!1,t,i)}setPivotMode(e){this.columnModel.setPivotMode(e)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.columnModel.removeValueColumn(e,"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.columnModel.addValueColumn(e,"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.columnModel.removeRowGroupColumn(e,"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.columnModel.addRowGroupColumn(e,"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.columnModel.removePivotColumn(e,"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.columnModel.addPivotColumn(e,"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.columnModel.autoSizeColumn(e,t,"api")}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns(e,"api")}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(X.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return Tn("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return Tn("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return Tn("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(e){Tn("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)}getSecondaryPivotColumn(e,t){return Tn("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)}};oS([f("columnModel")],ih.prototype,"columnModel",void 0),oS([zt],ih.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),ih=oS([G("columnApi")],ih);var lc=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let as=class extends T{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(v.EVENT_CELL_VALUE_CHANGED,e=>this.callColumnCellValueChangedHandler(e),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValue(e,t,i=!1,o=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,a=e.getColId(),l=t.data;let c;const d=t.groupData&&void 0!==t.groupData[a],u=!o&&t.aggData&&void 0!==t.aggData[a],h=this.isSsrm&&o&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?c=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.isTreeData&&u?c=t.aggData[a]:this.isTreeData&&r.valueGetter?c=this.executeValueGetter(r.valueGetter,l,e,t):this.isTreeData&&s&&l?c=Ys(l,s,e.isFieldContainsDots()):d?c=t.groupData[a]:u?c=t.aggData[a]:r.valueGetter?c=this.executeValueGetter(r.valueGetter,l,e,t):p?c=Ys(l,t.field,e.isFieldContainsDots()):s&&l&&!h&&(c=Ys(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof c&&0===c.indexOf("=")){const g=c.substring(1);c=this.executeValueGetter(g,l,e,t)}if(null==c){const g=this.getOpenedGroup(t,e);if(null!=g)return g}return c}getOpenedGroup(e,t){if(!this.gridOptionsService.is("showOpenedGroup")||!t.getColDef().showRowGroup)return;const o=t.getColDef().showRowGroup;let r=e.parent;for(;null!=r;){if(r.rowGroupColumn&&(!0===o||o===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,o){const r=this.columnModel.getPrimaryColumn(t);if(!e||!r)return!1;q(e.data)&&(e.data={});const{field:s,valueSetter:a}=r.getColDef();if(q(s)&&q(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(r,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l={node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};let c;return l.newValue=i,c=D(a)?"function"==typeof a?a(l):this.expressionService.evaluate(a,l):this.setValueUsingField(e.data,s,i,r.isFieldContainsDots()),void 0===c&&(c=!0),!!c&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(r,e),this.eventService.dispatchEvent({type:v.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:o}),!0)}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"==typeof t&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})}setValueUsingField(e,t,i,o){if(!t)return!1;let r=!1;if(o){const s=t.split(".");let a=e;for(;s.length>0&&a;){const l=s.shift();0===s.length?(r=a[l]==i,r||(a[l]=i)):a=a[l]}}else r=e[t]==i,r||(e[t]=i);return!r}executeFilterValueGetter(e,t,i,o){const r={data:t,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"==typeof e?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,o){const r=i.getColId(),s=this.valueCache.getValue(o,r);if(void 0!==s)return s;const a={data:t,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};let l;return l="function"==typeof e?e(a):this.expressionService.evaluate(e,a),this.valueCache.setValue(o,r,l),l}getValueCallback(e,t){const i=this.columnModel.getPrimaryColumn(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),o=e.getColDef().keyCreator;let r=i;return o&&(r=o({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof r||null==r||(r=String(r),"[object Object]"===r&&xe(()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),r}};lc([f("expressionService")],as.prototype,"expressionService",void 0),lc([f("columnModel")],as.prototype,"columnModel",void 0),lc([f("valueCache")],as.prototype,"valueCache",void 0),lc([f("dataTypeService")],as.prototype,"dataTypeService",void 0),lc([P],as.prototype,"init",null),as=lc([G("valueService")],as);var SL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Xm=class extends T{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if("string"==typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};SL([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],Xm.prototype,"setBeans",null),Xm=SL([G("expressionService")],Xm);let rS=class extends T{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const i=this.templateCache[e];if(i)return i;let o=this.waitingCallbacks[e];const r=this;if(!o){o=[],this.waitingCallbacks[e]=o;const s=new XMLHttpRequest;s.onload=function(){r.handleHttpResult(this,e)},s.open("GET",e),s.send()}return t&&o.push(t),null}handleHttpResult(e,t){if(200!==e.status||null===e.response)return void console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);this.templateCache[t]=e.response||e.responseText;const i=this.waitingCallbacks[t];for(let o=0;o<i.length;o++)(0,i[o])()}};rS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("templateService")],rS);var EL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Jm=class extends T{setBeans(e){this.logging=e.is("debug")}create(e){return new sS(e,this.isLogging.bind(this))}isLogging(){return this.logging}};EL([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("gridOptionsService"))],Jm.prototype,"setBeans",null),Jm=EL([G("loggerFactory")],Jm);class sS{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}}var cc=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class _a extends T{setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:r=>r===st.HeaderCell||r===st.ToolPanel,getIconName:()=>De.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Am(this.view)),this.addRtlSupport(),this.addManagedListener(this,v.EVENT_KEYBOARD_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,v.EVENT_MOUSE_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!1)});const o=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return(null===(e=t?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1}showDropZones(){return Y.isRegistered(F.RowGroupingModule,this.context.getGridId())}showSideBar(){return Y.isRegistered(F.SideBarModule,this.context.getGridId())}showStatusBar(){return Y.isRegistered(F.StatusBarModule,this.context.getGridId())}showWatermark(){return Y.isRegistered(F.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:v.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),r=i.findIndex(s=>s.contains(t.activeElement))+(e?-1:1);return!(r<=0||r>=i.length)&&this.focusService.focusInto(i[r])}focusInnerElement(e){const t=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(He(t),!0);const o=He(i);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}}cc([f("focusService")],_a.prototype,"focusService",void 0),cc([f("resizeObserverService")],_a.prototype,"resizeObserverService",void 0),cc([f("columnModel")],_a.prototype,"columnModel",void 0),cc([f("ctrlsService")],_a.prototype,"ctrlsService",void 0),cc([f("mouseEventService")],_a.prototype,"mouseEventService",void 0),cc([f("dragAndDropService")],_a.prototype,"dragAndDropService",void 0);var nh=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class dc extends Zm{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),addOrRemoveKeyboardFocusClass:i=>this.addOrRemoveCssClass(Bt.AG_KEYBOARD_FOCUS,i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new _a);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i)})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const i=this.eRootWrapperBody.classList;i.toggle(at.AUTO_HEIGHT,t.autoHeight),i.toggle(at.NORMAL,t.normal),i.toggle(at.PRINT,t.print),this.addOrRemoveCssClass(at.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(at.NORMAL,t.normal),this.addOrRemoveCssClass(at.PRINT,t.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>Wl(t))}}nh([f("loggerFactory")],dc.prototype,"loggerFactory",void 0),nh([N("gridBody")],dc.prototype,"gridBodyComp",void 0),nh([N("sideBar")],dc.prototype,"sideBarComp",void 0),nh([N("rootWrapperBody")],dc.prototype,"eRootWrapperBody",void 0),nh([P],dc.prototype,"postConstruct",null);var eg,xL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let oh=eg=class extends T{progressSort(e,t,i){const o=this.getNextSortDirection(e);this.setSortForColumn(e,o,t,i)}setSortForColumn(e,t,i,o){"asc"!==t&&"desc"!==t&&(t=null);let s=[e];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(e),c=l?.filter(d=>d.getColDef().sortable);c&&(s=[e,...c])}s.forEach(l=>l.setSort(t,o)),(i||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(s,o),this.updateSortIndex(e),this.dispatchSortChangedEvents(o)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),o=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const s=r.filter(l=>l!==o);(o.getSort()?[...s,o]:s).forEach((l,c)=>l.setSortIndex(c))}onSortChanged(e){this.dispatchSortChangedEvents(e)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e){this.eventService.dispatchEvent({type:v.EVENT_SORT_CHANGED,source:e})}clearSortBarTheseColumns(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{e.includes(i)||i.setSort(void 0,t)})}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):eg.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort());let s;return s=i<0||i==t.length-1?t[0]:t[i+1],eg.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(a=>{const l=!!a.getAggFunc(),c=!a.isPrimary(),d=s?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return l||c||d})}const t=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),i=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;i&&(e=[...new Set(e.map(s=>{var a;return null!==(a=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))&&void 0!==a?a:s}))]);const o={};e.forEach((s,a)=>o[s.getId()]=a),e.sort((s,a)=>{const l=s.getSortIndex(),c=a.getSortIndex();return null!=l&&null!=c?l-c:null==l&&null==c?o[s.getId()]>o[a.getId()]?1:-1:null==c?-1:1});const r=new Map;return e.forEach((s,a)=>r.set(s,a)),i&&t.forEach(s=>{const a=this.columnModel.getGroupDisplayColumnForGroup(s.getId());r.set(s,r.get(a))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,o])=>t-o).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const o=e.getColDef().field?[e,...t]:t,r=o[0].getSort();return o.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};oh.DEFAULT_SORTING_ORDER=["asc","desc",null],xL([f("columnModel")],oh.prototype,"columnModel",void 0),oh=eg=xL([G("sortController")],oh);let aS=class extends T{setMouseOver(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:v.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:v.EVENT_COLUMN_HOVER_CHANGED})}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};aS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("columnHoverService")],aS);var lS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let rh=class extends T{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&(this.flush(),this.active=!1)}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(){const e=this.executeNextFuncs;this.executeNextFuncs=[];const t=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==t.length)&&(window.setTimeout(()=>e.forEach(i=>i()),0),window.setTimeout(()=>t.forEach(i=>i()),300))}};lS([f("ctrlsService")],rh.prototype,"ctrlsService",void 0),lS([P],rh.prototype,"postConstruct",null),rh=lS([G("columnAnimationService")],rh);var cS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let sh=class extends T{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=this.gridOptionsService.getRowHeightAsNumber(),o=Math.floor(e/i);this.gridOptionsService.set("paginationPageSize",o)};this.isBodyRendered?No(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};cS([f("ctrlsService")],sh.prototype,"ctrlsService",void 0),cS([P],sh.prototype,"postConstruct",null),sh=cS([G("paginationAutoPageSizeService")],sh);var DL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let tg=class extends T{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}};DL([P],tg.prototype,"init",null),tg=DL([G("valueCache")],tg);var ig=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let uc=class extends T{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,v.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!e.isRowPinned()){const i=this.gridOptionsService.is("aggregateOnlyChangedColumns"),o=new Xw(i,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}}};ig([f("rowModel")],uc.prototype,"rowModel",void 0),ig([f("rowRenderer")],uc.prototype,"rowRenderer",void 0),ig([P],uc.prototype,"init",null),uc=ig([G("changeDetectionService")],uc);var RL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ng=class extends T{adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){return class t{refresh(o){return!1}getGui(){return this.eGui}init(o){const r=e(o),s=typeof r;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=r?r:ei("<span></span>"):ei("<span>"+r+"</span>")}}}doesImplementIComponent(e){return!!e&&e.prototype&&"getGui"in e.prototype}};RL([f("componentMetadataProvider")],ng.prototype,"componentMetadataProvider",void 0),ng=RL([G("agComponentUtils")],ng);var dS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ah=class extends T{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(e){return this.componentMetaData[e]}};dS([f("agComponentUtils")],ah.prototype,"agComponentUtils",void 0),dS([P],ah.prototype,"postConstruct",null),ah=dS([G("componentMetadataProvider")],ah);var uS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const CZ={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},ML={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let lh=class extends T{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=null!==(e=this.getTheme().el)&&void 0!==e?e:this.eGridDiv;this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:v.EVENT_GRID_STYLES_CHANGED})}getSassVariable(e){const{themeFamily:t,el:i}=this.getTheme();if(t&&0===t.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={}),this.calculatedSizes[t][e]??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,i),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,i){const o="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),r=CZ[o][e],s=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!ML[e])return r;const a=ML[e],l=s.createElement("div"),c=Array.from(i.classList);l.classList.add(t,...c),l.style.position="absolute";const d=a.reduce((h,p)=>{const g=s.createElement("div");return g.style.position="static",g.classList.add(p),h.appendChild(g),g},l);let u=0;if(s.body){s.body.appendChild(l);const h=-1!==e.toLowerCase().indexOf("height")?"height":"width";u=parseInt(window.getComputedStyle(d)[h],10),s.body.removeChild(l)}return u||r}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,i=null,o=[];for(;t;){if(i=e.exec(t.className),i){const s=t.className.match(e);s&&(o=s);break}t=t.parentElement||void 0}if(!i)return{allThemes:o};const r=i[0];return{theme:r,el:t,themeFamily:r.replace(/-dark$/,""),allThemes:o}}getFromTheme(e,t){var i;return null!==(i=this.getSassVariable(t))&&void 0!==i?i:e}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}setRowHeightVariable(e){const i=`${e}px`;this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=i&&this.eGridDiv.style.setProperty("--ag-line-height",i)}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return D(e)?Math.max(e,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};uS([f("eGridDiv")],lh.prototype,"eGridDiv",void 0),uS([P],lh.prototype,"postConstruct",null),lh=uS([G("environment")],lh);var og=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let hc=class extends T{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=rN(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:v.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/t)}};og([f("ctrlsService")],hc.prototype,"ctrlsService",void 0),og([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],hc.prototype,"agWire",null),og([P],hc.prototype,"postConstruct",null),hc=og([G("rowContainerHeightService")],hc);var AL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let rg=class extends T{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,i=>i.childrenAfterGroup)}recurseDown(e,t){e&&e.forEach(i=>{if(!i.group)return;let o;i.hasChildren()&&this.recurseDown(t(i),t),o=this.groupSelectsChildren?D((t(i)||[]).find(s=>!0===s.selectable)):!!this.isRowSelectableFunc&&this.isRowSelectableFunc(i),i.setRowSelectable(o)})}};AL([P],rg.prototype,"init",null),rg=AL([G("selectableService")],rg);var Nn=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class hn extends ae{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",wt(e?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",wt(e?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",wt(e?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",wt(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListener(t,"click",i),this.addManagedListener(t,"keydown",o=>{(o.key===x.ENTER||o.key===x.SPACE)&&(o.preventDefault(),i())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?t+1:0)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc();return tw(e,i("thousandSeparator",","),i("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),o=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),l=e("lastPage","Last Page"),c=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${c}">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${c}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${c}-to">${i}</span>\n                    <span id="ag-${c}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${c}-of">${o}</span>\n                    <span id="ag-${c}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="${r}"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="${s}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${c}-start-page">${t}</span>\n                        <span id="ag-${c}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${c}-of-page">${o}</span>\n                        <span id="ag-${c}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="${a}"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="${l}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const o=this.isZeroPagesToDisplay();this.nextButtonDisabled=t&&e===i-1||o,this.lastButtonDisabled=!t||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Hy(e,t),e.classList.toggle("ag-disabled",t),t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let r,s;if(this.isZeroPagesToDisplay()?r=s=0:(r=t*e+1,s=r+t-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(r),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(s)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){const o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(i);else{const o=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=o,this.lbRecordCount.innerHTML=o}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}}Nn([f("paginationProxy")],hn.prototype,"paginationProxy",void 0),Nn([f("rowNodeBlockLoader")],hn.prototype,"rowNodeBlockLoader",void 0),Nn([N("btFirst")],hn.prototype,"btFirst",void 0),Nn([N("btPrevious")],hn.prototype,"btPrevious",void 0),Nn([N("btNext")],hn.prototype,"btNext",void 0),Nn([N("btLast")],hn.prototype,"btLast",void 0),Nn([N("lbRecordCount")],hn.prototype,"lbRecordCount",void 0),Nn([N("lbFirstRowOnPage")],hn.prototype,"lbFirstRowOnPage",void 0),Nn([N("lbLastRowOnPage")],hn.prototype,"lbLastRowOnPage",void 0),Nn([N("lbCurrent")],hn.prototype,"lbCurrent",void 0),Nn([N("lbTotal")],hn.prototype,"lbTotal",void 0),Nn([P],hn.prototype,"postConstruct",null);var pc=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},ho=(()=>((ho=ho||{})[ho.Loading=0]="Loading",ho[ho.NoRows=1]="NoRows",ho))();let ya=(()=>{class n extends ae{constructor(){super(n.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(t,i){const o=this.eOverlayWrapper.classList;o.toggle(at.AUTO_HEIGHT,i.autoHeight),o.toggle(at.NORMAL,i.normal),o.toggle(at.PRINT,i.print)}postConstruct(){this.createManagedBean(new Am(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(t){const i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",t===ho.Loading),i.toggle("ag-overlay-no-rows-wrapper",t===ho.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const o=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(o,ho.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const o=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(o,ho.NoRows)}showOverlay(t,i){this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(o=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(o.getGui()),this.activeOverlay=o,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),nn(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const t=this.paginationProxy.isEmpty(),i=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!i?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}}return n.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',n})();pc([f("userComponentFactory")],ya.prototype,"userComponentFactory",void 0),pc([f("paginationProxy")],ya.prototype,"paginationProxy",void 0),pc([f("gridApi")],ya.prototype,"gridApi",void 0),pc([f("columnModel")],ya.prototype,"columnModel",void 0),pc([N("eOverlayWrapper")],ya.prototype,"eOverlayWrapper",void 0),pc([P],ya.prototype,"postConstruct",null);var sg=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let fc=class extends T{getFirstRow(){let t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):o&&(t="top",e=o-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(D(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(i=>{(void 0===t||this.before(t,i))&&(t=i)}),t}rowMin(e){let t;return e.forEach(i=>{(void 0===t||this.before(i,t))&&(t=i)}),t}};sg([f("rowModel")],fc.prototype,"rowModel",void 0),sg([f("pinnedRowModel")],fc.prototype,"pinnedRowModel",void 0),sg([f("paginationProxy")],fc.prototype,"paginationProxy",void 0),fc=sg([G("rowPositionUtils")],fc);let mS=class extends T{createId(e){const{rowIndex:t,rowPinned:i,column:o}=e;return this.createIdFromValues({rowIndex:t,column:o,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:o}=e;return`${t}.${i??"null"}.${o.getId()}`}equals(e,t){return e.column===t.column&&e.rowPinned===t.rowPinned&&e.rowIndex===t.rowIndex}};mS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("cellPositionUtils")],mS);class ch{constructor(e){this.cellValueChanges=e}}class gS extends ch{constructor(e,t,i,o){super(e),this.initialRange=t,this.finalRange=i,this.ranges=o}}let IL=(()=>{class n{constructor(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}}return n.DEFAULT_STACK_SIZE=10,n})();var $o=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Ln=class extends T{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),o=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||o||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:a,column:l,oldValue:c,value:d}=e,u={rowPinned:s,rowIndex:a,columnId:l.getColId(),newValue:d,oldValue:c};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new IL(e),this.redoStack=new IL(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,v.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:v.EVENT_UNDO_STARTED,source:e});const i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:v.EVENT_UNDO_ENDED,source:e,operationPerformed:i})}redo(e){this.eventService.dispatchEvent({type:v.EVENT_REDO_STARTED,source:e});const i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:v.EVENT_REDO_ENDED,source:e,operationPerformed:i})}undoRedo(e,t,i,o,r){if(!e)return!1;const s=e.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,a=>a[o],r),s instanceof gS?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),t.push(s),0))}processAction(e,t,i){e.cellValueChanges.forEach(o=>{const{rowIndex:r,rowPinned:s,columnId:a}=o,c=this.getRowNode({rowIndex:r,rowPinned:s});c.displayed&&c.setDataValue(a,t(o),i)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((i,o)=>{if(!i)return;const r=i.startRow,s=i.endRow;o===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t)),this.rangeService.addCellRange({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns})})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:o}=t,s=this.getRowNode({rowIndex:i,rowPinned:o});this.setLastFocusedCell({rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId},!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:o,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(o);if(!a)return;s.ensureIndexVisible(i),s.ensureColumnVisible(a);const l={rowIndex:i,column:a,rowPinned:r};this.focusService.setFocusedCell(Object.assign(Object.assign({},l),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,v.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,v.EVENT_ROW_EDITING_STOPPED,()=>{const e=new ch(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,v.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,v.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new ch(this.cellValueChanges);this.pushActionsToUndoStack(i)}})}addPasteListeners(){this.addManagedListener(this.eventService,v.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,v.EVENT_PASTE_END,()=>{const e=new ch(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,v.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,v.EVENT_FILL_END,e=>{const t=new gS(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;e=this.rangeService&&this.gridOptionsService.isEnableRangeSelection()?new gS(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new ch(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};$o([f("focusService")],Ln.prototype,"focusService",void 0),$o([f("ctrlsService")],Ln.prototype,"ctrlsService",void 0),$o([f("rowModel")],Ln.prototype,"rowModel",void 0),$o([f("pinnedRowModel")],Ln.prototype,"pinnedRowModel",void 0),$o([f("cellPositionUtils")],Ln.prototype,"cellPositionUtils",void 0),$o([f("rowPositionUtils")],Ln.prototype,"rowPositionUtils",void 0),$o([f("columnModel")],Ln.prototype,"columnModel",void 0),$o([Ie("rangeService")],Ln.prototype,"rangeService",void 0),$o([P],Ln.prototype,"init",null),Ln=$o([G("undoRedoService")],Ln);var vS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let dh=class extends T{findHeader(e,t){let i,o,r;if(e.column instanceof Si?(o=`getDisplayedGroup${t}`,i=this.columnModel[o](e.column)):(r=`getDisplayedCol${t}`,i=this.columnModel[r](e.column)),!i)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)===Et.COLUMN_GROUP){const l=i;if(l.isPadding()&&this.isAnyChildSpanningHeaderHeight(l)){const{nextFocusColumn:c,nextRow:d}=this.getColumnVisibleChild(l,s,t);c&&(i=c,s=d)}}return{column:i,headerRowIndex:s}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some(t=>t.isSpanHeaderHeight())}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),r=i===Et.COLUMN;let s=i===Et.FLOATING_FILTER?e:e.getParent(),a=t-1;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),a--;a<0&&(s=e,a=t)}return{nextFocusColumn:s,nextRow:a}}getColumnVisibleChild(e,t,i="After"){let r=e,s=t+1;if(this.getHeaderRowType(t)===Et.COLUMN_GROUP){const a=e.getLeafColumns(),l="After"===i?a[0]:He(a);if(this.isAnyChildSpanningHeaderHeight(l.getParent())){r=l;let c=l.getParent();for(;c&&c!==e;)c=c.getParent(),s++}else r=e.getDisplayedChildren()[0]}return{nextFocusColumn:r,nextRow:s}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.columnModel.getAllDisplayedColumns(),o=i["start"===t?0:i.length-1];if(!o)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return s==Et.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==s?-1:e,column:o}}};vS([f("columnModel")],dh.prototype,"columnModel",void 0),vS([f("ctrlsService")],dh.prototype,"ctrlsService",void 0),dh=vS([G("headerPositionUtils")],dh);let CS=class{buildColumnDefs(e,t,i){const o=[],r={};return e.forEach(s=>{let l=!0,c=this.createDefFromColumn(s,t,i),d=s.getOriginalParent(),u=null;for(;d;){let h=null;if(d.isPadding()){d=d.getOriginalParent();continue}const p=r[d.getGroupId()];if(p){p.children.push(c),l=!1;break}if(h=this.createDefFromGroup(d),h&&(h.children=[c],r[h.groupId]=h,c=h,d=d.getOriginalParent()),u===d){l=!1;break}u=d}l&&o.push(c)}),o}createDefFromGroup(e){const t=im(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const o=im(e.getColDef());return o.colId=e.getColId(),o.width=e.getActualWidth(),o.rowGroup=e.isRowGroupActive(),o.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,o.pivot=e.isPivotActive(),o.pivotIndex=e.isPivotActive()?i.indexOf(e):null,o.aggFunc=e.isValueActive()?e.getAggFunc():null,o.hide=!e.isVisible()||void 0,o.pinned=e.isPinned()?e.getPinned():null,o.sort=e.getSort()?e.getSort():null,o.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,o}};CS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("columnDefFactory")],CS);var bS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let uh=class{getInitialRowClasses(e){const t=[];return D(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Ay(t,this.processClassesFromGridOptions(e.rowNode)),Ay(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=s=>{"string"==typeof s?t.push(s):Array.isArray(s)&&s.forEach(a=>t.push(a))},o=this.gridOptionsService.get("rowClass");if(o){if("function"==typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(o)}const r=this.gridOptionsService.getCallback("getRowClass");return r&&i(r({data:e.data,node:e,rowIndex:e.rowIndex})),t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},i=>{}),t}processRowClassRules(e,t,i){const o={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),o,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};bS([f("stylingService")],uh.prototype,"stylingService",void 0),bS([f("gridOptionsService")],uh.prototype,"gridOptionsService",void 0),uh=bS([G("rowCssClassCalculator")],uh);var ag=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let mc=class extends T{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const o=e.map((r,s)=>({currentPos:s,rowNode:r}));return o.sort(this.compareRowNodes.bind(this,t)),o.map(r=>r.rowNode)}compareRowNodes(e,t,i){const o=t.rowNode,r=i.rowNode;for(let s=0,a=e.length;s<a;s++){const l=e[s],c="desc"===l.sort,d=this.getValue(o,l.column),u=this.getValue(r,l.column);let h;const p=this.getComparator(l,o);if(h=p?p(d,u,o,r,c):X.defaultComparator(d,u,this.isAccentedSort),!isNaN(h)&&0!==h)return"asc"===l.sort?h:-1*h}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,o=i.getColDef().comparator;if(null!=o)return o;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const s=this.columnModel.getPrimaryColumn(r);return s?s.getColDef().comparator:void 0}getValue(e,t){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(t.getColDef().keyCreator)return e.key;const c=null===(i=e.allLeafChildren)||void 0===i?void 0:i[0];return c?this.valueService.getValue(t,c,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return a?null===(o=e.groupData)||void 0===o?void 0:o[a.getId()]:void 0}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}};var _S;ag([f("valueService")],mc.prototype,"valueService",void 0),ag([f("columnModel")],mc.prototype,"columnModel",void 0),ag([P],mc.prototype,"init",null),mc=ag([G("rowNodeSorter")],mc);let lg=_S=class extends T{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};lg.NAME="ctrlsService",lg=_S=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G(_S.NAME)],lg);let yS=class extends T{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(null!=t)return new t}};yS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("ctrlsFactory")],yS);var hh=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class wa extends ae{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",ew()||Zr())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Bl(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const i=this.getGui();["mouseenter","mousedown","touchstart"].forEach(o=>this.addManagedListener(i,o,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(o=>this.addManagedListener(i,o,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}getViewport(){return this.eViewport}getContainer(){return this.eContainer}}hh([N("eViewport")],wa.prototype,"eViewport",void 0),hh([N("eContainer")],wa.prototype,"eContainer",void 0),hh([f("scrollVisibleService")],wa.prototype,"scrollVisibleService",void 0),hh([f("ctrlsService")],wa.prototype,"ctrlsService",void 0),hh([f("animationFrameService")],wa.prototype,"animationFrameService",void 0);var ph=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let gc=(()=>{class n extends wa{constructor(){super(n.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Xl(i=>this.eContainer.style.width=`${i}px`))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let i=this.columnModel.getDisplayedColumnsRightWidth();const o=!this.enableRtl&&t,r=this.gridOptionsService.getScrollbarWidth();o&&(i+=r),In(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=r);let s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(s+=r),In(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=r)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,o=this.gridOptionsService.is("suppressHorizontalScroll"),r=t&&this.gridOptionsService.getScrollbarWidth()||0,a=o?0:0===r&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),ea(this.getGui(),a),ea(this.eViewport,a),ea(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})}}return n.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',n})();ph([N("eLeftSpacer")],gc.prototype,"eLeftSpacer",void 0),ph([N("eRightSpacer")],gc.prototype,"eRightSpacer",void 0),ph([f("columnModel")],gc.prototype,"columnModel",void 0),ph([f("pinnedRowModel")],gc.prototype,"pinnedRowModel",void 0),ph([P],gc.prototype,"postConstruct",null);var wS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let fh=class extends T{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:v.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:v.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};wS([f("columnModel")],fh.prototype,"columnModel",void 0),wS([P],fh.prototype,"postConstruct",null),fh=wS([G("pinnedWidthService")],fh);var cg=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let vc=class extends T{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)}};cg([f("animationFrameService")],vc.prototype,"animationFrameService",void 0),cg([f("rowModel")],vc.prototype,"rowModel",void 0),cg([P],vc.prototype,"postConstruct",null),vc=cg([G("rowNodeEventThrottle")],vc);var ls=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},OL=function(n,e){return function(t,i){e(t,i,n)}};function FL(n){return!0===n||"true"===n}let Ko=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new eo}get context(){return this.gridOptions.context}agWire(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t}init(){this.gridOptionLookup=new Set([...ve.ALL_PROPERTIES,...ve.EVENT_CALLBACKS]);const e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(e){return FL(this.gridOptions[e])}get(e){return this.gridOptions[e]}getNum(e){return function EZ(n){return"number"==typeof n?n:"string"==typeof n?parseInt(n,10):void 0}(this.gridOptions[e])}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return D(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>{const o=i;return o.api=this.api,o.columnApi=this.columnApi,o.context=this.context,e(o)})}set(e,t,i=!1,o={}){if(this.gridOptionLookup.has(e)){const r=this.gridOptions[e];if(i||r!==t){this.gridOptions[e]=t;const s=Object.assign({type:e,currentValue:t,previousValue:r},o);this.propertyEventService.dispatchEvent(s)}}}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}globalEventHandler(e,t){if(this.destroyed)return;const i=ve.getCallbackForEvent(e);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](t)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(null==this.scrollbarWidth){const t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:lN();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:v.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&q(this.gridOptions.rowModelType)}isDomLayout(e){var t;return(null!==(t=this.gridOptions.domLayout)&&void 0!==t?t:"normal")===e}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(e,t=!1,i){if(null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:i,estimated:!0};const r={node:e,data:e.data},s=this.getCallback("getRowHeight")(r);if(this.isNumeric(s))return 0===s&&xe(()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||q(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.environment.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const i=e[this.getDomDataKey()];return i?i[t]:void 0}setDomData(e,t,i){const o=this.getDomDataKey();let r=e[o];q(r)&&(r={},e[o]=r),r[t]=i}getDocument(){let e=null;return this.gridOptions.getDocument&&D(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&D(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return D(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.is("ensureDomOrder")&&this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isTreeData(){return this.is("treeData")&&Y.assertRegistered(F.RowGroupingModule,"Tree Data",this.api.getGridId())}isMasterDetail(){return this.is("masterDetail")&&Y.assertRegistered(F.MasterDetailModule,"masterDetail",this.api.getGridId())}isEnableRangeSelection(){return this.is("enableRangeSelection")&&Y.isRegistered(F.RangeSelectionModule,this.api.getGridId())}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!e?.comparator&&!this.isTreeData()}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):FL(e)?()=>!0:void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?Ny("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(e){return!e&&!!this.gridOptions.groupDisplayType&&Ny("groupRows",this.gridOptions.groupDisplayType)}};ls([f("gridOptions")],Ko.prototype,"gridOptions",void 0),ls([f("eventService")],Ko.prototype,"eventService",void 0),ls([f("environment")],Ko.prototype,"environment",void 0),ls([f("eGridDiv")],Ko.prototype,"eGridDiv",void 0),ls([OL(0,wi("gridApi")),OL(1,wi("columnApi"))],Ko.prototype,"agWire",null),ls([P],Ko.prototype,"init",null),ls([zt],Ko.prototype,"destroy",null),Ko=ls([G("gridOptionsService")],Ko);let SS=class extends T{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(i,o,r)=>e({key:i,defaultValue:o,variableValues:r});const t=this.gridOptionsService.get("localeText");return(i,o,r)=>{let s=t&&t[i];if(s&&r&&r.length){let a=0;for(;!(a>=r.length||-1===s.indexOf("${variable}"));)s=s.replace("${variable}",r[a++])}return s??o}}};SS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}([G("localeService")],SS);let PL=(()=>{class n extends wa{constructor(){super(n.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Om(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,o=t&&this.gridOptionsService.getScrollbarWidth()||0,r=0===o&&i?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),In(this.getGui(),r),In(this.eViewport,r),In(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const i=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=i.scrollTop&&(this.eViewport.scrollTop=i.scrollTop)}}return n.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',n})();!function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);o>3&&r&&Object.defineProperty(e,t,r)}([P],PL.prototype,"postConstruct",null);var Cc=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};const NL={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},LL=["january","february","march","april","may","june","july","august","september","october","november","december"];let cs=class extends T{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([o,r])=>{this.dataTypeDefinitions[o]=Object.assign(Object.assign({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})});const i=null!==(e=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==e?e:{};this.dataTypeMatchers={},Object.entries(i).forEach(([o,r])=>{const s=this.processDataTypeDefinition(r,i,[o],t);s&&(this.dataTypeDefinitions[o]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[o]=r.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(o=>{const r=this.dataTypeMatchers[o];r&&delete this.dataTypeMatchers[o],this.dataTypeMatchers[o]=r??t[o].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i=Object.assign(Object.assign({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,o){let r;const s=e.extendsDataType;if(e.extendsDataType===e.baseDataType){const a=o[s];if(!this.validateDataTypeDefinition(e,a,s))return;r=this.mergeDataTypeDefinitions(a,e)}else{if(i.includes(s))return void xe(()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.'),"dataTypeExtendsCircularRef");const a=t[s];if(!this.validateDataTypeDefinition(e,a,s))return;const l=this.processDataTypeDefinition(a,t,[...i,s],o);if(!l)return;r=this.mergeDataTypeDefinitions(l,e)}return Object.assign(Object.assign({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType===e.baseDataType||(xe(()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.'),"dataTypeBaseTypesMatch"),!1):(xe(()=>console.warn(`AG Grid: The data type definition ${i} does not exist.`),"dataTypeDefMissing"+i),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,o;if(null===(i=t.node)||void 0===i||!i.group)return this.groupHideOpenParents&&t.column.isRowGroupActive()?"string"!=typeof t.value||null!==(o=e.dataTypeMatcher)&&void 0!==o&&o.call(e,t.value)?e.valueFormatter(t):void 0:e.valueFormatter(t);{const r=t.column.getAggFunc();if(r){if("first"===r||"last"===r)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==r){if("number"==typeof t.value)return e.valueFormatter(t);if("object"==typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.value}))}}}}}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,i){let{cellDataType:o}=t;const{field:r}=t;if(void 0===o&&(o=e.cellDataType),(null==o||!0===o)&&(o=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(r)),!o)return void(e.cellDataType=!1);const s=this.dataTypeDefinitions[o];if(s)return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,i),s.columnTypes;xe(()=>console.warn(`AG Grid: Missing data type definition - "${o}"`),"dataTypeMissing"+o)}updateColDefAndGetColumnType(e,t,i){var o,r;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,i),a=null!==(r=null!==(o=t.type)&&void 0!==o?o:s)&&void 0!==r?r:e.type;return a?this.convertColumnTypes(a):void 0}canInferCellDataType(e,t){var i;if("clientSide"!==this.rowModel.getType())return!1;const o={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,o))return!1;const r=null===t.type?e.type:t.type;if(r){const s=null!==(i=this.gridOptionsService.get("columnTypes"))&&void 0!==i?i:{};if(this.convertColumnTypes(r).some(l=>{const c=s[l.trim()];return c&&this.doColDefPropsPreventInference(c,o)}))return!1}return!this.doColDefPropsPreventInference(e,o)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,o])=>this.doesColDefPropPreventInference(e,t,i,o))}doesColDefPropPreventInference(e,t,i,o){if(!t[i])return!1;const r=e[i];return null===r?(t[i]=!1,!1):void 0===o?!!r:r===o}inferCellDataType(e){var t;if(!e)return;const i=this.gridOptionsService.get("rowData");let o;const r=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");if(i?.length)o=Ys(i[0],e,r);else{const a=this.rowModel.getRootNode().allLeafChildren;a?.length?o=Ys(a[0].data,e,r):this.initWaitForRowData()}if(null==o)return;const[s]=null!==(t=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(o)))&&void 0!==t?t:["object"];return s}initWaitForRowData(){if(this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATED,()=>{e?.(),this.isWaitingForRowData=!1,setTimeout(()=>{this.columnModel.recreateColumnDefs("rowDataUpdated")})})}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(o=>"string"!=typeof o)?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):t=e:"string"==typeof e?t=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}checkType(e,t){var i;const o=e.getColDef();if(!o.cellDataType||null==t)return!0;const r=null===(i=this.dataTypeDefinitions[o.cellDataType])||void 0===i?void 0:i.dataTypeMatcher;return!r||r(t)}validateColDef(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&xe(()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&xe(()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(e,t,i){const o=(a,l,c)=>{let d=a.getColDef().valueFormatter;return d===t.groupSafeValueFormatter&&(d=t.valueFormatter),this.valueFormatterService.formatValue(a,l,c,d)},r=Y.isRegistered(F.SetFilterModule,this.context.getGridId()),s=this.localeService.getLocaleTextFunc();switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,t.baseDataType){case"number":e.cellEditor="agNumberCellEditor",r&&(e.filterParams={comparator:(a,l)=>{const c=null==a?0:parseInt(a),d=null==l?0:parseInt(l);return c===d?0:c>d?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===x.SPACE,e.filterParams=r?{valueFormatter:a=>D(a.value)?s(String(a.value),a.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,l)=>!1===l,numberOfInputs:0}]};break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=a=>o(a.column,a.node,a.value),r&&(e.filterParams={valueFormatter:a=>{const l=o(a.column,a.node,a.value);return D(l)?l:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,l)=>{if(1===l&&null!=a){const c=LL[Number(a)-1];return s(c,NL[c])}return a??s("blanks","(Blanks)")}});break;case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=l=>o(l.column,l.node,l.value);const a=this.getDateParserFunction();e.filterParams=r?{valueFormatter:l=>{const c=o(l.column,l.node,l.value);return D(c)?c:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const c=a(l??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(l,c)=>{if(1===c&&null!=l){const d=LL[Number(l)-1];return s(d,NL[d])}return l??s("blanks","(Blanks)")}}:{comparator:(l,c)=>{const d=a(c);return null==c||d<l?-1:d>l?1:0}};break}case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(a,l)=>{const c=this.columnModel.getPrimaryColumn(i),d=c?.getColDef();if(!c||!d)return 0;const u=null==a?"":o(c,null,a),h=null==l?"":o(c,null,l);return u===h?0:u>h?1:-1},e.keyCreator=a=>o(a.column,a.node,a.value),r?e.filterParams={valueFormatter:a=>{const l=o(a.column,a.node,a.value);return D(l)?l:s("blanks","(Blanks)")}}:e.filterValueGetter=a=>o(a.column,a.node,this.valueService.getValue(a.column,a.node))}}getDefaultDataTypes(){const e=i=>!!i.match("\\d{4}-\\d{2}-\\d{2}"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>""===i.newValue?null:Number(i.newValue),valueFormatter:i=>null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>"number"==typeof i},text:{baseDataType:"text",valueParser:i=>""===i.newValue?null:cu(i.newValue),dataTypeMatcher:i=>"string"==typeof i},boolean:{baseDataType:"boolean",valueParser:i=>""===i.newValue?null:"true"===String(i.newValue).toLowerCase(),valueFormatter:i=>null==i.value?"":String(i.value),dataTypeMatcher:i=>"boolean"==typeof i},date:{baseDataType:"date",valueParser:i=>no(null==i.newValue?null:String(i.newValue)),valueFormatter:i=>{var o;return null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?null!==(o=An(i.value,!1))&&void 0!==o?o:"":t("invalidDate","Invalid Date")},dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>{var o;return null!==(o=no(i))&&void 0!==o?o:void 0},dateFormatter:i=>{var o;return null!==(o=An(i??null,!1))&&void 0!==o?o:void 0},valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>"string"==typeof i&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>{var o;return null!==(o=cu(i.value))&&void 0!==o?o:""}}}}};Cc([f("rowModel")],cs.prototype,"rowModel",void 0),Cc([f("columnModel")],cs.prototype,"columnModel",void 0),Cc([f("valueService")],cs.prototype,"valueService",void 0),Cc([f("valueFormatterService")],cs.prototype,"valueFormatterService",void 0),Cc([P],cs.prototype,"init",null),cs=Cc([G("dataTypeService")],cs);var kL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let dg=class extends T{parseValue(e,t,i,o){const r=e.getColDef(),s={node:t,data:t?.data,oldValue:o,newValue:i,colDef:r,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},a=r.valueParser;return D(a)?"function"==typeof a?a(s):this.expressionService.evaluate(a,s):i}};kL([f("expressionService")],dg.prototype,"expressionService",void 0),dg=kL([G("valueParserService")],dg);class RZ{constructor(e,t,i){t?(this.gridOptions=t,(new MZ).create(e,t,o=>{const r=new dc(e);o.createBean(r)},void 0,i)):console.error("AG Grid: no gridOptions provided to the grid")}destroy(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()}}let TZ=1;class MZ{create(e,t,i,o,r){var s;const a=!!t.debug,l=null!==(s=t.gridId)&&void 0!==s?s:String(TZ++),c=this.getRegisteredModules(r,l),d=this.createBeansList(t.rowModelType,c,l),u=this.createProvidedBeans(e,t,r);if(!d)return;const h={providedBeanInstances:u,beanClasses:d,debug:a,gridId:l},p=new sS("AG Grid",()=>t.debug),g=new sS("Context",()=>h.debug),m=new a9(h,g),C=m.getBean("beans");this.registerModuleUserComponents(C,c),this.registerStackComponents(C,c),this.registerControllers(C,c),i(m),C.ctrlsService.whenReady(()=>{this.setColumnsAndData(C),this.dispatchGridReadyEvent(C);const _=Y.isRegistered(F.EnterpriseCoreModule,l);p.log(`initialised successfully, enterprise = ${_}`)}),o&&o(m)}registerControllers(e,t){t.forEach(i=>{i.controllers&&i.controllers.forEach(o=>e.ctrlsFactory.register(o))})}registerStackComponents(e,t){const i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)}getRegisteredModules(e,t){const i=e?e.modules:null,o=Y.getRegisteredModules(t),r=[],s={},a=(l,c,d)=>{var h;s[(h=c).moduleName]||(s[h.moduleName]=!0,r.push(h),Y.register(h,l,d)),c.dependantModules&&c.dependantModules.forEach(h=>a(l,h,d))};return i&&i.forEach(l=>a(!0,l,t)),o&&o.forEach(l=>a(!Y.isPackageBased(),l,void 0)),r}registerModuleUserComponents(e,t){this.extractModuleEntity(t,o=>o.userComponents?o.userComponents:[]).forEach(o=>{e.userComponentRegistry.registerDefaultComponent(o.componentName,o.componentClass)})}createProvidedBeans(e,t,i){let o=i?i.frameworkOverrides:null;q(o)&&(o=new wL);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:o};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:Jr},{componentName:"AgRadioButton",componentClass:AN},{componentName:"AgToggleButton",componentClass:eZ},{componentName:"AgInputTextField",componentClass:ta},{componentName:"AgInputTextArea",componentClass:tZ},{componentName:"AgInputNumberField",componentClass:Dw},{componentName:"AgInputDateField",componentClass:iZ},{componentName:"AgInputRange",componentClass:nZ},{componentName:"AgSelect",componentClass:bu},{componentName:"AgSlider",componentClass:Qu},{componentName:"AgGridBody",componentClass:co},{componentName:"AgHeaderRoot",componentClass:fL},{componentName:"AgSortIndicator",componentClass:Ho},{componentName:"AgPagination",componentClass:hn},{componentName:"AgOverlayWrapper",componentClass:ya},{componentName:"AgGroupComponent",componentClass:Rr},{componentName:"AgPanel",componentClass:va},{componentName:"AgDialog",componentClass:yL},{componentName:"AgRowContainer",componentClass:da},{componentName:"AgFakeHorizontalScroll",componentClass:gc},{componentName:"AgFakeVerticalScroll",componentClass:PL}];const i=this.extractModuleEntity(e,o=>o.agStackComponents?o.agStackComponents:[]);return t=t.concat(i),t}createBeansList(e="clientSide",t,i){const o=t.filter(c=>!c.rowModel||c.rowModel===e),r={clientSide:F.ClientSideRowModelModule,infinite:F.InfiniteRowModelModule,serverSide:F.ServerSideRowModelModule,viewport:F.ViewportRowModelModule};if(!r[e])return void console.error("AG Grid: could not find row model for rowModelType = "+e);if(!Y.assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const s=[te,fc,mS,dh,sh,we,Du,ng,ah,Qw,es,hc,Wu,SS,Vl,qu,Ru,ky,eo,Ko,rs,ba,Bo,Gt,ha,Yu,dn,Xm,kl,rS,Ca,ui,tg,as,Jm,Ly,fa,pa,De,ih,Bt,Jl,lh,ss,$m,Ym,Iu,oh,aS,rh,rg,uu,uc,sc,Ln,Gy,CS,uh,ns,mc,lg,fh,vc,yS,cs,dg],a=this.extractModuleEntity(o,c=>c.beans?c.beans:[]);s.push(...a);const l=[];return s.forEach(c=>{l.indexOf(c)<0&&l.push(c)}),l}extractModuleEntity(e,t){return[].concat(...e.map(t))}setColumnsAndData(e){const t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()}dispatchGridReadyEvent(e){e.eventService.dispatchEvent({type:v.EVENT_GRID_READY})}}class AZ{wrap(e,t,i=[],o){const r=this.createWrapper(e,o);return t.forEach(s=>{this.createMethod(r,s,!0)}),i.forEach(s=>{this.createMethod(r,s,!1)}),r}unwrap(e){return e}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}}const bc=typeof global>"u"?{}:global;bc.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,bc.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,bc.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,bc.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,bc.Node=typeof Node>"u"?{}:Node,bc.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;let IZ=(()=>{class n{constructor(t,i,o,r,s,a){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=i,this.eventService=o,this.columnModel=r,this.beans=a,this.selectionService=s,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()}getCopyOfNodesMap(){return X.cloneObject(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if("string"==typeof t)return void console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");const i=this.rootNode,o=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(r=>this.createNode(r,this.rootNode,n.TOP_LEVEL)):(i.allLeafChildren=[],i.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=i.childrenAfterFilter,o.childrenAfterGroup=i.childrenAfterGroup,o.childrenAfterAggFilter=i.childrenAfterAggFilter,o.childrenAfterSort=i.childrenAfterSort,o.childrenMapped=i.childrenMapped,o.allLeafChildren=i.allLeafChildren)}updateRowData(t,i){const o={remove:[],update:[],add:[]},r=[];return this.executeRemove(t,o,r),this.executeUpdate(t,o,r),this.executeAdd(t,o),this.updateSelection(r,"rowDataChanged"),i&&X.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),o}updateSelection(t,i){const o=t.length>0;o&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:i}),this.selectionService.updateGroupsFromChildrenSelections(i),o&&this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:i})}executeAdd(t,i){var o;const{add:r,addIndex:s}=t;if(X.missingOrEmpty(r))return;const a=r.map(l=>this.createNode(l,this.rootNode,n.TOP_LEVEL));if("number"==typeof s&&s>=0){const{allLeafChildren:l}=this.rootNode,c=l.length;let d=s;if(this.doingTreeData&&s>0&&c>0)for(let p=0;p<c;p++)if((null===(o=l[p])||void 0===o?void 0:o.rowIndex)==s-1){d=p+1;break}const u=l.slice(0,d),h=l.slice(d,l.length);this.rootNode.allLeafChildren=[...u,...a,...h]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...a];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=a}executeRemove(t,i,o){const{remove:r}=t;if(X.missingOrEmpty(r))return;const s={};r.forEach(a=>{const l=this.lookupRowNode(a);l&&(l.isSelected()&&o.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete this.allNodesMap[l.id],i.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(a=>!s[a.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,i,o){const{update:r}=t;X.missingOrEmpty(r)||r.forEach(s=>{const a=this.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&o.push(a),this.setMasterForRow(a,s,n.TOP_LEVEL,!1),i.update.push(a))})}lookupRowNode(t){const i=this.gridOptionsService.getCallback("getRowId");let o;if(i){const r=i({data:t,level:0});if(o=this.allNodesMap[r],!o)return console.error(`AG Grid: could not find row id=${r}, data item was not found for this id`),null}else if(o=this.rootNode.allLeafChildren.find(r=>r.data===t),!o)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return o||null}createNode(t,i,o){const r=new me(this.beans);return r.group=!1,this.setMasterForRow(r,t,o,!0),i&&!this.suppressParentsInRowNodes&&(r.parent=i),r.level=o,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn(`AG Grid: duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(t,i,o,r){if(this.doingTreeData)t.setMaster(!1),r&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(i))),r){const s=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(o+(s?s.length:0))}}isExpanded(t){const i=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===i||t<i}}return n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n})();var Ui=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r},jt=(()=>((jt=jt||{})[jt.Normal=0]="Normal",jt[jt.AfterFilter=1]="AfterFilter",jt[jt.AfterFilterAndSort=2]="AfterFilterAndSort",jt[jt.PivotNodes=3]="PivotNodes",jt))();let pi=class extends T{constructor(){super(...arguments),this.onRowHeightChanged_debounced=X.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const e=this.refreshModel.bind(this,{step:pe.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:pe.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:pe.PIVOT})),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const o=this.refreshModel.bind(this,{step:pe.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListener("groupRemoveSingleChildren",o),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",o),this.rootNode=new me(this.beans),this.nodeManager=new IZ(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)}start(){const e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)}ensureRowHeightsValid(e,t,i,o){let r,s=!1;do{r=!1;const a=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),c=Math.max(a,i),d=Math.min(l,o);for(let u=c;u<=d;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const p=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(p.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,o=this.gridOptionsService.isDomLayout("normal");for(let r=0;r<this.rowsToDisplay.length;r++){const s=this.rowsToDisplay[r];if(null!=s.id&&i.add(s.id),null==s.rowHeight){const a=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(a.height,a.estimated)}s.setRowTop(t),s.setRowIndex(r),t+=s.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),o=s=>{s&&null!=s.id&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(i&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(r))};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const o=this.getRowIndexAtPixel(t),r=this.getRow(o),s=!this.gridOptionsService.is("suppressAnimationFrame");return r!==e[0]&&(e.forEach(a=>{X.removeFromArray(this.rootNode.allLeafChildren,a)}),e.forEach((a,l)=>{X.insertIntoArray(this.rootNode.allLeafChildren,a,Math.max(o+i,0)+l)}),this.refreshModel({step:pe.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(e,t){const i=null!=t?this.getRowIndexAtPixel(t):null,o=null!=i?this.getRow(i):null;if(!o||!e||o===e||null==t)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const r=this.getHighlightPosition(t,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(r),this.lastHighlightedRow=o}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(!(t=this.getRow(r||0)))return Vi.Below}const{rowTop:i,rowHeight:o}=t;return e-i<o/2?Vi.Above:Vi.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(X.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:pe.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),o=0===e.columns.length||e.columns.some(r=>r.isPrimary())?pe.FILTER:pe.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:pe.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:pe.PIVOT}):this.refreshModel({step:pe.AGGREGATE})}createChangePath(e){const t=X.missingOrEmpty(e),i=new Xw(!1,this.rootNode);return(t||this.gridOptionsService.isTreeData())&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter(o=>null!=o.add&&o.add.length>0||null!=o.remove&&o.remove.length>0);return null==t||0==t.length}buildRefreshModelParams(e){let t=pe.EVERYTHING;const i={everything:pe.EVERYTHING,group:pe.EVERYTHING,filter:pe.FILTER,map:pe.MAP,aggregate:pe.AGGREGATE,sort:pe.SORT,pivot:pe.PIVOT};if(X.exists(e)&&(t=i[e]),!X.missing(t))return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`)}refreshModel(e){let t="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(t.step){case pe.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,i,!!t.afterColumnsChanged);case pe.FILTER:this.doFilter(i);case pe.PIVOT:this.doPivot(i);case pe.AGGREGATE:this.doAggregate(i);case pe.FILTER_AGGREGATES:this.doFilterAggregates(i);case pe.SORT:this.doSort(t.rowNodeTransactions,i);case pe.MAP:this.doRowsToDisplay()}const o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.eventService.dispatchEvent({type:v.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=X.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return X.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return X.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!t,o=!1;const r=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(a=>{if(!o)if(i&&(a===t||a===e)&&(o=!0,a.group&&s))r.push(...a.allLeafChildren);else{if(!i){if(a!==t&&a!==e)return;i=!0}a.group&&s||r.push(a)}}),r}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(X.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){const a=Math.floor((t+i)/2),l=this.rowsToDisplay[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?t=a+1:l.rowTop>e&&(i=a-1),r===t&&s===i))return a;r=t,s=i}}isRowInPixel(e,t){return e.rowTop<=t&&e.rowTop+e.rowHeight>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:jt.Normal,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:jt.AfterFilter,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:jt.AfterFilterAndSort,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:jt.PivotNodes,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:i,callback:o,recursionType:r,includeFooterNodes:s}=e;let{index:a}=e;const l=i[0];s&&null!==(t=l?.parent)&&void 0!==t&&t.sibling&&i.push(l.parent.sibling);for(let c=0;c<i.length;c++){const d=i[c];if(o(d,a++),d.hasChildren()&&!d.footer){let u=null;switch(r){case jt.Normal:u=d.childrenAfterGroup;break;case jt.AfterFilter:u=d.childrenAfterAggFilter;break;case jt.AfterFilterAndSort:u=d.childrenAfterSort;break;case jt.PivotNodes:u=d.leafGroup?null:d.childrenAfterSort}u&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...u],callback:o,recursionType:r,index:a,includeFooterNodes:s}))}}return a}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.isTreeData(),i=this.columnModel.isPivotActive(),o=a=>{a&&a.forEach(l=>{const c=()=>{l.expanded=e,o(l.childrenAfterGroup)};t?X.exists(l.childrenAfterGroup)&&c():i?!l.leafGroup&&c():l.group&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:pe.MAP}),this.eventService.dispatchEvent({type:v.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,o,r){this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:r}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o)&&this.eventService.dispatchEvent({type:v.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())}restoreGroupState(e){e&&X.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,i)=>{"boolean"==typeof e[i]&&(t.expanded=e[i])})}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const e={};return X.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,i)=>e[i]=t.expanded),e}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if("string"==typeof e&&0==e.indexOf(me.ID_PREFIX_ROW_GROUP)){let i;return this.forEachNode(o=>{o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){const t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:v.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:pe.EVERYTHING,groupState:t,newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(o=>{const r=this.nodeManager.updateRowData(o.rowDataTransaction,void 0);t.push(r),o.callback&&e.push(o.callback.bind(null,r)),"number"==typeof o.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(t,void 0,i),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventService.dispatchEvent({type:v.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const i=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([i],t,"number"==typeof e.addIndex),i}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let i=0;i<this.rootNode.allLeafChildren.length;i++)t[this.rootNode.allLeafChildren[i].id]=i;return t}commonUpdateRowData(e,t,i){const o=!this.gridOptionsService.is("suppressAnimationFrame");i&&(t=this.createRowNodeOrder()),this.refreshModel({step:pe.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:v.EVENT_ROW_DATA_UPDATED})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:pe.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};Ui([f("columnModel")],pi.prototype,"columnModel",void 0),Ui([f("selectionService")],pi.prototype,"selectionService",void 0),Ui([f("filterManager")],pi.prototype,"filterManager",void 0),Ui([f("valueCache")],pi.prototype,"valueCache",void 0),Ui([f("beans")],pi.prototype,"beans",void 0),Ui([f("filterStage")],pi.prototype,"filterStage",void 0),Ui([f("sortStage")],pi.prototype,"sortStage",void 0),Ui([f("flattenStage")],pi.prototype,"flattenStage",void 0),Ui([Ie("groupStage")],pi.prototype,"groupStage",void 0),Ui([Ie("aggregationStage")],pi.prototype,"aggregationStage",void 0),Ui([Ie("pivotStage")],pi.prototype,"pivotStage",void 0),Ui([Ie("filterAggregatesStage")],pi.prototype,"filterAggregatesStage",void 0),Ui([P],pi.prototype,"init",null),pi=Ui([G("rowModel")],pi);var GL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let ug=class extends T{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};GL([f("filterService")],ug.prototype,"filterService",void 0),ug=GL([G("filterStage")],ug);var hg=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let _c=class extends T{execute(e){const t=this.sortController.getSortOptions(),i=X.exists(t)&&t.length>0,o=i&&X.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),r=t.some(s=>!!this.columnModel.getGroupDisplayColumnForGroup(s.column.getId()));this.sortService.sort(t,i,o,e.rowNodeTransactions,e.changedPath,r)}};hg([f("sortService")],_c.prototype,"sortService",void 0),hg([f("sortController")],_c.prototype,"sortController",void 0),hg([f("columnModel")],_c.prototype,"columnModel",void 0),_c=hg([G("sortStage")],_c);var ES=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let mh=class extends T{execute(e){const t=e.rowNode,i=[],o={value:0},r=this.columnModel.isPivotMode(),s=r&&t.leafGroup;return this.recursivelyAddToRowsToDisplay(s?[t]:t.childrenAfterSort,i,o,r,0),!s&&i.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(t.createFooter(),this.addRowNodeToRowsToDisplay(t.sibling,i,o,0)),i}recursivelyAddToRowsToDisplay(e,t,i,o,r){if(X.missingOrEmpty(e))return;const s=this.gridOptionsService.is("groupHideOpenParents"),a=this.gridOptionsService.is("groupRemoveSingleChildren"),l=!a&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");for(let c=0;c<e.length;c++){const d=e[c],u=d.hasChildren(),p=a&&u&&1===d.childrenAfterGroup.length,g=l&&u&&d.leafGroup&&1===d.childrenAfterGroup.length;if(!(o&&!u)&&!(s&&d.expanded&&!d.master&&(!o||!d.leafGroup))&&!p&&!g&&this.addRowNodeToRowsToDisplay(d,t,i,r),!o||!d.leafGroup)if(u){const b=p||g;if(d.expanded||b){const y=b?r:r+1;this.recursivelyAddToRowsToDisplay(d.childrenAfterSort,t,i,o,y),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(d.sibling,t,i,y)}}else if(d.master&&d.expanded){const b=this.createDetailNode(d);this.addRowNodeToRowsToDisplay(b,t,i,r)}}}addRowNodeToRowsToDisplay(e,t,i,o){const r=this.gridOptionsService.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(r?0:o)}createDetailNode(e){if(X.exists(e.detailNode))return e.detailNode;const t=new me(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,X.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};ES([f("columnModel")],mh.prototype,"columnModel",void 0),ES([f("beans")],mh.prototype,"beans",void 0),mh=ES([G("flattenStage")],mh);var pg=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let yc=class extends T{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(e,t,i,o,r,s){const a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some(h=>h.isRowGroupActive());let c={};i&&o&&(c=this.calculateDirtyNodes(o));const d=this.columnModel.isPivotMode();r&&r.forEachChangedNodeDepthFirst(h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const p=d&&h.leafGroup;if(a&&l&&!h.leafGroup&&!s){const m=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort){const C={};h.childrenAfterSort.forEach((_,b)=>{C[_.id]=b}),m.sort((_,b)=>{var y,R;return(null!==(y=C[_.id])&&void 0!==y?y:0)-(null!==(R=C[b.id])&&void 0!==R?R:0)})}h.childrenAfterSort=m}else h.childrenAfterSort=!t||p?h.childrenAfterAggFilter.slice(0):i?this.doDeltaSort(h,c,r,e):this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),this.postSortFunc&&this.postSortFunc({nodes:h.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=o=>{o&&o.forEach(r=>t[r.id]=!0)};return e&&e.forEach(o=>{i(o.add),i(o.update),i(o.remove)}),t}doDeltaSort(e,t,i,o){const r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,o);const a={},l=[];r.forEach(h=>{t[h.id]||!i.canSkip(h)?l.push(h):a[h.id]=!0});const c=s.filter(h=>a[h.id]),d=(h,p)=>({currentPos:p,rowNode:h}),u=l.map(d).sort((h,p)=>this.rowNodeSorter.compareRowNodes(o,h,p));return this.mergeSortedArrays(o,u,c.map(d)).map(({rowNode:h})=>h)}mergeSortedArrays(e,t,i){const o=[];let r=0,s=0;for(;r<t.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[s])<0?o.push(t[r++]):o.push(i[s++]);for(;r<t.length;)o.push(t[r++]);for(;s<i.length;)o.push(i[s++]);return o}updateChildIndexes(e){if(X.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const o=t[i],s=i===e.childrenAfterSort.length-1;o.setFirstChild(0===i),o.setLastChild(s),o.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.isTreeData()){const i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return X.doOnce(()=>console.warn(i),"sortService.hideOpenParentsWithTreeData"),!1}const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(o=>{o.hasChildren()&&t(o)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.is("groupHideOpenParents")||X.missing(e)||e.forEach(i=>{this.columnModel.getGroupDisplayColumns().forEach(r=>{const s=r.getColDef().showRowGroup;if("string"!=typeof s)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const l=this.columnModel.getPrimaryColumn(s);if(l!==i.rowGroupColumn)if(t)i.setGroupValue(r.getId(),void 0);else{const d=i.getFirstChildOfFirstChild(l);d&&i.setGroupValue(r.getId(),d.key)}})})}};pg([f("columnModel")],yc.prototype,"columnModel",void 0),pg([f("rowNodeSorter")],yc.prototype,"rowNodeSorter",void 0),pg([P],yc.prototype,"init",null),yc=pg([G("sortService")],yc);var VL=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let fg=class extends T{filter(e){const t=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const i=(o,r)=>{o.childrenAfterFilter=o.hasChildren()&&e&&!r?o.childrenAfterGroup.filter(s=>{const a=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,l=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return a||l}):o.childrenAfterGroup,o.sibling&&(o.sibling.childrenAfterFilter=o.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const o=(s,a)=>{if(s.childrenAfterGroup)for(let l=0;l<s.childrenAfterGroup.length;l++){const c=s.childrenAfterGroup[l],d=a||this.filterManager.doesRowPassFilter({rowNode:c});c.childrenAfterGroup?o(s.childrenAfterGroup[l],d):i(c,d)}i(s,a)};t.executeFromRootNode(s=>o(s,!1))}else t.forEachChangedNodeDepthFirst(r=>i(r,!1),!0)}doingTreeDataFiltering(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};VL([f("filterManager")],fg.prototype,"filterManager",void 0),fg=VL([G("filterService")],fg);var mg=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let wc=class extends T{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}isActive(){const e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[i,o]=t;this.clientSideRowModel.updateRowData(i,o)}createTransactionForRowData(e){if(X.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const t=this.gridOptionsService.getCallback("getRowId");if(null==t)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return X.exists(e)&&e.forEach((a,l)=>{const c=t({data:a,level:0}),d=o[c];s&&(s[c]=l),d?(d.data!==a&&i.update.push(a),o[c]=void 0):i.add.push(a)}),X.iterateObject(o,(a,l)=>{l&&i.remove.push(l.data)}),[i,s]}};mg([f("rowModel")],wc.prototype,"rowModel",void 0),mg([f("rowRenderer")],wc.prototype,"rowRenderer",void 0),mg([P],wc.prototype,"postConstruct",null),wc=mg([G("immutableService")],wc);const OZ={version:"30.0.1",moduleName:F.ClientSideRowModelModule,rowModel:"clientSide",beans:[pi,ug,_c,mh,yc,fg,wc]};var xS=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};class gh extends Jw{constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),X.exists(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();X.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}}forEachNode(e,t,i){this.rowNodes.forEach((o,r)=>{this.startRow+r<i&&e(o,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){return t||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new me(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,o)=>{this.setDataAndId(i,e.rowData?e.rowData[o]:void 0,this.startRow+o)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}}xS([f("beans")],gh.prototype,"beans",void 0),xS([P],gh.prototype,"postConstruct",null),xS([zt],gh.prototype,"destroyRowNodes",null);var gg=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let vh=(()=>{class n extends T{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}setBeans(t){this.logger=t.create("InfiniteCache")}getRow(t,i=!1){const o=Math.floor(t/this.params.blockSize);let r=this.blocks[o];if(!r){if(i)return;r=this.createBlock(o)}return r.getRow(t)}createBlock(t){const i=this.createBean(new gh(t,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(i=>i.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,i){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${t.getId()}, lastRow = ${i}`),this.checkRowCount(t,i),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const i=this.getBlocksInOrder().filter(l=>l!=t);i.sort((l,c)=>c.getLastAccessed()-l.getLastAccessed());const r=this.params.maxBlocksInCache>0,s=r?this.params.maxBlocksInCache-1:null,a=n.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((l,c)=>{if(l.getState()===gh.STATE_WAITING_TO_LOAD&&c>=a||r&&c>=s){if(this.isBlockCurrentlyDisplayed(l)||this.isBlockFocused(l))return;this.removeBlockFromCache(l)}})}isBlockFocused(t){const i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;const o=t.getStartRow(),r=t.getEndRow();return i.rowIndex>=o&&i.rowIndex<r}isBlockCurrentlyDisplayed(t){const i=t.getStartRow(),o=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,o)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const r=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<r&&(this.rowCount=r)}}setRowCount(t,i){this.rowCount=t,X.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const i=new zl;this.getBlocksInOrder().forEach(o=>o.forEachNode(t,i,this.rowCount))}getBlocksInOrder(){return X.getAllValuesInObject(this.blocks).sort((o,r)=>o.getId()-r.getId())}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:v.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(i=>{i.getId()*this.params.blockSize>=this.rowCount&&t.push(i)}),t.length>0&&t.forEach(i=>this.destroyBlock(i))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,i){const o=[];let r=-1,s=!1;const a=new zl;X.missing(t)&&(s=!0);let l=!1;return this.getBlocksInOrder().forEach(d=>{if(!l){if(s&&r+1!==d.getId())return void(l=!0);r=d.getId(),d.forEachNode(u=>{const h=u===t||u===i;(s||h)&&o.push(u),h&&(s=!s)},a,this.rowCount)}}),l||s?[]:o}}return n.MAX_EMPTY_BLOCKS_TO_KEEP=2,n})();gg([f("rowRenderer")],vh.prototype,"rowRenderer",void 0),gg([f("focusService")],vh.prototype,"focusService",void 0),gg([function(n,e){return function(t,i){e(t,i,0)}}(0,wi("loggerFactory"))],vh.prototype,"setBeans",null),gg([zt],vh.prototype,"destroyAllBlocks",null);var ds=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let qo=class extends T{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,i,o){return!1}init(){this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){const e="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";X.doOnce(()=>console.warn(e),"IRM.InitialGroupOrderComparator")}}start(){this.setDatasource(this.gridOptionsService.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,v.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!X.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset(),this.resetCache();const i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}createModelUpdatedEvent(){return{type:v.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new zl},this.infiniteCache=this.createBean(new vh(this.cacheParams))}defaultIfInvalid(e,t){return e>0?e:t}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};ds([f("filterManager")],qo.prototype,"filterManager",void 0),ds([f("sortController")],qo.prototype,"sortController",void 0),ds([f("selectionService")],qo.prototype,"selectionService",void 0),ds([f("rowRenderer")],qo.prototype,"rowRenderer",void 0),ds([f("rowNodeBlockLoader")],qo.prototype,"rowNodeBlockLoader",void 0),ds([P],qo.prototype,"init",null),ds([zt],qo.prototype,"destroyDatasource",null),qo=ds([G("rowModel")],qo);const PZ={version:"30.0.1",moduleName:F.InfiniteRowModelModule,rowModel:"infinite",beans:[qo]};class NZ{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(null==e||!e.length)&&(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}}class LZ{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:i,gridOptionsService:o,valueFormatterService:r,valueParserService:s,processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:c,processRowGroupCallback:d}=e;this.columnModel=t,this.valueService=i,this.gridOptionsService=o,this.valueFormatterService=r,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=c,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,o,r){const a=this.gridOptionsService.is("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,e,t)?this.valueService.getValue(e,r):this.createValueForGroupNode(r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:a,processCellCallback:this.processCellCallback,type:o})}shouldRenderGroupSummaryCell(e,t,i){var o;if(!e||!e.group)return!1;if(-1!==this.groupColumns.indexOf(t)){if(null!==(o=e.groupData)&&void 0!==o&&o[t.getId()])return!0;if(e.footer&&-1===e.level){const l=t.getColDef();return null==l||!0===l.showRowGroup||l.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&a}getHeaderName(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});const t=e.footer,i=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)i.push((e=e.parent).key);const o=i.reverse().join(" -> ");return t?`Total ${o}`:o}processCell(e){var t;const{accumulatedRowIndex:i,rowNode:o,column:r,value:s,processCellCallback:a,type:l}=e;return a?{value:null!==(t=a({accumulatedRowIndex:i,column:r,node:o,value:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:l,parseValue:c=>this.valueParserService.parseValue(r,o,c,this.valueService.getValue(r,o)),formatValue:c=>{var d;return null!==(d=this.valueFormatterService.formatValue(r,o,c))&&void 0!==d?d:c}}))&&void 0!==t?t:""}:r.getColDef().useValueFormatterForExport?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(r,o,s)}:{value:s??""}}}class kZ{static download(e,t){const i=document.defaultView||window;if(!i)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const o=document.createElement("a"),r=i.URL.createObjectURL(t);o.setAttribute("href",r),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(o),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}}class GZ extends LZ{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,o)=>{0!==o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,o){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(o)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){var o;0!=t&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(null!==(o=r.valueFormatted)&&void 0!==o?o:r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null==e)return'""';let t;return"string"==typeof e?t=e:"function"==typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}}var us=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Yo=class extends NZ{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})}getMergedParams(e){const t=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";const t=this.getMergedParams(e),i=this.getData(t),o=new Blob(["\ufeff",i],{type:"text/plain"});return kZ.download(this.getFileName(t.fileName),o),i}exportDataAsCsv(e){return this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileName(){return"export.csv"}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:i,gridOptionsService:o,valueFormatterService:r,valueParserService:s}=this,{processCellCallback:a,processHeaderCallback:l,processGroupHeaderCallback:c,processRowGroupCallback:d,suppressQuotes:u,columnSeparator:h}=e;return new GZ({columnModel:t,valueService:i,gridOptionsService:o,valueFormatterService:r,valueParserService:s,processCellCallback:a||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:d||void 0,suppressQuotes:u||!1,columnSeparator:h||","})}isExportSuppressed(){return this.gridOptionsService.is("suppressCsvExport")}};us([f("columnModel")],Yo.prototype,"columnModel",void 0),us([f("valueService")],Yo.prototype,"valueService",void 0),us([f("gridSerializer")],Yo.prototype,"gridSerializer",void 0),us([f("gridOptionsService")],Yo.prototype,"gridOptionsService",void 0),us([f("valueFormatterService")],Yo.prototype,"valueFormatterService",void 0),us([f("valueParserService")],Yo.prototype,"valueParserService",void 0),us([P],Yo.prototype,"postConstruct",null),Yo=us([G("csvCreator")],Yo);var hs=function(n,e,t,i){var s,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(r=(o<3?s(r):o>3?s(e,t,r):s(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r};let Qo=class extends T{serialize(e,t={}){const i=this.getColumnsToExport(t.allColumns,t.columnKeys);return X.compose(this.prepareSession(i),this.prependContent(t),this.exportColumnGroups(t,i),this.exportHeaders(t,i),this.processPinnedTopRows(t,i),this.processRows(t,i),this.processPinnedBottomRows(t,i),this.appendContent(t))(e).parse()}processRow(e,t,i,o){const r=t.shouldRowBeSkipped||(()=>!1),s=this.gridOptionsService.context,a=this.gridOptionsService.api,l=this.gridOptionsService.columnApi,c=this.gridOptionsService.is("groupRemoveSingleChildren"),d=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),h=null!=t.rowPositions||!!t.onlySelected,p=this.gridOptionsService.is("groupHideOpenParents")&&!h,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,m=!!o.footer,b=1===o.allChildrenCount&&(c||d&&o.leafGroup);if((t.skipGroups||t.skipRowGroups)&&t.skipGroups&&X.doOnce(()=>console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`."),"gridSerializer-skipGroups"),!g&&!m&&(t.skipRowGroups||b||p)||t.onlySelected&&!o.isSelected()||t.skipPinnedTop&&"top"===o.rowPinned||t.skipPinnedBottom&&"bottom"===o.rowPinned||-1===o.level&&!g&&!m||r({node:o,api:a,columnApi:l,context:s}))return;const M=e.onNewBodyRow(o);if(i.forEach((V,$)=>{M.onColumn(V,$,o)}),t.getCustomContentBelowRow){const V=t.getCustomContentBelowRow({node:o,api:a,columnApi:l,context:s});V&&e.addCustomContent(V)}}appendContent(e){return t=>{const i=e.customFooter||e.appendContent;return i&&(e.customFooter&&X.doOnce(()=>console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead."),"gridSerializer-customFooter"),t.addCustomContent(i)),t}}prependContent(e){return t=>{const i=e.customHeader||e.prependContent;return i&&(e.customHeader&&X.doOnce(()=>console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead."),"gridSerializer-customHeader"),t.addCustomContent(i)),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(e.skipColumnGroupHeaders)e.columnGroups&&X.doOnce(()=>console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default."),"gridSerializer-columnGroups");else{const o=new kP,r=this.displayedGroupCreator.createDisplayedGroups(t,this.columnModel.getGridBalancedTree(),o,null);this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&X.doOnce(()=>console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`."),"gridSerializer-skipHeader");else{const o=i.onNewHeaderRow();t.forEach((r,s)=>{o.onColumn(r,s,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const o=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"top"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(o):this.pinnedRowModel.forEachPinnedTopRow(o),i}}processRows(e,t){return i=>{const o=this.rowModel,r=o.getType(),s="clientSide"===r,a="serverSide"===r,l=!s&&e.onlySelected,c=this.processRow.bind(this,i,e,t),{exportedRows:d="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(u=>null==u.rowPinned).sort((u,h)=>u.rowIndex-h.rowIndex).map(u=>o.getRow(u.rowIndex)).forEach(c);else if(this.columnModel.isPivotMode())s?o.forEachPivotNode(c,!0):o.forEachNode(c);else if(e.onlySelectedAllPages||l){const u=this.selectionService.getSelectedNodes();this.replicateSortedOrder(u),u.forEach(c)}else"all"===d?o.forEachNode(c):s?o.forEachNodeAfterFilterAndSort(c,!0):a?o.forEachNodeAfterFilterAndSort(c):o.forEachNode(c);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(o,r)=>{var s,a,l,c;return null!=o.rowIndex&&null!=r.rowIndex?o.rowIndex-r.rowIndex:o.level===r.level?(null===(s=o.parent)||void 0===s?void 0:s.id)===(null===(a=r.parent)||void 0===a?void 0:a.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:o,currentPos:null!==(l=o.rowIndex)&&void 0!==l?l:-1},{rowNode:r,currentPos:null!==(c=r.rowIndex)&&void 0!==c?c:-1}):i(o.parent,r.parent):o.level>r.level?i(o.parent,r):i(o,r.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const o=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>"bottom"===r.rowPinned).sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(o):this.pinnedRowModel.forEachPinnedBottomRow(o),i}}getColumnsToExport(e=!1,t){const i=this.columnModel.isPivotMode();return t&&t.length?this.columnModel.getGridColumns(t):e&&!i?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([Gl]):[]).concat(this.columnModel.getAllGridColumns()||[]):this.columnModel.getAllDisplayedColumns()}recursivelyAddHeaderGroups(e,t,i){const o=[];e.forEach(r=>{r.getChildren&&r.getChildren().forEach(a=>o.push(a))}),e.length>0&&e[0]instanceof Si&&this.doAddHeaderHeader(t,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,t,i)}doAddHeaderHeader(e,t,i){const o=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const a=s;let l;l=i?i({columnGroup:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumnGroup(a,"header");const c=a.getLeafColumns().reduce((d,u,h,p)=>{let g=X.last(d);return"open"===u.getColumnGroupShow()?(!g||null!=g[1])&&(g=[h],d.push(g)):g&&null==g[1]&&(g[1]=h-1),h===p.length-1&&g&&null==g[1]&&(g[1]=h),d},[]);o.onColumn(a,l||"",r++,a.getLeafColumns().length-1,c)})}};hs([f("displayedGroupCreator")],Qo.prototype,"displayedGroupCreator",void 0),hs([f("columnModel")],Qo.prototype,"columnModel",void 0),hs([f("rowModel")],Qo.prototype,"rowModel",void 0),hs([f("pinnedRowModel")],Qo.prototype,"pinnedRowModel",void 0),hs([f("selectionService")],Qo.prototype,"selectionService",void 0),hs([f("rowNodeSorter")],Qo.prototype,"rowNodeSorter",void 0),hs([f("sortController")],Qo.prototype,"sortController",void 0),Qo=hs([G("gridSerializer")],Qo);const VZ={version:"30.0.1",moduleName:F.CsvExportModule,beans:[Yo,Qo]};new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Y.registerModules([OZ,PZ,VZ]);let BL=(()=>{class n extends wL{constructor(t){super(),this._ngZone=t}setEmitterUsedCallback(t){this.isEmitterUsed=t}setTimeout(t,i){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{t()},i)}):window.setTimeout(()=>{t()},i)}setInterval(t,i){return new Kt(o=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{o(window.setInterval(()=>{t()},i))}):o(window.setInterval(()=>{t()},i))})}addEventListener(t,i,o,r){this.isOutsideAngular(i)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{t.addEventListener(i,o,r)}):t.addEventListener(i,o,r)}dispatchEvent(t,i,o=!1){this.isOutsideAngular(t)?this._ngZone?this._ngZone.runOutsideAngular(i):i():(this.isEmitterUsed(t)||o)&&(!Ne.isInAngularZone()&&this._ngZone?this._ngZone.run(i):i())}isFrameworkComponent(t){if(!t)return!1;const i=t.prototype;return i&&"agInit"in i}}return n.\u0275fac=function(t){return new(t||n)(L(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),jL=(()=>{class n extends AZ{setViewContainerRef(t){this.viewContainerRef=t}setComponentFactoryResolver(t){this.componentFactoryResolver=t}createWrapper(t){let i=this,r=new class o extends BZ{init(a){super.init(a),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return i.createComponent(t)}hasMethod(a){return null!=r.getFrameworkComponentInstance()[a]}callMethod(a,l){const c=this.getFrameworkComponentInstance();return r.getFrameworkComponentInstance()[a].apply(c,l)}addMethod(a,l){r[a]=l}};return r}createComponent(t){let i=this.componentFactoryResolver.resolveComponentFactory(t);return this.viewContainerRef.createComponent(i)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Rt(n)))(i||n)}}(),n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class BZ{init(e){this._params=e,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let DS=(()=>{class n{constructor(t,i,o,r,s){this.viewContainerRef=i,this.angularFrameworkOverrides=o,this.frameworkComponentWrapper=r,this.componentFactoryResolver=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=Kt.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new A,this.toolPanelSizeChanged=new A,this.cutStart=new A,this.cutEnd=new A,this.pasteStart=new A,this.pasteEnd=new A,this.columnVisible=new A,this.columnPinned=new A,this.columnResized=new A,this.columnMoved=new A,this.columnValueChanged=new A,this.columnPivotModeChanged=new A,this.columnPivotChanged=new A,this.columnGroupOpened=new A,this.newColumnsLoaded=new A,this.gridColumnsChanged=new A,this.displayedColumnsChanged=new A,this.virtualColumnsChanged=new A,this.columnEverythingChanged=new A,this.componentStateChanged=new A,this.cellValueChanged=new A,this.cellEditRequest=new A,this.rowValueChanged=new A,this.cellEditingStarted=new A,this.cellEditingStopped=new A,this.rowEditingStarted=new A,this.rowEditingStopped=new A,this.undoStarted=new A,this.undoEnded=new A,this.redoStarted=new A,this.redoEnded=new A,this.rangeDeleteStart=new A,this.rangeDeleteEnd=new A,this.filterOpened=new A,this.filterChanged=new A,this.filterModified=new A,this.chartCreated=new A,this.chartRangeSelectionChanged=new A,this.chartOptionsChanged=new A,this.chartDestroyed=new A,this.cellKeyDown=new A,this.gridReady=new A,this.firstDataRendered=new A,this.gridSizeChanged=new A,this.modelUpdated=new A,this.virtualRowRemoved=new A,this.viewportChanged=new A,this.bodyScroll=new A,this.bodyScrollEnd=new A,this.dragStarted=new A,this.dragStopped=new A,this.paginationChanged=new A,this.rowDragEnter=new A,this.rowDragMove=new A,this.rowDragLeave=new A,this.rowDragEnd=new A,this.columnRowGroupChanged=new A,this.rowGroupOpened=new A,this.expandOrCollapseAll=new A,this.pinnedRowDataChanged=new A,this.rowDataChanged=new A,this.rowDataUpdated=new A,this.asyncTransactionsFlushed=new A,this.storeRefreshed=new A,this.cellClicked=new A,this.cellDoubleClicked=new A,this.cellFocused=new A,this.cellMouseOver=new A,this.cellMouseOut=new A,this.cellMouseDown=new A,this.rowClicked=new A,this.rowDoubleClicked=new A,this.rowSelected=new A,this.selectionChanged=new A,this.cellContextMenu=new A,this.rangeSelectionChanged=new A,this.sortChanged=new A,this.columnRowGroupChangeRequest=new A,this.columnPivotChangeRequest=new A,this.columnValueChangeRequest=new A,this.columnAggFuncChangeRequest=new A,this._nativeElement=t.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=ve.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new RZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,t=>t)}ngOnChanges(t){this._initialised&&ve.processOnChange(t,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(t){const i=this[t],o=!!i&&i.observers&&i.observers.length>0,r=`on${t.charAt(0).toUpperCase()}${t.substring(1)}`;return o||!!this.gridOptions&&!!this.gridOptions[r]}globalEventListener(t,i){if(this._destroyed)return;const o=this[t];o&&this.isEmitterUsed(t)&&("gridReady"===t?this._fullyReady.then(r=>{o.emit(i)}):o.emit(i))}}return n.\u0275fac=function(t){return new(t||n)(E(Ct),E(wn),E(BL),E(jL),E(ed))},n.\u0275cmp=oi({type:n,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[Qe([BL,jL]),Ii],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({}),n})();const RS={headers:new xn({"Content-Type":"application/json"})};let UL=(()=>{class n{constructor(t){this.httpClient=t,this.EMPLOYEE_API="http://localhost:8080/api/employee/"}getAllEmployees(){return this.httpClient.get(this.EMPLOYEE_API+"fetch/all")}getEmployeeById(t){return this.httpClient.get(this.EMPLOYEE_API+"fetch/id/"+t)}getEmployeesByName(t){return this.httpClient.get(this.EMPLOYEE_API+"fetch/all",{params:{name:t}})}deleteEmployeeById(t){return this.httpClient.delete(this.EMPLOYEE_API+"delete/id/"+t)}deleteAllEmployees(){return this.httpClient.delete(this.EMPLOYEE_API+"delete/all")}updateEmployee(t){return this.httpClient.put(this.EMPLOYEE_API+"update/id/"+t.employee_id,t,RS)}updateBatchEmployees(t){return this.httpClient.put(this.EMPLOYEE_API+"batch",t,RS)}addEmployee(t){return this.httpClient.put(this.EMPLOYEE_API+"add",t,RS)}}return n.\u0275fac=function(t){return new(t||n)(L(Gd))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UZ(n,e){1&n&&(z(0,"li",13)(1,"button",17),We(2,"Update"),K()())}function WZ(n,e){if(1&n){const t=Lp();z(0,"li",13)(1,"button",18),Ke("click",function(){return Ga(t),Va(Wt().updateEmployees())}),We(2,"Update "),z(3,"span",19),We(4),K()()()}if(2&n){const t=Wt();ge(4),pd(t.objectKeys(t.changedRows).length)}}function zZ(n,e){1&n&&(z(0,"li",13)(1,"button",20),We(2,"Delete"),K()())}function $Z(n,e){if(1&n){const t=Lp();z(0,"li",13)(1,"button",21),Ke("click",function(){return Ga(t),Va(Wt().deleteEmployee())}),We(2,"Delete"),K()()}}let KZ=(()=>{class n{constructor(t){this.employeeService=t,this.errorContent="",this.searchOption="name",this.deleteEmployeeEvent=new A,this.searchQueryEvent=new A,this.updateEmployeesEvent=new A,this.toDelete=null,this.columnDefs=[{checkboxSelection:!0,suppressMenu:!0,maxWidth:50,cellEditor:"agCheckboxCellEditor",singleClickEdit:!0,sortable:!1,filter:!1},{field:"employee_id",editable:!1,headerName:"Employee ID",sort:"asc"},{field:"name",editable:!0},{field:"phone_number",editable:!0,headerName:"Phone Number"},{field:"supervisors",editable:!0}],this.changedRows={},this.objectKeys=Object.keys,this.defaultColDef={sortable:!0,filter:!0,resizable:!0}}onGridReady(t){this.gridApi=t.api,this.sizeToFit()}onCellClicked(t){console.log("cellClicked",t)}sizeToFit(){this.gridApi.sizeColumnsToFit({defaultMinWidth:100,columnLimits:[{key:"country",minWidth:900}]})}onRowSelected(t){this.toDelete=t.node.data}deleteEmployee(){null!==this.toDelete&&this.deleteEmployeeEvent.emit(this.toDelete)}updateEmployees(){this.updateEmployeesEvent.emit(Object.values(this.changedRows))}onSelectionChanged(t){0===t.api.getSelectedNodes().length&&(this.toDelete=null)}onCellValueChanged(t){this.changedRows[t.data.employee_id]=t.data}updateSearchOption(t){this.searchOption=t.target.value,this.searchTerm=void 0}searchFor(){""!==this.searchTerm&&this.searchQueryEvent.emit({searchOption:this.searchOption,searchQuery:this.searchTerm})}}return n.\u0275fac=function(t){return new(t||n)(E(UL))},n.\u0275cmp=oi({type:n,selectors:[["app-employee-table"]],viewQuery:function(t,i){if(1&t&&Wp(DS,5),2&t){let o;To(o=Mo())&&(i.agGrid=o.first)}},inputs:{employeeList:"employeeList"},outputs:{deleteEmployeeEvent:"deleteEmployeeEvent",searchQueryEvent:"searchQueryEvent",updateEmployeesEvent:"updateEmployeesEvent"},decls:24,vars:14,consts:[[1,"container-fluid","h-100"],[1,"row"],[1,"col-sm-6","col-md-3"],["role","search",1,"d-flex",3,"ngSubmit"],[1,"input-group","mb-3"],["id","searchOption",1,"form-select",3,"change"],["value","name"],["value","employee_id"],["placeholder","Search","aria-label","Search","name","searchTerm",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-primary"],[1,"col-sm-6","col-md-9"],[1,"list-group","list-group-horizontal","d-flex","justify-content-end"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],["type","button",1,"btn","btn-success"],[1,"row","h-100"],[1,"ag-theme-alpine","w-100","h-100",3,"columnDefs","defaultColDef","rowData","rowSelection","suppressRowClickSelection","animateRows","pagination","paginationAutoPageSize","gridReady","cellClicked","rowSelected","selectionChanged","cellValueChanged"],["type","button","disabled","",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"badge","text-bg-secondary","rounded-pill","bg-danger"],["type","button","disabled","",1,"btn","btn-outline-danger"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(z(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),Ke("ngSubmit",function(){return i.searchFor()}),z(4,"div",4)(5,"select",5),Ke("change",function(r){return i.updateSearchOption(r)}),z(6,"option",6),We(7,"Name"),K(),z(8,"option",7),We(9,"Employee Id"),K()(),z(10,"input",8),Ke("ngModelChange",function(r){return i.searchTerm=r}),K(),z(11,"button",9),We(12,"Search"),K()()()(),z(13,"div",10)(14,"ul",11),Ye(15,UZ,3,0,"li",12),Ye(16,WZ,5,1,"li",12),z(17,"li",13)(18,"button",14),We(19,"Add"),K()(),Ye(20,zZ,3,0,"li",12),Ye(21,$Z,3,0,"li",12),K()()(),z(22,"div",15)(23,"ag-grid-angular",16),Ke("gridReady",function(r){return i.onGridReady(r)})("cellClicked",function(r){return i.onCellClicked(r)})("rowSelected",function(r){return i.onRowSelected(r)})("selectionChanged",function(r){return i.onSelectionChanged(r)})("cellValueChanged",function(r){return i.onCellValueChanged(r)}),K()()()),2&t&&(ge(10),Ee("ngModel",i.searchTerm),vi("type","name"===i.searchOption?"search":"number"),ge(5),Ee("ngIf",0===i.objectKeys(i.changedRows).length),ge(1),Ee("ngIf",i.objectKeys(i.changedRows).length>0),ge(4),Ee("ngIf",null===i.toDelete),ge(1),Ee("ngIf",null!==i.toDelete),ge(2),Ee("columnDefs",i.columnDefs)("defaultColDef",i.defaultColDef)("rowData",i.employeeList)("rowSelection","single")("suppressRowClickSelection",!0)("animateRows",!0)("pagination",!0)("paginationAutoPageSize",!0))},dependencies:[Rd,x_,BI,UI,Id,f_,m_,xf,Ld,DS]}),n})(),qZ=(()=>{class n{constructor(t,i){this.storageService=t,this.employeeService=i,this.employee={employee_id:null,name:null,phone_number:null,supervisors:null},this.errorContent="",this.toDelete=null,this.columnDefs=[{checkboxSelection:!0,suppressMenu:!0,maxWidth:50,cellEditor:"agCheckboxCellEditor",singleClickEdit:!0,sortable:!1,filter:!1},{field:"employee_id",editable:!1,headerName:"Employee ID"},{field:"name",editable:!0},{field:"phone_number",editable:!0,headerName:"Phone Number"},{field:"supervisors",editable:!0}],this.defaultColDef={sortable:!0,filter:!0,resizable:!0}}ngOnInit(){this.employee=this.storageService.getUser(),this.getRows()}getRows(){this.employeeService.getAllEmployees().subscribe({next:t=>{this.employeeList=t},error:t=>{}})}logout(){this.storageService.clean(),window.location.reload()}deleteEmployee(t){null!==t.employee_id&&this.employeeService.deleteEmployeeById(t.employee_id).subscribe({next:i=>{this.getRows()},error:i=>{}})}updateEmployeeList(t){if("employee_id"===t.searchOption){let i=Number(t.searchQuery);isNaN(i)||this.employeeService.getEmployeeById(i).subscribe({next:o=>{this.employeeList=[o]},error:o=>{this.employeeList=[]}})}else this.employeeService.getEmployeesByName(t.searchQuery).subscribe({next:i=>{this.employeeList=i},error:i=>{this.employeeList=[]}})}updateEmployeeData(t){1===t.length?this.employeeService.updateEmployee(t[0]).subscribe({next:i=>{this.getRows()},error:i=>{}}):this.employeeService.updateBatchEmployees(t)}isAdmin(){return this.storageService.isAdmin()}}return n.\u0275fac=function(t){return new(t||n)(E(qs),E(UL))},n.\u0275cmp=oi({type:n,selectors:[["app-employee-list"]],viewQuery:function(t,i){if(1&t&&Wp(DS,5),2&t){let o;To(o=Mo())&&(i.agGrid=o.first)}},decls:5,vars:3,consts:[[1,"container-fluid","p-0","h-100","w-100"],[1,"row"],[3,"name","isAdmin","logoutEvent"],[1,"row",2,"height","85%"],[3,"employeeList","deleteEmployeeEvent","searchQueryEvent","updateEmployeesEvent"]],template:function(t,i){1&t&&(z(0,"div",0)(1,"div",1)(2,"app-header",2),Ke("logoutEvent",function(){return i.logout()}),K()(),z(3,"div",3)(4,"app-employee-table",4),Ke("deleteEmployeeEvent",function(r){return i.deleteEmployee(r)})("searchQueryEvent",function(r){return i.updateEmployeeList(r)})("updateEmployeesEvent",function(r){return i.updateEmployeeData(r)}),K()()()),2&t&&(ge(2),Ee("name",i.employee.name)("isAdmin",i.isAdmin()),ge(2),Ee("employeeList",i.employeeList))},dependencies:[fP,KZ],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]}),n})();const YZ=[{path:"login",component:WY},{path:"logout",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=oi({type:n,selectors:[["app-logout-page"]],decls:2,vars:0,template:function(t,i){1&t&&(z(0,"p"),We(1,"logout-page works!"),K())}}),n})()},{path:"employee",canActivate:[wy("/login")],children:[{path:"",redirectTo:"myinfo",pathMatch:"full"},{path:"myinfo",component:mP,canActivate:[wy("/login")]},{path:"list",component:qZ,canActivate:[function kY(n){return()=>{const e=k(qs),t=k(yi);return e.isAdmin()||t.createUrlTree([n])}}("employee/myinfo")]},{path:"**",component:mP,canActivate:[wy("/login")]}]},{path:"",redirectTo:"employee/myinfo",pathMatch:"full"},{path:"**",redirectTo:"myinfo"}];let QZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({imports:[cP.forRoot(YZ),cP]}),n})(),ZZ=(()=>{class n{constructor(t,i){this.storageService=t,this.authService=i,this.title="UI",this.isLoggedIn=!1,this.isAdmin=!1,this.name=null}ngOnInit(){if(this.isLoggedIn=this.storageService.isLoggedIn(),this.isLoggedIn){const t=this.storageService.getUser();this.name=t.name}}}return n.\u0275fac=function(t){return new(t||n)(E(qs),E(hP))},n.\u0275cmp=oi({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-fluid","h-100"]],template:function(t,i){1&t&&(z(0,"div",0),Xi(1,"router-outlet"),K())},dependencies:[uy],styles:["[_nghost-%COMP%]{height:100%;width:100%}"]}),n})();function WL(n){return new S(3e3,!1)}function ps(n){switch(n.length){case 0:return new Kd;case 1:return n[0];default:return new XO(n)}}function zL(n,e,t=new Map,i=new Map){const o=[],r=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),d=c==s,u=d&&a||new Map;l.forEach((h,p)=>{let g=p,m=h;if("offset"!==p)switch(g=n.normalizePropertyName(g,o),m){case Y_:m=t.get(p);break;case mr:m=i.get(p);break;default:m=n.normalizeStyleValue(p,g,m,o)}u.set(g,m)}),d||r.push(u),a=u,s=c}),o.length)throw function _X(n){return new S(3502,!1)}();return r}function TS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&MS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&MS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&MS(t,"destroy",n)))}}function MS(n,e,t){const r=AS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(r._data=s),r}function AS(n,e,t,i,o="",r=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function pn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function $L(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const OX=(()=>typeof document>"u"?null:document.documentElement)();function IS(n){const e=n.parentNode||n.host||null;return e===OX?null:e}let Sa=null,KL=!1;function qL(n,e){for(;e;){if(e===n)return!0;e=IS(e)}return!1}function YL(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let QL=(()=>{class n{validateStyleProperty(t){return function PX(n){Sa||(Sa=function NX(){return typeof document<"u"?document.body:null}()||{},KL=!!Sa.style&&"WebkitAppearance"in Sa.style);let e=!0;return Sa.style&&!function FX(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Sa.style,!e&&KL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Sa.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return qL(t,i)}getParentElement(t){return IS(t)}query(t,i,o){return YL(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,r,s,a=[],l){return new Kd(o,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),OS=(()=>{class n{}return n.NOOP=new QL,n})();const LX=1e3,FS="ng-enter",Cg="ng-leave",bg="ng-trigger",_g=".ng-trigger",XL="ng-animating",PS=".ng-animating";function Tr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NS(parseFloat(e[1]),e[2])}function NS(n,e){return"s"===e?n*LX:n}function yg(n,e,t){return n.hasOwnProperty("duration")?n:function GX(n,e,t){let o,r=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(WL()),{duration:0,delay:0,easing:""};o=NS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=NS(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else o=n;if(!t){let a=!1,l=e.length;o<0&&(e.push(function XZ(){return new S(3100,!1)}()),a=!0),r<0&&(e.push(function JZ(){return new S(3101,!1)}()),a=!0),a&&e.splice(l,0,WL())}return{duration:o,delay:r,easing:s}}(n,e,t)}function Ch(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function JL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function fs(n,e=new Map,t){if(t)for(let[i,o]of t)e.set(i,o);for(let[i,o]of n)e.set(i,o);return e}function Zo(n,e,t){e.forEach((i,o)=>{const r=kS(o);t&&!t.has(o)&&t.set(o,n.style[r]),n.style[r]=i})}function Ea(n,e){e.forEach((t,i)=>{const o=kS(i);n.style[o]=""})}function bh(n){return Array.isArray(n)?1==n.length?n[0]:QO(n):n}const LS=new RegExp("{{\\s*(.+?)\\s*}}","g");function tk(n){let e=[];if("string"==typeof n){let t;for(;t=LS.exec(n);)e.push(t[1]);LS.lastIndex=0}return e}function _h(n,e,t){const i=n.toString(),o=i.replace(LS,(r,s)=>{let a=e[s];return null==a&&(t.push(function tX(n){return new S(3003,!1)}()),a=""),a.toString()});return o==i?n:o}function wg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BX=/-+([a-z0-9])/g;function kS(n){return n.replace(BX,(...e)=>e[1].toUpperCase())}function fn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function iX(n){return new S(3004,!1)}()}}function ik(n,e){return window.getComputedStyle(n)[e]}const Sg="*";function WX(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function zX(n,e,t){if(":"==n[0]){const l=function $X(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function gX(n){return new S(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function mX(n){return new S(3015,!1)}()),e;const o=i[1],r=i[2],s=i[3];e.push(nk(o,s));"<"==r[0]&&!(o==Sg&&s==Sg)&&e.push(nk(s,o))}(i,t,e)):t.push(n),t}const Eg=new Set(["true","1"]),xg=new Set(["false","0"]);function nk(n,e){const t=Eg.has(n)||xg.has(n),i=Eg.has(e)||xg.has(e);return(o,r)=>{let s=n==Sg||n==o,a=e==Sg||e==r;return!s&&t&&"boolean"==typeof o&&(s=o?Eg.has(n):xg.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?Eg.has(e):xg.has(e)),s&&a}}const KX=new RegExp("s*:selfs*,?","g");function GS(n,e,t,i){return new qX(n).build(e,t,i)}class qX{constructor(e){this._driver=e}build(e,t,i){const o=new ZX(t);return this._resetContextStyleTimingState(o),fn(this,bh(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0;const r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function oX(){return new S(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,o+=l.depCount,s.push(l)}else t.errors.push(function rX(){return new S(3007,!1)}())}),{type:7,name:e.name,states:r,transitions:s,queryCount:i,depCount:o,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,s=o||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{tk(l).forEach(c=>{s.hasOwnProperty(c)||r.add(c)})})}),r.size&&(wg(r.values()),t.errors.push(function sX(n,e){return new S(3008,!1)}()))}return{type:0,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=fn(this,bh(e.animation),t);return{type:1,matchers:WX(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:xa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>fn(this,i,t)),options:xa(e.options)}}visitGroup(e,t){const i=t.currentTime;let o=0;const r=e.steps.map(s=>{t.currentTime=i;const a=fn(this,s,t);return o=Math.max(o,t.currentTime),a});return t.currentTime=o,{type:3,steps:r,options:xa(e.options)}}visitAnimate(e,t){const i=function JX(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VS(yg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=VS(0,0,"");return r.dynamic=!0,r.strValue=t,r}const o=yg(t,e);return VS(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let o,r=e.styles?e.styles:Rl({});if(5==r.type)o=this.visitKeyframes(r,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Rl(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,o=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of o)"string"==typeof a?a===mr?i.push(a):t.errors.push(new S(3002,!1)):i.push(JL(a));let r=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r))for(let l of a.values())if(l.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let o=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l);let u=!0;d&&(r!=o&&r>=d.startTime&&o<=d.endTime&&(t.errors.push(function lX(n,e,t,i,o){return new S(3010,!1)}()),u=!1),r=d.startTime),u&&c.set(l,{startTime:r,endTime:o}),t.options&&function HX(n,e,t){const i=e.params||{},o=tk(n);o.length&&o.forEach(r=>{i.hasOwnProperty(r)||t.push(function eX(n){return new S(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function cX(){return new S(3011,!1)}()),i;let r=0;const s=[];let a=!1,l=!1,c=0;const d=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let y=null!=b.offset?b.offset:function XX(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),R=0;return null!=y&&(r++,R=b.offset=y),l=l||R<0||R>1,a=a||R<c,c=R,s.push(R),b});l&&t.errors.push(function dX(){return new S(3012,!1)}()),a&&t.errors.push(function uX(){return new S(3200,!1)}());const u=e.steps.length;let h=0;r>0&&r<u?t.errors.push(function hX(){return new S(3202,!1)}()):0==r&&(h=1/(u-1));const p=u-1,g=t.currentTime,m=t.currentAnimateTimings,C=m.duration;return d.forEach((_,b)=>{const y=h>0?b==p?1:h*b:s[b],R=y*C;t.currentTime=g+m.delay+R,m.duration=R,this._validateStyleAst(_,t),_.offset=y,i.styles.push(_)}),i}visitReference(e,t){return{type:8,animation:fn(this,bh(e.animation),t),options:xa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xa(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[r,s]=function YX(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(KX,"")),n=n.replace(/@\*/g,_g).replace(/@\w+/g,t=>_g+"-"+t.slice(1)).replace(/:animating/g,PS),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,pn(t.collectedStyles,t.currentQuerySelector,new Map);const a=fn(this,bh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:xa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pX(){return new S(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yg(e.timings,t.errors,!0);return{type:12,animation:fn(this,bh(e.animation),t),timings:i,options:null}}}class ZX{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xa(n){return n?(n=Ch(n)).params&&(n.params=function QX(n){return n?Ch(n):null}(n.params)):n={},n}function VS(n,e,t){return{duration:n,delay:e,easing:t}}function HS(n,e,t,i,o,r,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}class Dg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const iJ=new RegExp(":enter","g"),oJ=new RegExp(":leave","g");function BS(n,e,t,i,o,r=new Map,s=new Map,a,l,c=[]){return(new rJ).buildKeyframes(n,e,t,i,o,r,s,a,l,c)}class rJ{buildKeyframes(e,t,i,o,r,s,a,l,c,d=[]){c=c||new Dg;const u=new jS(e,t,c,o,r,d,[]);u.options=l;const h=l.delay?Tr(l.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,l),fn(this,i,u);const p=u.timelines.filter(g=>g.containsAnimation());if(p.length&&a.size){let g;for(let m=p.length-1;m>=0;m--){const C=p[m];if(C.element===t){g=C;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,u.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[HS(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const o=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,o,o.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const o of e){const r=o?.delay;if(r){const s="number"==typeof r?r:Tr(_h(r,o?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const s=null!=i.duration?Tr(i.duration):null,a=null!=i.delay?Tr(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),fn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let o=t;const r=e.options;if(r&&(r.params||r.delay)&&(o=t.createSubContext(r),o.transformIntoNewTimeline(),null!=r.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Rg);const s=Tr(r.delay);o.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>fn(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let o=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?Tr(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),fn(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yg(t.params?_h(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,o=t.currentTimeline.duration,r=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(o+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,o=e.options||{},r=o.delay?Tr(o.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Rg);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{t.currentQueryIndex=d;const u=t.createSubContext(e.options,c);r&&u.delayNextStep(r),c===t.element&&(l=u.currentTimeline),fn(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,o=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;fn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-u+(o.startTime-i.currentTimeline.startTime)}}const Rg={};class jS{constructor(e,t,i,o,r,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=r,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Tg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let o=this.options;null!=i.duration&&(o.duration=Tr(i.duration)),null!=i.delay&&(o.delay=Tr(i.delay));const r=i.params;if(r){let s=o.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=_h(r[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){const o=t||this.element,r=new jS(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=Rg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new sJ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,r,s){let a=[];if(o&&a.push(this.element),e.length>0){e=(e=e.replace(iJ,"."+this._enterClassName)).replace(oJ,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&0==a.length&&s.push(function fX(n){return new S(3014,!1)}()),a}}class Tg{constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Tg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||mr),this._currentKeyframe.set(t,mr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&this._previousKeyframe.set("easing",t);const r=o&&o.params||{},s=function aJ(n,e){const t=new Map;let i;return n.forEach(o=>{if("*"===o){i=i||e.keys();for(let r of i)t.set(r,mr)}else fs(o,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=_h(l,r,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??mr),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const o=this._styleSummary.get(i);(!o||t.time>o.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((a,l)=>{const c=fs(a,new Map,this._backFill);c.forEach((d,u)=>{d===Y_?e.add(u):d===mr&&t.add(u)}),i||c.set("offset",l/this.duration),o.push(c)});const r=e.size?wg(e.values()):[],s=t.size?wg(t.values()):[];if(i){const a=o[0],l=new Map(a);a.set("offset",0),l.set("offset",1),o=[a,l]}return HS(this.element,o,r,s,this.duration,this.startTime,this.easing,!1)}}class sJ extends Tg{constructor(e,t,i,o,r,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],s=i+t,a=t/s,l=fs(e[0]);l.set("offset",0),r.push(l);const c=fs(e[0]);c.set("offset",sk(a)),r.push(c);const d=e.length-1;for(let u=1;u<=d;u++){let h=fs(e[u]);const p=h.get("offset");h.set("offset",sk((t+p*i)/s)),r.push(h)}i=s,t=0,o="",e=r}return HS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}}function sk(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class US{}const lJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cJ extends US{normalizePropertyName(e,t){return kS(e)}normalizeStyleValue(e,t,i,o){let r="";const s=i.toString().trim();if(lJ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&o.push(function nX(n,e){return new S(3005,!1)}())}return s+r}}function ak(n,e,t,i,o,r,s,a,l,c,d,u,h){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}const WS={};class lk{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return function dJ(n,e,t,i,o){return n.some(r=>r(e,t,i,o))}(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,i):new Map}build(e,t,i,o,r,s,a,l,c,d){const u=[],h=this.ast.options&&this.ast.options.params||WS,g=this.buildStyles(i,a&&a.params||WS,u),m=l&&l.params||WS,C=this.buildStyles(o,m,u),_=new Set,b=new Map,y=new Map,R="void"===o,M={params:uJ(m,h),delay:this.ast.options?.delay},V=d?[]:BS(e,t,this.ast.animation,r,s,g,C,M,c,u);let $=0;if(V.forEach(Ze=>{$=Math.max(Ze.duration+Ze.delay,$)}),u.length)return ak(t,this._triggerName,i,o,R,g,C,[],[],b,y,$,u);V.forEach(Ze=>{const nt=Ze.element,po=pn(b,nt,new Set);Ze.preStyleProps.forEach(Wi=>po.add(Wi));const ti=pn(y,nt,new Set);Ze.postStyleProps.forEach(Wi=>ti.add(Wi)),nt!==t&&_.add(nt)});const Me=wg(_.values());return ak(t,this._triggerName,i,o,R,g,C,V,Me,b,y,$)}}function uJ(n,e){const t=Ch(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class hJ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,o=Ch(this.defaultParams);return Object.keys(e).forEach(r=>{const s=e[r];null!==s&&(o[r]=s)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((s,a)=>{s&&(s=_h(s,o,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class fJ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new hJ(o.style,o.options&&o.options.params||{},i))}),ck(this.states,"true","1"),ck(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new lk(e,o,this.states))}),this.fallbackTransition=function mJ(n,e,t){return new lk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(s=>s.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ck(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const gJ=new Dg;class vJ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=GS(this._driver,t,i,[]);if(i.length)throw function yX(n){return new S(3503,!1)}();this._animations.set(e,r)}_buildPlayer(e,t,i){const o=e.element,r=zL(this._normalizer,e.keyframes,t,i);return this._driver.animate(o,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const o=[],r=this._animations.get(e);let s;const a=new Map;if(r?(s=BS(this._driver,t,r,FS,Cg,new Map,new Map,i,gJ,o),s.forEach(d=>{const u=pn(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(o.push(function wX(){return new S(3300,!1)}()),s=[]),o.length)throw function SX(n){return new S(3504,!1)}();a.forEach((d,u)=>{d.forEach((h,p)=>{d.set(p,this._driver.computeStyle(u,p,mr))})});const c=ps(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function EX(n){return new S(3301,!1)}();return t}listen(e,t,i,o){const r=AS(t,"","","");return TS(this._getPlayer(e),i,r,o),()=>{}}command(e,t,i,o){if("register"==i)return void this.register(e,o[0]);if("create"==i)return void this.create(e,t,o[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const dk="ng-animate-queued",zS="ng-animate-disabled",wJ=[],uk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kn="__ng_removed";class $S{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function RJ(n){return n??null}(i?e.value:e),i){const r=Ch(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(o=>{null==i[o]&&(i[o]=t[o])})}}}const yh="void",KS=new $S(yh);class EJ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gn(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.has(t))throw function xX(n,e){return new S(3302,!1)}();if(null==i||0==i.length)throw function DX(n){return new S(3303,!1)}();if(!function TJ(n){return"start"==n||"done"==n}(i))throw function RX(n,e){return new S(3400,!1)}();const r=pn(this._elementListeners,e,[]),s={name:t,phase:i,callback:o};r.push(s);const a=pn(this._engine.statesByElement,e,new Map);return a.has(t)||(Gn(e,bg),Gn(e,bg+"-"+t),a.set(t,KS)),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(s);l>=0&&r.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function TX(n){return new S(3401,!1)}();return t}trigger(e,t,i,o=!0){const r=this._getTrigger(t),s=new qS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Gn(e,bg),Gn(e,bg+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new $S(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=KS),c.value!==yh&&l.value===c.value){if(!function IJ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){const r=t[o];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(l.params,c.params)){const m=[],C=r.matchStyles(l.value,l.params,m),_=r.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ea(e,C),Zo(e,_)})}return}const h=pn(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let p=r.matchTransition(l.value,c.value,e,c.params),g=!1;if(!p){if(!o)return;p=r.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:g}),g||(Gn(e,dk),s.onStart(()=>{Sc(e,dk)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const C=this._engine.playersByElement.get(e);if(C){let _=C.indexOf(s);_>=0&&C.splice(_,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,_g,!0);i.forEach(o=>{if(o[kn])return;const r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(s=>s.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){const r=this._engine.statesByElement.get(e),s=new Map;if(r){const a=[];if(r.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(e,c,yh,o);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&ps(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const o=new Set;t.forEach(r=>{const s=r.name;if(o.has(s))return;o.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||KS,d=new $S(yh),u=new qS(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)o=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e[kn];(!r||r===uk)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Gn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const r=i.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=AS(r,i.triggerName,i.fromState.value,i.toState.value);l._data=e,TS(i.player,a.phase,l,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{const r=i.transition.ast.depCount,s=o.transition.ast.depCount;return 0==r||0==s?r-s:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class xJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,r)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new EJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=o.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let o of i.values())if(o.namespaceId){const r=this._fetchNamespace(o.namespaceId);r&&t.add(r)}return t}trigger(e,t,i,o){if(Mg(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!Mg(t))return;const r=t[kn];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gn(e,zS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sc(e,zS))}removeNode(e,t,i){if(Mg(t)){const o=e?this._fetchNamespace(e):null;o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,o,r){this.collectedLeaveElements.push(t),t[kn]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,o,r){return Mg(t)?this._fetchNamespace(e).listen(t,i,o,r):()=>{}}_buildInstruction(e,t,i,o,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,_g,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,PS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ps(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[kn];if(t&&t.setForRemoval){if(e[kn]=uk,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Gn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ps(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw function MX(n){return new S(3402,!1)}()}_flushAnimations(e,t){const i=new Dg,o=[],r=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(W=>{d.add(W);const Z=this.driver.query(W,".ng-animate-queued",!0);for(let ne=0;ne<Z.length;ne++)d.add(Z[ne])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=fk(h,this.collectedEnterElements),g=new Map;let m=0;p.forEach((W,Z)=>{const ne=FS+m++;g.set(Z,ne),W.forEach(Oe=>Gn(Oe,ne))});const C=[],_=new Set,b=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const Z=this.collectedLeaveElements[W],ne=Z[kn];ne&&ne.setForRemoval&&(C.push(Z),_.add(Z),ne.hasAnimation?this.driver.query(Z,".ng-star-inserted",!0).forEach(Oe=>_.add(Oe)):b.add(Z))}const y=new Map,R=fk(h,Array.from(_));R.forEach((W,Z)=>{const ne=Cg+m++;y.set(Z,ne),W.forEach(Oe=>Gn(Oe,ne))}),e.push(()=>{p.forEach((W,Z)=>{const ne=g.get(Z);W.forEach(Oe=>Sc(Oe,ne))}),R.forEach((W,Z)=>{const ne=y.get(Z);W.forEach(Oe=>Sc(Oe,ne))}),C.forEach(W=>{this.processLeaveNode(W)})});const M=[],V=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(t).forEach(ne=>{const Oe=ne.player,Yt=ne.element;if(M.push(Oe),this.collectedEnterElements.length){const fi=Yt[kn];if(fi&&fi.setForMove){if(fi.previousTriggersValues&&fi.previousTriggersValues.has(ne.triggerName)){const Da=fi.previousTriggersValues.get(ne.triggerName),Vn=this.statesByElement.get(ne.element);if(Vn&&Vn.has(ne.triggerName)){const Og=Vn.get(ne.triggerName);Og.value=Da,Vn.set(ne.triggerName,Og)}}return void Oe.destroy()}}const Xo=!u||!this.driver.containsElement(u,Yt),gn=y.get(Yt),ms=g.get(Yt),ft=this._buildInstruction(ne,i,ms,gn,Xo);if(ft.errors&&ft.errors.length)return void V.push(ft);if(Xo)return Oe.onStart(()=>Ea(Yt,ft.fromStyles)),Oe.onDestroy(()=>Zo(Yt,ft.toStyles)),void o.push(Oe);if(ne.isFallbackTransition)return Oe.onStart(()=>Ea(Yt,ft.fromStyles)),Oe.onDestroy(()=>Zo(Yt,ft.toStyles)),void o.push(Oe);const Sk=[];ft.timelines.forEach(fi=>{fi.stretchStartingKeyframe=!0,this.disabledNodes.has(fi.element)||Sk.push(fi)}),ft.timelines=Sk,i.append(Yt,ft.timelines),s.push({instruction:ft,player:Oe,element:Yt}),ft.queriedElements.forEach(fi=>pn(a,fi,[]).push(Oe)),ft.preStyleProps.forEach((fi,Da)=>{if(fi.size){let Vn=l.get(Da);Vn||l.set(Da,Vn=new Set),fi.forEach((Og,ZS)=>Vn.add(ZS))}}),ft.postStyleProps.forEach((fi,Da)=>{let Vn=c.get(Da);Vn||c.set(Da,Vn=new Set),fi.forEach((Og,ZS)=>Vn.add(ZS))})});if(V.length){const W=[];V.forEach(Z=>{W.push(function AX(n,e){return new S(3505,!1)}())}),M.forEach(Z=>Z.destroy()),this.reportError(W)}const $=new Map,Me=new Map;s.forEach(W=>{const Z=W.element;i.has(Z)&&(Me.set(Z,Z),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,$))}),o.forEach(W=>{const Z=W.element;this._getPreviousPlayers(Z,!1,W.namespaceId,W.triggerName,null).forEach(Oe=>{pn($,Z,[]).push(Oe),Oe.destroy()})});const Ze=C.filter(W=>gk(W,l,c)),nt=new Map;pk(nt,this.driver,b,c,mr).forEach(W=>{gk(W,l,c)&&Ze.push(W)});const ti=new Map;p.forEach((W,Z)=>{pk(ti,this.driver,new Set(W),l,Y_)}),Ze.forEach(W=>{const Z=nt.get(W),ne=ti.get(W);nt.set(W,new Map([...Z?.entries()??[],...ne?.entries()??[]]))});const Wi=[],mn=[],wh={};s.forEach(W=>{const{element:Z,player:ne,instruction:Oe}=W;if(i.has(Z)){if(d.has(Z))return ne.onDestroy(()=>Zo(Z,Oe.toStyles)),ne.disabled=!0,ne.overrideTotalTime(Oe.totalTime),void o.push(ne);let Yt=wh;if(Me.size>1){let gn=Z;const ms=[];for(;gn=gn.parentNode;){const ft=Me.get(gn);if(ft){Yt=ft;break}ms.push(gn)}ms.forEach(ft=>Me.set(ft,Yt))}const Xo=this._buildAnimation(ne.namespaceId,Oe,$,r,ti,nt);if(ne.setRealPlayer(Xo),Yt===wh)Wi.push(ne);else{const gn=this.playersByElement.get(Yt);gn&&gn.length&&(ne.parentPlayer=ps(gn)),o.push(ne)}}else Ea(Z,Oe.fromStyles),ne.onDestroy(()=>Zo(Z,Oe.toStyles)),mn.push(ne),d.has(Z)&&o.push(ne)}),mn.forEach(W=>{const Z=r.get(W.element);if(Z&&Z.length){const ne=ps(Z);W.setRealPlayer(ne)}}),o.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<C.length;W++){const Z=C[W],ne=Z[kn];if(Sc(Z,Cg),ne&&ne.hasAnimation)continue;let Oe=[];if(a.size){let Xo=a.get(Z);Xo&&Xo.length&&Oe.push(...Xo);let gn=this.driver.query(Z,PS,!0);for(let ms=0;ms<gn.length;ms++){let ft=a.get(gn[ms]);ft&&ft.length&&Oe.push(...ft)}}const Yt=Oe.filter(Xo=>!Xo.destroyed);Yt.length?MJ(this,Z,Yt):this.processLeaveNode(Z)}return C.length=0,Wi.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const Z=this.players.indexOf(W);this.players.splice(Z,1)}),W.play()}),Wi}elementContainsData(e,t){let i=!1;const o=t[kn];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,r){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!r||r==yh;a.forEach(c=>{c.queued||!l&&c.triggerName!=o||s.push(c)})}}return(i||o)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||o&&o!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const r=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,d=c!==r,u=pn(i,c,[]);this._getPreviousPlayers(c,d,s,a,t.toState).forEach(p=>{const g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),u.push(p)})}Ea(r,t.fromStyles)}_buildAnimation(e,t,i,o,r,s){const a=t.triggerName,l=t.element,c=[],d=new Set,u=new Set,h=t.timelines.map(g=>{const m=g.element;d.add(m);const C=m[kn];if(C&&C.removedBeforeQueried)return new Kd(g.duration,g.delay);const _=m!==l,b=function AJ(n){const e=[];return mk(n,e),e}((i.get(m)||wJ).map($=>$.getRealPlayer())).filter($=>!!$.element&&$.element===m),y=r.get(m),R=s.get(m),M=zL(this._normalizer,g.keyframes,y,R),V=this._buildPlayer(g,M,b);if(g.subTimeline&&o&&u.add(m),_){const $=new qS(e,a,m);$.setRealPlayer(V),c.push($)}return V});c.forEach(g=>{pn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function DJ(n,e,t){let i=n.get(e);if(i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>Gn(g,XL));const p=ps(h);return p.onDestroy(()=>{d.forEach(g=>Sc(g,XL)),Zo(l,t.toStyles)}),u.forEach(g=>{pn(o,g,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Kd(e.duration,e.delay)}}class qS{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Kd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(o=>TS(e,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){pn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mg(n){return n&&1===n.nodeType}function hk(n,e){const t=n.style.display;return n.style.display=e??"none",t}function pk(n,e,t,i,o){const r=[];t.forEach(l=>r.push(hk(l)));const s=[];i.forEach((l,c)=>{const d=new Map;l.forEach(u=>{const h=e.computeStyle(c,u,o);d.set(u,h),(!h||0==h.length)&&(c[kn]=SJ,s.push(c))}),n.set(c,d)});let a=0;return t.forEach(l=>hk(l,r[a++])),s}function fk(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,o=new Set(e),r=new Map;function s(a){if(!a)return i;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:o.has(c)?i:s(c),r.set(a,l),l}return e.forEach(a=>{const l=s(a);l!==i&&t.get(l).push(a)}),t}function Gn(n,e){n.classList?.add(e)}function Sc(n,e){n.classList?.remove(e)}function MJ(n,e,t){ps(t).onDone(()=>n.processLeaveNode(e))}function mk(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof XO?mk(i.players,e):e.push(i)}}function gk(n,e,t){const i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(r=>o.add(r)):e.set(n,i),t.delete(n),!0}class Ag{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,r)=>{},this._transitionEngine=new xJ(e,t,i),this._timelineEngine=new vJ(e,t,i),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(e,t,i,o,r){const s=e+"-"+o;let a=this._triggerCache[s];if(!a){const l=[],d=GS(this._driver,r,l,[]);if(l.length)throw function bX(n,e){return new S(3404,!1)}();a=function pJ(n,e,t){return new fJ(n,e,t)}(o,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,o,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if("@"==i.charAt(0)){const[r,s]=$L(i);this._timelineEngine.command(r,t,s,o)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,r){if("@"==i.charAt(0)){const[s,a]=$L(i);return this._timelineEngine.listen(s,t,a,r)}return this._transitionEngine.listen(e,t,i,o,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let FJ=(()=>{class n{constructor(t,i,o){this._element=t,this._startStyles=i,this._endStyles=o,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zo(this._element,this._initialStyles),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ea(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ea(this._element,this._endStyles),this._endStyles=null),Zo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function YS(n){let e=null;return n.forEach((t,i)=>{(function PJ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class vk{constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{"offset"!==o&&e.set(o,this._finished?i:ik(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return qL(e,t)}getParentElement(e){return IS(e)}query(e,t,i){return YL(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,o,r,s=[]){const l={duration:i,delay:o,fill:0==o?"both":"forwards"};r&&(l.easing=r);const c=new Map,d=s.filter(p=>p instanceof vk);(function jX(n,e){return 0===n||0===e})(i,o)&&d.forEach(p=>{p.currentSnapshot.forEach((g,m)=>c.set(m,g))});let u=function VX(n){return n.length?n[0]instanceof Map?n:n.map(e=>JL(e)):[]}(t).map(p=>fs(p));u=function UX(n,e,t){if(t.size&&e.length){let i=e[0],o=[];if(t.forEach((r,s)=>{i.has(s)||o.push(s),i.set(s,r)}),o.length)for(let r=1;r<e.length;r++){let s=e[r];o.forEach(a=>s.set(a,ik(n,a)))}}return e}(e,u,c);const h=function OJ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=YS(e[0]),e.length>1&&(i=YS(e[e.length-1]))):e instanceof Map&&(t=YS(e)),t||i?new FJ(n,t,i):null}(e,u);return new vk(e,u,l,h)}}let LJ=(()=>{class n extends qO{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ri.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?QO(t):t;return Ck(this._renderer,null,i,"register",[o]),new kJ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(L(td),L(ut))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class kJ extends _6{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new GJ(this._id,e,t||{},this._renderer)}}class GJ{constructor(e,t,i,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ck(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ck(n,e,t,i,o){return n.setProperty(e,`@@${t}:${i}`,o)}const bk="@.disabled";let VJ=(()=>{class n{constructor(t,i,o){this.delegate=t,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,s)=>{const a=s?.parentNode(r);a&&s.removeChild(a,r)}}createRenderer(t,i){const r=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(r);return d||(d=new _k("",r,this.engine,()=>this._rendererCache.delete(r)),this._rendererCache.set(r,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,t,d.name,d)};return i.data.animation.forEach(l),new HJ(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,o){t>=0&&t<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[s,a]=r;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(L(td),L(Ag),L(Ne))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class _k{constructor(e,t,i,o){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==bk?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class HJ extends _k{constructor(e,t,i,o,r){super(t,i,o,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==bk?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const o=function BJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.slice(1),s="";return"@"!=r.charAt(0)&&([r,s]=function jJ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(r)),this.engine.listen(this.namespaceId,o,r,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let UJ=(()=>{class n extends Ag{constructor(t,i,o,r){super(t.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(L(ut),L(OS),L(US),L(Ps))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const yk=[{provide:qO,useClass:LJ},{provide:US,useFactory:function WJ(){return new cJ}},{provide:Ag,useClass:UJ},{provide:td,useFactory:function zJ(n,e,t){return new VJ(n,e,t)},deps:[s_,Ag,Ne]}],QS=[{provide:OS,useFactory:()=>new NJ},{provide:bp,useValue:"BrowserAnimations"},...yk],wk=[{provide:OS,useClass:QL},{provide:bp,useValue:"NoopAnimations"},...yk];let $J=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?wk:QS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n}),n.\u0275inj=Fe({providers:QS,imports:[GA]}),n})();const KJ=[{provide:rO,useClass:(()=>{class n{constructor(t){this.storageService=t}intercept(t,i){return this.storageService.isLoggedIn()&&(t=t.clone({setHeaders:{Authorization:`Bearer ${this.storageService.getJwtToken()}`}})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(L(qs))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),multi:!0}];let qJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Le({type:n,bootstrap:[ZZ]}),n.\u0275inj=Fe({providers:[KJ],imports:[GA,QZ,$J,b8,B8,Z5,n6,s6,c6,w6,tK,lK,gK,jZ]}),n})();u4().bootstrapModule(qJ).catch(n=>console.error(n))}},$e=>{$e($e.s=203)}]);